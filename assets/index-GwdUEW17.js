(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var cm={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function Nw(){if(d_)return $o;d_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:c}}return $o.Fragment=e,$o.jsx=n,$o.jsxs=n,$o}var f_;function Rw(){return f_||(f_=1,cm.exports=Nw()),cm.exports}var f=Rw(),um={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function Cw(){if(m_)return Oe;m_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Q={};function B(k,re,_e){this.props=k,this.context=re,this.refs=Q,this.updater=_e||j}B.prototype.isReactComponent={},B.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function J(){}J.prototype=B.prototype;function ne(k,re,_e){this.props=k,this.context=re,this.refs=Q,this.updater=_e||j}var te=ne.prototype=new J;te.constructor=ne,F(te,B.prototype),te.isPureReactComponent=!0;var ye=Array.isArray,fe={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function O(k,re,_e,pe,oe,ke){return _e=ke.ref,{$$typeof:s,type:k,key:re,ref:_e!==void 0?_e:null,props:ke}}function I(k,re){return O(k.type,re,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function N(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(_e){return re[_e]})}var C=/\/+/g;function V(k,re){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):re.toString(36)}function R(){}function xe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(R,R):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function be(k,re,_e,pe,oe){var ke=typeof k;(ke==="undefined"||ke==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(ke){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case s:case e:Ne=!0;break;case v:return Ne=k._init,be(Ne(k._payload),re,_e,pe,oe)}}if(Ne)return oe=oe(k),Ne=pe===""?"."+V(k,0):pe,ye(oe)?(_e="",Ne!=null&&(_e=Ne.replace(C,"$&/")+"/"),be(oe,re,_e,"",function(lt){return lt})):oe!=null&&(w(oe)&&(oe=I(oe,_e+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(C,"$&/")+"/")+Ne)),re.push(oe)),1;Ne=0;var vt=pe===""?".":pe+":";if(ye(k))for(var Le=0;Le<k.length;Le++)pe=k[Le],ke=vt+V(pe,Le),Ne+=be(pe,re,_e,ke,oe);else if(Le=A(k),typeof Le=="function")for(k=Le.call(k),Le=0;!(pe=k.next()).done;)pe=pe.value,ke=vt+V(pe,Le++),Ne+=be(pe,re,_e,ke,oe);else if(ke==="object"){if(typeof k.then=="function")return be(xe(k),re,_e,pe,oe);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function se(k,re,_e){if(k==null)return k;var pe=[],oe=0;return be(k,pe,"","",function(ke){return re.call(_e,ke,oe++)}),pe}function he(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(_e){(k._status===0||k._status===-1)&&(k._status=1,k._result=_e)},function(_e){(k._status===0||k._status===-1)&&(k._status=2,k._result=_e)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return Oe.Children={map:se,forEach:function(k,re,_e){se(k,function(){re.apply(this,arguments)},_e)},count:function(k){var re=0;return se(k,function(){re++}),re},toArray:function(k){return se(k,function(re){return re})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=B,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=ne,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cloneElement=function(k,re,_e){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var pe=F({},k.props),oe=k.key,ke=void 0;if(re!=null)for(Ne in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(oe=""+re.key),re)!Ae.call(re,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&re.ref===void 0||(pe[Ne]=re[Ne]);var Ne=arguments.length-2;if(Ne===1)pe.children=_e;else if(1<Ne){for(var vt=Array(Ne),Le=0;Le<Ne;Le++)vt[Le]=arguments[Le+2];pe.children=vt}return O(k.type,oe,void 0,void 0,ke,pe)},Oe.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Oe.createElement=function(k,re,_e){var pe,oe={},ke=null;if(re!=null)for(pe in re.key!==void 0&&(ke=""+re.key),re)Ae.call(re,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(oe[pe]=re[pe]);var Ne=arguments.length-2;if(Ne===1)oe.children=_e;else if(1<Ne){for(var vt=Array(Ne),Le=0;Le<Ne;Le++)vt[Le]=arguments[Le+2];oe.children=vt}if(k&&k.defaultProps)for(pe in Ne=k.defaultProps,Ne)oe[pe]===void 0&&(oe[pe]=Ne[pe]);return O(k,ke,void 0,void 0,null,oe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:p,render:k}},Oe.isValidElement=w,Oe.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:he}},Oe.memo=function(k,re){return{$$typeof:y,type:k,compare:re===void 0?null:re}},Oe.startTransition=function(k){var re=fe.T,_e={};fe.T=_e;try{var pe=k(),oe=fe.S;oe!==null&&oe(_e,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(He,ae)}catch(ke){ae(ke)}finally{fe.T=re}},Oe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Oe.use=function(k){return fe.H.use(k)},Oe.useActionState=function(k,re,_e){return fe.H.useActionState(k,re,_e)},Oe.useCallback=function(k,re){return fe.H.useCallback(k,re)},Oe.useContext=function(k){return fe.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,re){return fe.H.useDeferredValue(k,re)},Oe.useEffect=function(k,re){return fe.H.useEffect(k,re)},Oe.useId=function(){return fe.H.useId()},Oe.useImperativeHandle=function(k,re,_e){return fe.H.useImperativeHandle(k,re,_e)},Oe.useInsertionEffect=function(k,re){return fe.H.useInsertionEffect(k,re)},Oe.useLayoutEffect=function(k,re){return fe.H.useLayoutEffect(k,re)},Oe.useMemo=function(k,re){return fe.H.useMemo(k,re)},Oe.useOptimistic=function(k,re){return fe.H.useOptimistic(k,re)},Oe.useReducer=function(k,re,_e){return fe.H.useReducer(k,re,_e)},Oe.useRef=function(k){return fe.H.useRef(k)},Oe.useState=function(k){return fe.H.useState(k)},Oe.useSyncExternalStore=function(k,re,_e){return fe.H.useSyncExternalStore(k,re,_e)},Oe.useTransition=function(){return fe.H.useTransition()},Oe.version="19.0.0",Oe}var p_;function lp(){return p_||(p_=1,um.exports=Cw()),um.exports}var L=lp(),hm={exports:{}},Qo={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function Iw(){return g_||(g_=1,(function(s){function e(se,he){var ae=se.length;se.push(he);e:for(;0<ae;){var He=ae-1>>>1,k=se[He];if(0<l(k,he))se[He]=he,se[ae]=k,ae=He;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var he=se[0],ae=se.pop();if(ae!==he){se[0]=ae;e:for(var He=0,k=se.length,re=k>>>1;He<re;){var _e=2*(He+1)-1,pe=se[_e],oe=_e+1,ke=se[oe];if(0>l(pe,ae))oe<k&&0>l(ke,pe)?(se[He]=ke,se[oe]=ae,He=oe):(se[He]=pe,se[_e]=ae,He=_e);else if(oe<k&&0>l(ke,ae))se[He]=ke,se[oe]=ae,He=oe;else break e}}return he}function l(se,he){var ae=se.sortIndex-he.sortIndex;return ae!==0?ae:se.id-he.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],v=1,E=null,A=3,j=!1,F=!1,Q=!1,B=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function te(se){for(var he=n(y);he!==null;){if(he.callback===null)i(y);else if(he.startTime<=se)i(y),he.sortIndex=he.expirationTime,e(g,he);else break;he=n(y)}}function ye(se){if(Q=!1,te(se),!F)if(n(g)!==null)F=!0,xe();else{var he=n(y);he!==null&&be(ye,he.startTime-se)}}var fe=!1,Ae=-1,O=5,I=-1;function w(){return!(s.unstable_now()-I<O)}function N(){if(fe){var se=s.unstable_now();I=se;var he=!0;try{e:{F=!1,Q&&(Q=!1,J(Ae),Ae=-1),j=!0;var ae=A;try{t:{for(te(se),E=n(g);E!==null&&!(E.expirationTime>se&&w());){var He=E.callback;if(typeof He=="function"){E.callback=null,A=E.priorityLevel;var k=He(E.expirationTime<=se);if(se=s.unstable_now(),typeof k=="function"){E.callback=k,te(se),he=!0;break t}E===n(g)&&i(g),te(se)}else i(g);E=n(g)}if(E!==null)he=!0;else{var re=n(y);re!==null&&be(ye,re.startTime-se),he=!1}}break e}finally{E=null,A=ae,j=!1}he=void 0}}finally{he?C():fe=!1}}}var C;if(typeof ne=="function")C=function(){ne(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,R=V.port2;V.port1.onmessage=N,C=function(){R.postMessage(null)}}else C=function(){B(N,0)};function xe(){fe||(fe=!0,C())}function be(se,he){Ae=B(function(){se(s.unstable_now())},he)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(se){se.callback=null},s.unstable_continueExecution=function(){F||j||(F=!0,xe())},s.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_getFirstCallbackNode=function(){return n(g)},s.unstable_next=function(se){switch(A){case 1:case 2:case 3:var he=3;break;default:he=A}var ae=A;A=he;try{return se()}finally{A=ae}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=A;A=se;try{return he()}finally{A=ae}},s.unstable_scheduleCallback=function(se,he,ae){var He=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?He+ae:He):ae=He,se){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ae+k,se={id:v++,callback:he,priorityLevel:se,startTime:ae,expirationTime:k,sortIndex:-1},ae>He?(se.sortIndex=ae,e(y,se),n(g)===null&&se===n(y)&&(Q?(J(Ae),Ae=-1):Q=!0,be(ye,ae-He))):(se.sortIndex=k,e(g,se),F||j||(F=!0,xe())),se},s.unstable_shouldYield=w,s.unstable_wrapCallback=function(se){var he=A;return function(){var ae=A;A=he;try{return se.apply(this,arguments)}finally{A=ae}}}})(fm)),fm}var y_;function Dw(){return y_||(y_=1,dm.exports=Iw()),dm.exports}var mm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function jw(){if(__)return un;__=1;var s=lp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,v)},un.flushSync=function(g){var y=d.T,v=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=v,i.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,E=p(v,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:j}):v==="script"&&i.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,E=p(v,y.crossOrigin);i.d.L(g,v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},un.requestFormReset=function(g){i.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,v){return d.H.useFormState(g,y,v)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.0.0",un}var v_;function Ow(){if(v_)return mm.exports;v_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mm.exports=jw(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function kw(){if(b_)return Qo;b_=1;var s=Dw(),e=lp(),n=Ow();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ye=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ae(t){return t===null||typeof t!="object"?null:(t=fe&&t[fe]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case p:return"Portal";case v:return"Profiler";case y:return"StrictMode";case Q:return"Suspense";case B:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return r=t.displayName||null,r!==null?r:I(t.type)||"Memo";case ne:r=t._payload,t=t._init;try{return I(t(r))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,C,V;function R(t){if(C===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C+t+V}var xe=!1;function be(t,r){if(!t||xe)return"";xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){G=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var D=b.split(`
`),P=T.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===P.length)for(o=D.length-1,h=P.length-1;1<=o&&0<=h&&D[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==P[h]){var Y=`
`+D[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{xe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?R(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return t=be(t.type,!1),t;case 11:return t=be(t.type.render,!1),t;case 1:return t=be(t.type,!0),t;default:return""}}function he(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ae(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function He(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function k(t){if(ae(t)!==t)throw Error(i(188))}function re(t){var r=t.alternate;if(!r){if(r=ae(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,o=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return k(h),t;if(m===o)return k(h),r;m=m.sibling}throw Error(i(188))}if(a.return!==o.return)a=h,o=m;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,o=m;break}if(T===o){b=!0,o=h,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,o=h;break}if(T===o){b=!0,o=m,a=h;break}T=T.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function _e(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_e(t),r!==null)return r;t=t.sibling}return null}var pe=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ne=[],vt=-1;function Le(t){return{current:t}}function lt(t){0>vt||(t.current=Ne[vt],Ne[vt]=null,vt--)}function Ze(t,r){vt++,Ne[vt]=t.current,t.current=r}var bn=Le(null),U=Le(null),ie=Le(null),Ee=Le(null);function bt(t,r){switch(Ze(ie,r),Ze(U,t),Ze(bn,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?By(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=By(t),r=qy(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}lt(bn),Ze(bn,r)}function mt(){lt(bn),lt(U),lt(ie)}function Rn(t){t.memoizedState!==null&&Ze(Ee,t);var r=bn.current,a=qy(r,t.type);r!==a&&(Ze(U,t),Ze(bn,a))}function qr(t){U.current===t&&(lt(bn),lt(U)),Ee.current===t&&(lt(Ee),Bo._currentValue=ke)}var xt=Object.prototype.hasOwnProperty,Et=s.unstable_scheduleCallback,mr=s.unstable_cancelCallback,Mc=s.unstable_shouldYield,xa=s.unstable_requestPaint,xn=s.unstable_now,ws=s.unstable_getCurrentPriorityLevel,Ni=s.unstable_ImmediatePriority,At=s.unstable_UserBlockingPriority,qt=s.unstable_NormalPriority,md=s.unstable_LowPriority,Vc=s.unstable_IdlePriority,Pc=s.log,Lc=s.unstable_setDisableYieldValue,Jn=null,Xt=null;function Pl(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}function an(t){if(typeof Pc=="function"&&Lc(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Jn,t)}catch{}}var ln=Math.clz32?Math.clz32:Ri,Ea=Math.log,Uc=Math.LN2;function Ri(t){return t>>>=0,t===0?32:31-(Ea(t)/Uc|0)|0}var Ci=128,Nt=4194304;function pr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,r){var a=t.pendingLanes;if(a===0)return 0;var o=0,h=t.suspendedLanes,m=t.pingedLanes,b=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?o=pr(a):(m&=T,m!==0?o=pr(m):t||(b=T&~b,b!==0&&(o=pr(b))))):(T=a&~h,T!==0?o=pr(T):m!==0?o=pr(m):t||(b=a&~b,b!==0&&(o=pr(b)))),o===0?0:r!==0&&r!==o&&(r&h)===0&&(h=o&-o,b=r&-r,h>=b||h===32&&(b&4194176)!==0)?r:o}function er(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function pd(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var t=Ci;return Ci<<=1,(Ci&4194176)===0&&(Ci=128),t}function Hr(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Ll(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ii(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wa(t,r,a,o,h,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(a=b&~a;0<a;){var Y=31-ln(a),ee=1<<Y;T[Y]=0,D[Y]=-1;var G=P[Y];if(G!==null)for(P[Y]=null,Y=0;Y<G.length;Y++){var K=G[Y];K!==null&&(K.lane&=-536870913)}a&=~ee}o!==0&&Ul(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function Ul(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-ln(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function zl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-ln(a),h=1<<o;h&r|t[o]&r&&(t[o]|=r),a&=~h}}function Ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ts(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function gd(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Wt=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Wt,Zt="__reactProps$"+Wt,yr="__reactContainer$"+Wt,Di="__reactEvents$"+Wt,Bc="__reactListeners$"+Wt,yd="__reactHandles$"+Wt,Bl="__reactResources$"+Wt,ji="__reactMarker$"+Wt;function Ss(t){delete t[Mt],delete t[Zt],delete t[Di],delete t[Bc],delete t[yd]}function _r(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[yr]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Gy(t);t!==null;){if(a=t[Mt])return a;t=Gy(t)}return r}t=a,a=t.parentNode}return null}function vr(t){if(t=t[Mt]||t[yr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function tr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function En(t){var r=t[Bl];return r||(r=t[Bl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[ji]=!0}var qc=new Set,ql={};function br(t,r){Fr(t,r),Fr(t+"Capture",r)}function Fr(t,r){for(ql[t]=r,t=0;t<r.length;t++)qc.add(r[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Gl={};function Hc(t){return xt.call(Gl,t)?!0:xt.call(Fl,t)?!1:Hl.test(t)?Gl[t]=!0:(Fl[t]=!0,!1)}function Sa(t,r,a){if(Hc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function In(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(t){var r=As(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){t._valueTracker||(t._valueTracker=$l(t))}function Oi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function wn(t){return t.replace(ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Aa(t,r,a,o,h,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ht(r)):t.value!==""+Ht(r)&&(t.value=""+Ht(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Ql(t,b,Ht(r)):a!=null?Ql(t,b,Ht(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ht(T):t.removeAttribute("name")}function Fc(t,r,a,o,h,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+Ht(a):"",r=r!=null?""+Ht(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ql(t,r,a){r==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,r,a,o){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Gc(t,r,a){if(r!=null&&(r=""+Ht(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ht(a):""}function Rs(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(pe(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Ht(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Tn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||$c.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Yl(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&a[h]!==o&&Kl(t,h,o)}else for(var m in r)r.hasOwnProperty(m)&&Kl(t,m,r[m])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xl=null;function Wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pn=null,Is=null;function Ca(t){var r=vr(t);if(r&&(t=r.stateNode)){var a=t[Zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var h=o[Zt]||null;if(!h)throw Error(i(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&Oi(o)}break e;case"textarea":Gc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ns(t,!!a.multiple,r,!1)}}}var Ds=!1;function Zl(t,r,a){if(Ds)return t(r,a);Ds=!0;try{var o=t(r);return o}finally{if(Ds=!1,(pn!==null||Is!==null)&&(ku(),pn&&(r=pn,t=Is,Is=pn=null,Ca(r),t)))for(r=0;r<t.length;r++)Ca(t[r])}}function nr(t,r){var a=t.stateNode;if(a===null)return null;var o=a[Zt]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Gr=!1;if(Cn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Gr=!1}var Un=null,rt=null,Ia=null;function Kc(){if(Ia)return Ia;var t,r=rt,a=r.length,o,h="value"in Un?Un.value:Un.textContent,m=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(o=1;o<=b&&r[a-o]===h[m-o];o++);return Ia=h.slice(t,1<o?1-o:void 0)}function Mi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Jl(){return!1}function Vt(t){function r(a,o,h,m,b){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vi:Jl,this.isPropagationStopped=Jl,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),r}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Vt(on),Li=N({},on,{view:0,detail:0}),Ui=Vt(Li),Da,zi,Er,Bi=N({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(Da=t.screenX-Er.screenX,zi=t.screenY-Er.screenY):zi=Da=0,Er=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:zi}}),qi=Vt(Bi),_d=N({},Bi,{dataTransfer:0}),Yc=Vt(_d),Hi=N({},Li,{relatedTarget:0}),ja=Vt(Hi),Xc=N({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=Vt(Xc),to=N({},on,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wc=Vt(to),Oa=N({},on,{data:0}),no=Vt(Oa),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Jc[t])?!!r[t]:!1}function ka(){return eu}var tu=N({},Li,{key:function(t){if(t.key){var r=Zc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$r[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?Mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=Vt(tu),gn=N({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ro=Vt(gn),nu=N({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Os=Vt(nu),u=N({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=Vt(u),x=N({},Bi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Vt(x),q=N({},on,{newState:0,oldState:0}),$=Vt(q),le=[9,13,27,32],Ce=Cn&&"CompositionEvent"in window,ot=null;Cn&&"documentMode"in document&&(ot=document.documentMode);var We=Cn&&"TextEvent"in window&&!ot,wt=Cn&&(!Ce||ot&&8<ot&&11>=ot),Dn=" ",wr=!1;function rr(t,r){switch(t){case"keyup":return le.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ir=!1;function so(t,r){switch(t){case"compositionend":return sr(r);case"keypress":return r.which!==32?null:(wr=!0,Dn);case"textInput":return t=r.data,t===Dn&&wr?null:t;default:return null}}function e1(t,r){if(ir)return t==="compositionend"||!Ce&&rr(t,r)?(t=Kc(),Ia=rt=Un=null,ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wt&&r.locale!=="ko"?null:r.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!t1[t.type]:r==="textarea"}function ug(t,r,a,o){pn?Is?Is.push(o):Is=[o]:pn=o,r=Uu(r,"onChange"),0<r.length&&(a=new Pi("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var io=null,ao=null;function n1(t){Vy(t,0)}function ru(t){var r=tr(t);if(Oi(r))return t}function hg(t,r){if(t==="change")return r}var dg=!1;if(Cn){var vd;if(Cn){var bd="oninput"in document;if(!bd){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),bd=typeof fg.oninput=="function"}vd=bd}else vd=!1;dg=vd&&(!document.documentMode||9<document.documentMode)}function mg(){io&&(io.detachEvent("onpropertychange",pg),ao=io=null)}function pg(t){if(t.propertyName==="value"&&ru(ao)){var r=[];ug(r,ao,t,Wl(t)),Zl(n1,r)}}function r1(t,r,a){t==="focusin"?(mg(),io=r,ao=a,io.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function s1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(ao)}function i1(t,r){if(t==="click")return ru(r)}function a1(t,r){if(t==="input"||t==="change")return ru(r)}function l1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:l1;function lo(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!xt.call(r,h)||!jn(t[h],r[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,r){var a=gg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_g(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xr(t.document)}return r}function xd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function o1(t,r){var a=vg(r);r=t.focusedElem;var o=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&_g(r.ownerDocument.documentElement,r)){if(o!==null&&xd(r)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,m=Math.min(o.start,h);o=o.end===void 0?m:Math.min(o.end,h),!a.extend&&m>o&&(h=o,o=m,m=h),h=yg(r,m);var b=yg(r,o);h&&b&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==b.node||a.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),m>o?(a.addRange(t),a.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var c1=Cn&&"documentMode"in document&&11>=document.documentMode,Va=null,Ed=null,oo=null,wd=!1;function bg(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wd||Va==null||Va!==xr(o)||(o=Va,"selectionStart"in o&&xd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&lo(oo,o)||(oo=o,o=Uu(Ed,"onSelect"),0<o.length&&(r=new Pi("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Va)))}function Fi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Pa={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},Td={},xg={};Cn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Gi(t){if(Td[t])return Td[t];if(!Pa[t])return t;var r=Pa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in xg)return Td[t]=r[a];return t}var Eg=Gi("animationend"),wg=Gi("animationiteration"),Tg=Gi("animationstart"),u1=Gi("transitionrun"),h1=Gi("transitionstart"),d1=Gi("transitioncancel"),Sg=Gi("transitionend"),Ag=new Map,Ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ar(t,r){Ag.set(t,r),br(r,[t])}var zn=[],La=0,Sd=0;function su(){for(var t=La,r=Sd=La=0;r<t;){var a=zn[r];zn[r++]=null;var o=zn[r];zn[r++]=null;var h=zn[r];zn[r++]=null;var m=zn[r];if(zn[r++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}m!==0&&Rg(a,h,m)}}function iu(t,r,a,o){zn[La++]=t,zn[La++]=r,zn[La++]=a,zn[La++]=o,Sd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ad(t,r,a,o){return iu(t,r,a,o),au(t)}function ks(t,r){return iu(t,null,null,r),au(t)}function Rg(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;h&&r!==null&&t.tag===3&&(m=t.stateNode,h=31-ln(a),m=m.hiddenUpdates,t=m[h],t===null?m[h]=[r]:t.push(r),r.lane=a|536870912)}function au(t){if(50<ko)throw ko=0,Of=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={},Cg=new WeakMap;function Bn(t,r){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:he(r)},Cg.set(t,r),r)}return{value:t,source:r,stack:he(r)}}var za=[],Ba=0,lu=null,ou=0,qn=[],Hn=0,$i=null,Qr=1,Kr="";function Qi(t,r){za[Ba++]=ou,za[Ba++]=lu,lu=t,ou=r}function Ig(t,r,a){qn[Hn++]=Qr,qn[Hn++]=Kr,qn[Hn++]=$i,$i=t;var o=Qr;t=Kr;var h=32-ln(o)-1;o&=~(1<<h),a+=1;var m=32-ln(r)+h;if(30<m){var b=h-h%5;m=(o&(1<<b)-1).toString(32),o>>=b,h-=b,Qr=1<<32-ln(r)+h|a<<h|o,Kr=m+t}else Qr=1<<m|a<<h|o,Kr=t}function Nd(t){t.return!==null&&(Qi(t,1),Ig(t,1,0))}function Rd(t){for(;t===lu;)lu=za[--Ba],za[Ba]=null,ou=za[--Ba],za[Ba]=null;for(;t===$i;)$i=qn[--Hn],qn[Hn]=null,Kr=qn[--Hn],qn[Hn]=null,Qr=qn[--Hn],qn[Hn]=null}var yn=null,Jt=null,Qe=!1,lr=null,Tr=!1,Cd=Error(i(519));function Ki(t){var r=Error(i(418,""));throw ho(Bn(r,t)),Cd}function Dg(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[Mt]=t,r[Zt]=o,a){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(a=0;a<Vo.length;a++)Fe(Vo[a],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),Fc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ye(r);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),Rs(r,o.value,o.defaultValue,o.children),Ye(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||zy(r.textContent,a)?(o.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),o.onScroll!=null&&Fe("scroll",r),o.onScrollEnd!=null&&Fe("scrollend",r),o.onClick!=null&&(r.onclick=zu),r=!0):r=!1,r||Ki(t)}function jg(t){for(yn=t.return;yn;)switch(yn.tag){case 3:case 27:Tr=!0;return;case 5:case 13:Tr=!1;return;default:yn=yn.return}}function co(t){if(t!==yn)return!1;if(!Qe)return jg(t),Qe=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xf(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Jt&&Ki(t),jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Jt=cr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Jt=null}}else Jt=yn?cr(t.stateNode.nextSibling):null;return!0}function uo(){Jt=yn=null,Qe=!1}function ho(t){lr===null?lr=[t]:lr.push(t)}var fo=Error(i(460)),Og=Error(i(474)),Id={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cu(){}function Mg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(cu,cu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===fo?Error(i(483)):t;default:if(typeof r.status=="string")r.then(cu,cu);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===fo?Error(i(483)):t}throw mo=r,fo}}var mo=null;function Vg(){if(mo===null)throw Error(i(459));var t=mo;return mo=null,t}var qa=null,po=0;function uu(t){var r=po;return po+=1,qa===null&&(qa=[]),Mg(qa,t,r)}function go(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hu(t,r){throw r.$$typeof===c?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Pg(t){var r=t._init;return r(t._payload)}function Lg(t){function r(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)r(z,M),M=M.sibling;return null}function o(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=$s(z,M),z.index=0,z.sibling=null,z}function m(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=33554434,M):H):(z.flags|=33554434,M)):(z.flags|=1048576,M)}function b(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function T(z,M,H,W){return M===null||M.tag!==6?(M=Sf(H,z.mode,W),M.return=z,M):(M=h(M,H),M.return=z,M)}function D(z,M,H,W){var de=H.type;return de===g?Y(z,M,H.props.children,W,H.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Pg(de)===M.type)?(M=h(M,H.props),go(M,H),M.return=z,M):(M=Cu(H.type,H.key,H.props,null,z.mode,W),go(M,H),M.return=z,M)}function P(z,M,H,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Af(H,z.mode,W),M.return=z,M):(M=h(M,H.children||[]),M.return=z,M)}function Y(z,M,H,W,de){return M===null||M.tag!==7?(M=sa(H,z.mode,W,de),M.return=z,M):(M=h(M,H),M.return=z,M)}function ee(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case d:return H=Cu(M.type,M.key,M.props,null,z.mode,H),go(H,M),H.return=z,H;case p:return M=Af(M,z.mode,H),M.return=z,M;case ne:var W=M._init;return M=W(M._payload),ee(z,M,H)}if(pe(M)||Ae(M))return M=sa(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return ee(z,uu(M),H);if(M.$$typeof===j)return ee(z,Au(z,M),H);hu(z,M)}return null}function G(z,M,H,W){var de=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:T(z,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case d:return H.key===de?D(z,M,H,W):null;case p:return H.key===de?P(z,M,H,W):null;case ne:return de=H._init,H=de(H._payload),G(z,M,H,W)}if(pe(H)||Ae(H))return de!==null?null:Y(z,M,H,W,null);if(typeof H.then=="function")return G(z,M,uu(H),W);if(H.$$typeof===j)return G(z,M,Au(z,H),W);hu(z,H)}return null}function K(z,M,H,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,T(M,z,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case d:return z=z.get(W.key===null?H:W.key)||null,D(M,z,W,de);case p:return z=z.get(W.key===null?H:W.key)||null,P(M,z,W,de);case ne:var Ve=W._init;return W=Ve(W._payload),K(z,M,H,W,de)}if(pe(W)||Ae(W))return z=z.get(H)||null,Y(M,z,W,de,null);if(typeof W.then=="function")return K(z,M,H,uu(W),de);if(W.$$typeof===j)return K(z,M,H,Au(M,W),de);hu(M,W)}return null}function me(z,M,H,W){for(var de=null,Ve=null,ge=M,we=M=0,$t=null;ge!==null&&we<H.length;we++){ge.index>we?($t=ge,ge=null):$t=ge.sibling;var Ke=G(z,ge,H[we],W);if(Ke===null){ge===null&&(ge=$t);break}t&&ge&&Ke.alternate===null&&r(z,ge),M=m(Ke,M,we),Ve===null?de=Ke:Ve.sibling=Ke,Ve=Ke,ge=$t}if(we===H.length)return a(z,ge),Qe&&Qi(z,we),de;if(ge===null){for(;we<H.length;we++)ge=ee(z,H[we],W),ge!==null&&(M=m(ge,M,we),Ve===null?de=ge:Ve.sibling=ge,Ve=ge);return Qe&&Qi(z,we),de}for(ge=o(ge);we<H.length;we++)$t=K(ge,z,we,H[we],W),$t!==null&&(t&&$t.alternate!==null&&ge.delete($t.key===null?we:$t.key),M=m($t,M,we),Ve===null?de=$t:Ve.sibling=$t,Ve=$t);return t&&ge.forEach(function(Js){return r(z,Js)}),Qe&&Qi(z,we),de}function Ie(z,M,H,W){if(H==null)throw Error(i(151));for(var de=null,Ve=null,ge=M,we=M=0,$t=null,Ke=H.next();ge!==null&&!Ke.done;we++,Ke=H.next()){ge.index>we?($t=ge,ge=null):$t=ge.sibling;var Js=G(z,ge,Ke.value,W);if(Js===null){ge===null&&(ge=$t);break}t&&ge&&Js.alternate===null&&r(z,ge),M=m(Js,M,we),Ve===null?de=Js:Ve.sibling=Js,Ve=Js,ge=$t}if(Ke.done)return a(z,ge),Qe&&Qi(z,we),de;if(ge===null){for(;!Ke.done;we++,Ke=H.next())Ke=ee(z,Ke.value,W),Ke!==null&&(M=m(Ke,M,we),Ve===null?de=Ke:Ve.sibling=Ke,Ve=Ke);return Qe&&Qi(z,we),de}for(ge=o(ge);!Ke.done;we++,Ke=H.next())Ke=K(ge,z,we,Ke.value,W),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?we:Ke.key),M=m(Ke,M,we),Ve===null?de=Ke:Ve.sibling=Ke,Ve=Ke);return t&&ge.forEach(function(Aw){return r(z,Aw)}),Qe&&Qi(z,we),de}function _t(z,M,H,W){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case d:e:{for(var de=H.key;M!==null;){if(M.key===de){if(de=H.type,de===g){if(M.tag===7){a(z,M.sibling),W=h(M,H.props.children),W.return=z,z=W;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Pg(de)===M.type){a(z,M.sibling),W=h(M,H.props),go(W,H),W.return=z,z=W;break e}a(z,M);break}else r(z,M);M=M.sibling}H.type===g?(W=sa(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=Cu(H.type,H.key,H.props,null,z.mode,W),go(W,H),W.return=z,z=W)}return b(z);case p:e:{for(de=H.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),W=h(M,H.children||[]),W.return=z,z=W;break e}else{a(z,M);break}else r(z,M);M=M.sibling}W=Af(H,z.mode,W),W.return=z,z=W}return b(z);case ne:return de=H._init,H=de(H._payload),_t(z,M,H,W)}if(pe(H))return me(z,M,H,W);if(Ae(H)){if(de=Ae(H),typeof de!="function")throw Error(i(150));return H=de.call(H),Ie(z,M,H,W)}if(typeof H.then=="function")return _t(z,M,uu(H),W);if(H.$$typeof===j)return _t(z,M,Au(z,H),W);hu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),W=h(M,H),W.return=z,z=W):(a(z,M),W=Sf(H,z.mode,W),W.return=z,z=W),b(z)):a(z,M)}return function(z,M,H,W){try{po=0;var de=_t(z,M,H,W);return qa=null,de}catch(ge){if(ge===fo)throw ge;var Ve=Qn(29,ge,null,z.mode);return Ve.lanes=W,Ve.return=z,Ve}finally{}}}var Yi=Lg(!0),Ug=Lg(!1),Ha=Le(null),du=Le(0);function zg(t,r){t=is,Ze(du,t),Ze(Ha,r),is=t|r.baseLanes}function Dd(){Ze(du,is),Ze(Ha,Ha.current)}function jd(){is=du.current,lt(Ha),lt(du)}var Fn=Le(null),Sr=null;function Ms(t){var r=t.alternate;Ze(Pt,Pt.current&1),Ze(Fn,t),Sr===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(Sr=t)}function Bg(t){if(t.tag===22){if(Ze(Pt,Pt.current),Ze(Fn,t),Sr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Sr=t)}}else Vs()}function Vs(){Ze(Pt,Pt.current),Ze(Fn,Fn.current)}function Yr(t){lt(Fn),Sr===t&&(Sr=null),lt(Pt)}var Pt=Le(0);function fu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var f1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},m1=s.unstable_scheduleCallback,p1=s.unstable_NormalPriority,Lt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new f1,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&m1(p1,function(){t.controller.abort()})}var _o=null,kd=0,Fa=0,Ga=null;function g1(t,r){if(_o===null){var a=_o=[];kd=0,Fa=Bf(),Ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kd++,r.then(qg,qg),r}function qg(){if(--kd===0&&_o!==null){Ga!==null&&(Ga.status="fulfilled");var t=_o;_o=null,Fa=0,Ga=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function y1(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Hg=w.S;w.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&g1(t,r),Hg!==null&&Hg(t,r)};var Xi=Le(null);function Md(){var t=Xi.current;return t!==null?t:st.pooledCache}function mu(t,r){r===null?Ze(Xi,Xi.current):Ze(Xi,r.pool)}function Fg(){var t=Md();return t===null?null:{parent:Lt._currentValue,pool:t}}var Ps=0,Me=null,Je=null,Ct=null,pu=!1,$a=!1,Wi=!1,gu=0,vo=0,Qa=null,_1=0;function Tt(){throw Error(i(321))}function Vd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!jn(t[a],r[a]))return!1;return!0}function Pd(t,r,a,o,h,m){return Ps=m,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,w.H=t===null||t.memoizedState===null?Zi:Ls,Wi=!1,m=a(o,h),Wi=!1,$a&&(m=$g(r,a,o,h)),Gg(t),m}function Gg(t){w.H=Ar;var r=Je!==null&&Je.next!==null;if(Ps=0,Ct=Je=Me=null,pu=!1,vo=0,Qa=null,r)throw Error(i(300));t===null||Ft||(t=t.dependencies,t!==null&&Su(t)&&(Ft=!0))}function $g(t,r,a,o){Me=t;var h=0;do{if($a&&(Qa=null),vo=0,$a=!1,25<=h)throw Error(i(301));if(h+=1,Ct=Je=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=Ji,m=r(a,o)}while($a);return m}function v1(){var t=w.H,r=t.useState()[0];return r=typeof r.then=="function"?bo(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Me.flags|=1024),r}function Ld(){var t=gu!==0;return gu=0,t}function Ud(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function zd(t){if(pu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pu=!1}Ps=0,Ct=Je=Me=null,$a=!1,vo=gu=0,Qa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Me.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function It(){if(Je===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=Ct===null?Me.memoizedState:Ct.next;if(r!==null)Ct=r,Je=t;else{if(t===null)throw Me.alternate===null?Error(i(467)):Error(i(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Me.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}var yu;yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bo(t){var r=vo;return vo+=1,Qa===null&&(Qa=[]),t=Mg(Qa,t,r),r=Me,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,w.H=r===null||r.memoizedState===null?Zi:Ls),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bo(t);if(t.$$typeof===j)return cn(t)}throw Error(i(438,String(t)))}function Bd(t){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yu(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=ye;return r.index++,a}function Xr(t,r){return typeof r=="function"?r(t):r}function vu(t){var r=It();return qd(r,Je,t)}function qd(t,r,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}r.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var T=b=null,D=null,P=r,Y=!1;do{var ee=P.lane&-536870913;if(ee!==P.lane?(Ge&ee)===ee:(Ps&ee)===ee){var G=P.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ee===Fa&&(Y=!0);else if((Ps&G)===G){P=P.next,G===Fa&&(Y=!0);continue}else ee={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=ee,b=m):D=D.next=ee,Me.lanes|=G,Qs|=G;ee=P.action,Wi&&a(m,ee),m=P.hasEagerState?P.eagerState:a(m,ee)}else G={lane:ee,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=G,b=m):D=D.next=G,Me.lanes|=ee,Qs|=ee;P=P.next}while(P!==null&&P!==r);if(D===null?b=m:D.next=T,!jn(m,t.memoizedState)&&(Ft=!0,Y&&(a=Ga,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=D,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Hd(t){var r=It(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);jn(m,r.memoizedState)||(Ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,o]}function Qg(t,r,a){var o=Me,h=It(),m=Qe;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var b=!jn((Je||h).memoizedState,a);if(b&&(h.memoizedState=a,Ft=!0),h=h.queue,$d(Xg.bind(null,o,h,t),[t]),h.getSnapshot!==r||b||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Ka(9,Yg.bind(null,o,h,a,r),{destroy:void 0},null),st===null)throw Error(i(349));m||(Ps&60)!==0||Kg(o,r,a)}return a}function Kg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=yu(),Me.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Yg(t,r,a,o){r.value=a,r.getSnapshot=o,Wg(r)&&Zg(t)}function Xg(t,r,a){return a(function(){Wg(r)&&Zg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!jn(t,a)}catch{return!0}}function Zg(t){var r=ks(t,2);r!==null&&_n(r,t,2)}function Fd(t){var r=Sn();if(typeof t=="function"){var a=t;if(t=a(),Wi){an(!0);try{a()}finally{an(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},r}function Jg(t,r,a,o){return t.baseState=a,qd(t,Je,typeof o=="function"?o:Xr)}function b1(t,r,a,o,h){if(Eu(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};w.T!==null?a(!0):m.isTransition=!1,o(m),a=r.pending,a===null?(m.next=r.pending=m,e0(r,m)):(m.next=a.next,r.pending=a.next=m)}}function e0(t,r){var a=r.action,o=r.payload,h=t.state;if(r.isTransition){var m=w.T,b={};w.T=b;try{var T=a(h,o),D=w.S;D!==null&&D(b,T),t0(t,r,T)}catch(P){Gd(t,r,P)}finally{w.T=m}}else try{m=a(h,o),t0(t,r,m)}catch(P){Gd(t,r,P)}}function t0(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){n0(t,r,o)},function(o){return Gd(t,r,o)}):n0(t,r,a)}function n0(t,r,a){r.status="fulfilled",r.value=a,r0(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,e0(t,a)))}function Gd(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,r0(r),r=r.next;while(r!==o)}t.action=null}function r0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function s0(t,r){return r}function i0(t,r){if(Qe){var a=st.formState;if(a!==null){e:{var o=Me;if(Qe){if(Jt){t:{for(var h=Jt,m=Tr;h.nodeType!==8;){if(!m){h=null;break t}if(h=cr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Jt=cr(h.nextSibling),o=h.data==="F!";break e}}Ki(o)}o=!1}o&&(r=a[0])}}return a=Sn(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s0,lastRenderedState:r},a.queue=o,a=w0.bind(null,Me,o),o.dispatch=a,o=Fd(!1),m=Wd.bind(null,Me,!1,o.queue),o=Sn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,a=b1.bind(null,Me,h,m,a),h.dispatch=a,o.memoizedState=t,[r,a,!1]}function a0(t){var r=It();return l0(r,Je,t)}function l0(t,r,a){r=qd(t,r,s0)[0],t=vu(Xr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?bo(r):r;var o=It(),h=o.queue,m=h.dispatch;return a!==o.memoizedState&&(Me.flags|=2048,Ka(9,x1.bind(null,h,a),{destroy:void 0},null)),[r,m,t]}function x1(t,r){t.action=r}function o0(t){var r=It(),a=Je;if(a!==null)return l0(r,a,t);It(),r=r.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Ka(t,r,a,o){return t={tag:t,create:r,inst:a,deps:o,next:null},r=Me.updateQueue,r===null&&(r=yu(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function c0(){return It().memoizedState}function bu(t,r,a,o){var h=Sn();Me.flags|=t,h.memoizedState=Ka(1|r,a,{destroy:void 0},o===void 0?null:o)}function xu(t,r,a,o){var h=It();o=o===void 0?null:o;var m=h.memoizedState.inst;Je!==null&&o!==null&&Vd(o,Je.memoizedState.deps)?h.memoizedState=Ka(r,a,m,o):(Me.flags|=t,h.memoizedState=Ka(1|r,a,m,o))}function u0(t,r){bu(8390656,8,t,r)}function $d(t,r){xu(2048,8,t,r)}function h0(t,r){return xu(4,2,t,r)}function d0(t,r){return xu(4,4,t,r)}function f0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function m0(t,r,a){a=a!=null?a.concat([t]):null,xu(4,4,f0.bind(null,r,t),a)}function Qd(){}function p0(t,r){var a=It();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Vd(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function g0(t,r){var a=It();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Vd(r,o[1]))return o[0];if(o=t(),Wi){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[o,r],o}function Kd(t,r,a){return a===void 0||(Ps&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=_y(),Me.lanes|=t,Qs|=t,a)}function y0(t,r,a,o){return jn(a,r)?a:Ha.current!==null?(t=Kd(t,a,o),jn(t,r)||(Ft=!0),t):(Ps&42)===0?(Ft=!0,t.memoizedState=a):(t=_y(),Me.lanes|=t,Qs|=t,r)}function _0(t,r,a,o,h){var m=oe.p;oe.p=m!==0&&8>m?m:8;var b=w.T,T={};w.T=T,Wd(t,!1,r,a);try{var D=h(),P=w.S;if(P!==null&&P(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=y1(D,o);xo(t,r,Y,Vn(t))}else xo(t,r,o,Vn(t))}catch(ee){xo(t,r,{then:function(){},status:"rejected",reason:ee},Vn())}finally{oe.p=m,w.T=b}}function E1(){}function Yd(t,r,a,o){if(t.tag!==5)throw Error(i(476));var h=v0(t).queue;_0(t,h,r,ke,a===null?E1:function(){return b0(t),a(o)})}function v0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:ke},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function b0(t){var r=v0(t).next.queue;xo(t,r,{},Vn())}function Xd(){return cn(Bo)}function x0(){return It().memoizedState}function E0(){return It().memoizedState}function w1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Vn();t=Bs(a);var o=qs(r,t,a);o!==null&&(_n(o,r,a),To(o,r,a)),r={cache:Od()},t.payload=r;return}r=r.return}}function T1(t,r,a){var o=Vn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(t)?T0(r,a):(a=Ad(t,r,a,o),a!==null&&(_n(a,t,o),S0(a,r,o)))}function w0(t,r,a){var o=Vn();xo(t,r,a,o)}function xo(t,r,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))T0(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,T=m(b,a);if(h.hasEagerState=!0,h.eagerState=T,jn(T,b))return iu(t,r,h,0),st===null&&su(),!1}catch{}finally{}if(a=Ad(t,r,h,o),a!==null)return _n(a,t,o),S0(a,r,o),!0}return!1}function Wd(t,r,a,o){if(o={lane:2,revertLane:Bf(),action:o,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(r)throw Error(i(479))}else r=Ad(t,a,o,2),r!==null&&_n(r,t,2)}function Eu(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function T0(t,r){$a=pu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function S0(t,r,a){if((a&4194176)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,zl(t,a)}}var Ar={readContext:cn,use:_u,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Ar.useCacheRefresh=Tt,Ar.useMemoCache=Tt,Ar.useHostTransitionStatus=Tt,Ar.useFormState=Tt,Ar.useActionState=Tt,Ar.useOptimistic=Tt;var Zi={readContext:cn,use:_u,useCallback:function(t,r){return Sn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:u0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,bu(4194308,4,f0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return bu(4194308,4,t,r)},useInsertionEffect:function(t,r){bu(4,2,t,r)},useMemo:function(t,r){var a=Sn();r=r===void 0?null:r;var o=t();if(Wi){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Sn();if(a!==void 0){var h=a(r);if(Wi){an(!0);try{a(r)}finally{an(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=T1.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var r=Sn();return t={current:t},r.memoizedState=t},useState:function(t){t=Fd(t);var r=t.queue,a=w0.bind(null,Me,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(t,r){var a=Sn();return Kd(a,t,r)},useTransition:function(){var t=Fd(!1);return t=_0.bind(null,Me,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=Me,h=Sn();if(Qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),st===null)throw Error(i(349));(Ge&60)!==0||Kg(o,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,u0(Xg.bind(null,o,m,t),[t]),o.flags|=2048,Ka(9,Yg.bind(null,o,m,a,r),{destroy:void 0},null),a},useId:function(){var t=Sn(),r=st.identifierPrefix;if(Qe){var a=Kr,o=Qr;a=(o&~(1<<32-ln(o)-1)).toString(32)+a,r=":"+r+"R"+a,a=gu++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=_1++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return Sn().memoizedState=w1.bind(null,Me)}};Zi.useMemoCache=Bd,Zi.useHostTransitionStatus=Xd,Zi.useFormState=i0,Zi.useActionState=i0,Zi.useOptimistic=function(t){var r=Sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Wd.bind(null,Me,!0,a),a.dispatch=r,[t,r]};var Ls={readContext:cn,use:_u,useCallback:p0,useContext:cn,useEffect:$d,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:d0,useMemo:g0,useReducer:vu,useRef:c0,useState:function(){return vu(Xr)},useDebugValue:Qd,useDeferredValue:function(t,r){var a=It();return y0(a,Je.memoizedState,t,r)},useTransition:function(){var t=vu(Xr)[0],r=It().memoizedState;return[typeof t=="boolean"?t:bo(t),r]},useSyncExternalStore:Qg,useId:x0};Ls.useCacheRefresh=E0,Ls.useMemoCache=Bd,Ls.useHostTransitionStatus=Xd,Ls.useFormState=a0,Ls.useActionState=a0,Ls.useOptimistic=function(t,r){var a=It();return Jg(a,Je,t,r)};var Ji={readContext:cn,use:_u,useCallback:p0,useContext:cn,useEffect:$d,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:d0,useMemo:g0,useReducer:Hd,useRef:c0,useState:function(){return Hd(Xr)},useDebugValue:Qd,useDeferredValue:function(t,r){var a=It();return Je===null?Kd(a,t,r):y0(a,Je.memoizedState,t,r)},useTransition:function(){var t=Hd(Xr)[0],r=It().memoizedState;return[typeof t=="boolean"?t:bo(t),r]},useSyncExternalStore:Qg,useId:x0};Ji.useCacheRefresh=E0,Ji.useMemoCache=Bd,Ji.useHostTransitionStatus=Xd,Ji.useFormState=o0,Ji.useActionState=o0,Ji.useOptimistic=function(t,r){var a=It();return Je!==null?Jg(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Zd(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:N({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jd={isMounted:function(t){return(t=t._reactInternals)?ae(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Vn(),h=Bs(o);h.payload=r,a!=null&&(h.callback=a),r=qs(t,h,o),r!==null&&(_n(r,t,o),To(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Vn(),h=Bs(o);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=qs(t,h,o),r!==null&&(_n(r,t,o),To(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Vn(),o=Bs(a);o.tag=2,r!=null&&(o.callback=r),r=qs(t,o,a),r!==null&&(_n(r,t,a),To(r,t,a))}};function A0(t,r,a,o,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):r.prototype&&r.prototype.isPureReactComponent?!lo(a,o)||!lo(h,m):!0}function N0(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Jd.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function R0(t){wu(t)}function C0(t){console.error(t)}function I0(t){wu(t)}function Tu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function D0(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,r,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Tu(t,r)},a}function j0(t){return t=Bs(t),t.tag=3,t}function O0(t,r,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){D0(r,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){D0(r,a,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function S1(t,r,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&wo(r,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Sr===null?Vf():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Id?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Lf(t,o,h)),!1;case 22:return a.flags|=65536,o===Id?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Lf(t,o,h)),!1}throw Error(i(435,a.tag))}return Lf(t,o,h),Vf(),!1}if(Qe)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==Cd&&(t=Error(i(422),{cause:o}),ho(Bn(t,a)))):(o!==Cd&&(r=Error(i(423),{cause:o}),ho(Bn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Bn(o,a),h=ef(t.stateNode,o,h),gf(t,h),yt!==4&&(yt=2)),!1;var m=Error(i(520),{cause:o});if(m=Bn(m,a),jo===null?jo=[m]:jo.push(m),yt!==4&&(yt=2),r===null)return!0;o=Bn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,o,t),gf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ks===null||!Ks.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=j0(h),O0(h,t,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var k0=Error(i(461)),Ft=!1;function en(t,r,a,o){r.child=t===null?Ug(r,null,a,o):Yi(r,t.child,a,o)}function M0(t,r,a,o,h){a=a.render;var m=r.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return na(r),o=Pd(t,r,a,b,m,h),T=Ld(),t!==null&&!Ft?(Ud(t,r,h),Wr(t,r,h)):(Qe&&T&&Nd(r),r.flags|=1,en(t,r,o,h),r.child)}function V0(t,r,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Tf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,P0(t,r,m,o,h)):(t=Cu(a.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!uf(t,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:lo,a(b,o)&&t.ref===r.ref)return Wr(t,r,h)}return r.flags|=1,t=$s(m,o),t.ref=r.ref,t.return=r,r.child=t}function P0(t,r,a,o,h){if(t!==null){var m=t.memoizedProps;if(lo(m,o)&&t.ref===r.ref)if(Ft=!1,r.pendingProps=o=m,uf(t,h))(t.flags&131072)!==0&&(Ft=!0);else return r.lanes=t.lanes,Wr(t,r,h)}return tf(t,r,a,o,h)}function L0(t,r,a){var o=r.pendingProps,h=o.children,m=(r.stateNode._pendingVisibility&2)!==0,b=t!==null?t.memoizedState:null;if(Eo(t,r),o.mode==="hidden"||m){if((r.flags&128)!==0){if(o=b!==null?b.baseLanes|a:a,t!==null){for(h=r.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~o}else r.childLanes=0,r.child=null;return U0(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(r,b!==null?b.cachePool:null),b!==null?zg(r,b):Dd(),Bg(r);else return r.lanes=r.childLanes=536870912,U0(t,r,b!==null?b.baseLanes|a:a,a)}else b!==null?(mu(r,b.cachePool),zg(r,b),Vs(),r.memoizedState=null):(t!==null&&mu(r,null),Dd(),Vs());return en(t,r,h,a),r.child}function U0(t,r,a,o){var h=Md();return h=h===null?null:{parent:Lt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&mu(r,null),Dd(),Bg(r),t!==null&&wo(t,r,o,!0),null}function Eo(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function tf(t,r,a,o,h){return na(r),a=Pd(t,r,a,o,void 0,h),o=Ld(),t!==null&&!Ft?(Ud(t,r,h),Wr(t,r,h)):(Qe&&o&&Nd(r),r.flags|=1,en(t,r,a,h),r.child)}function z0(t,r,a,o,h,m){return na(r),r.updateQueue=null,a=$g(r,o,a,h),Gg(t),o=Ld(),t!==null&&!Ft?(Ud(t,r,m),Wr(t,r,m)):(Qe&&o&&Nd(r),r.flags|=1,en(t,r,a,m),r.child)}function B0(t,r,a,o,h){if(na(r),r.stateNode===null){var m=Ua,b=a.contextType;typeof b=="object"&&b!==null&&(m=cn(b)),m=new a(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Jd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},mf(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?cn(b):Ua,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Zd(r,a,b,o),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Jd.enqueueReplaceState(m,m.state,null),Ao(r,o,m,h),So(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){m=r.stateNode;var T=r.memoizedProps,D=ea(a,T);m.props=D;var P=m.context,Y=a.contextType;b=Ua,typeof Y=="object"&&Y!==null&&(b=cn(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||P!==b)&&N0(r,m,o,b),zs=!1;var G=r.memoizedState;m.state=G,Ao(r,o,m,h),So(),P=r.memoizedState,T||G!==P||zs?(typeof ee=="function"&&(Zd(r,a,ee,o),P=r.memoizedState),(D=zs||A0(r,a,D,o,G,P,b))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=P),m.props=o,m.state=P,m.context=b,o=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,pf(t,r),b=r.memoizedProps,Y=ea(a,b),m.props=Y,ee=r.pendingProps,G=m.context,P=a.contextType,D=Ua,typeof P=="object"&&P!==null&&(D=cn(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||G!==D)&&N0(r,m,o,D),zs=!1,G=r.memoizedState,m.state=G,Ao(r,o,m,h),So();var K=r.memoizedState;b!==ee||G!==K||zs||t!==null&&t.dependencies!==null&&Su(t.dependencies)?(typeof T=="function"&&(Zd(r,a,T,o),K=r.memoizedState),(Y=zs||A0(r,a,Y,o,G,K,D)||t!==null&&t.dependencies!==null&&Su(t.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,K,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,K,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=K),m.props=o,m.state=K,m.context=D,o=Y):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),o=!1)}return m=o,Eo(t,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&o?(r.child=Yi(r,t.child,null,h),r.child=Yi(r,null,a,h)):en(t,r,a,h),r.memoizedState=m.state,t=r.child):t=Wr(t,r,h),t}function q0(t,r,a,o){return uo(),r.flags|=256,en(t,r,a,o),r.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(t){return{baseLanes:t,cachePool:Fg()}}function sf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Kn),t}function H0(t,r,a){var o=r.pendingProps,h=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Ms(r):Vs(),Qe){var T=Jt,D;if(D=T){e:{for(D=T,T=Tr;D.nodeType!==8;){if(!T){T=null;break e}if(D=cr(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:$i!==null?{id:Qr,overflow:Kr}:null,retryLane:536870912},D=Qn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,yn=r,Jt=null,D=!0):D=!1}D||Ki(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Yr(r)}return T=o.children,o=o.fallback,h?(Vs(),h=r.mode,T=lf({mode:"hidden",children:T},h),o=sa(o,h,a,null),T.return=r,o.return=r,T.sibling=o,r.child=T,h=r.child,h.memoizedState=rf(a),h.childLanes=sf(t,b,a),r.memoizedState=nf,o):(Ms(r),af(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)r.flags&256?(Ms(r),r.flags&=-257,r=of(t,r,a)):r.memoizedState!==null?(Vs(),r.child=t.child,r.flags|=128,r=null):(Vs(),h=o.fallback,T=r.mode,o=lf({mode:"visible",children:o.children},T),h=sa(h,T,a,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,Yi(r,t.child,null,a),o=r.child,o.memoizedState=rf(a),o.childLanes=sf(t,b,a),r.memoizedState=nf,r=h);else if(Ms(r),T.data==="$!"){if(b=T.nextSibling&&T.nextSibling.dataset,b)var P=b.dgst;b=P,o=Error(i(419)),o.stack="",o.digest=b,ho({value:o,source:null,stack:null}),r=of(t,r,a)}else if(Ft||wo(t,r,a,!1),b=(a&t.childLanes)!==0,Ft||b){if(b=st,b!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(b.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane)throw D.retryLane=o,ks(t,o),_n(b,t,o),k0}T.data==="$?"||Vf(),r=of(t,r,a)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=z1.bind(null,t),T._reactRetry=r,r=null):(t=D.treeContext,Jt=cr(T.nextSibling),yn=r,Qe=!0,lr=null,Tr=!1,t!==null&&(qn[Hn++]=Qr,qn[Hn++]=Kr,qn[Hn++]=$i,Qr=t.id,Kr=t.overflow,$i=r),r=af(r,o.children),r.flags|=4096);return r}return h?(Vs(),h=o.fallback,T=r.mode,D=t.child,P=D.sibling,o=$s(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&31457280,P!==null?h=$s(P,h):(h=sa(h,T,a,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,T=t.child.memoizedState,T===null?T=rf(a):(D=T.cachePool,D!==null?(P=Lt._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=Fg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=sf(t,b,a),r.memoizedState=nf,o):(Ms(r),a=t.child,t=a.sibling,a=$s(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function af(t,r){return r=lf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function lf(t,r){return py(t,r,0,null)}function of(t,r,a){return Yi(r,t.child,null,a),t=af(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function F0(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),df(t.return,r,a)}function cf(t,r,a,o,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=a,m.tailMode=h)}function G0(t,r,a){var o=r.pendingProps,h=o.revealOrder,m=o.tail;if(en(t,r,o.children,a),o=Pt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F0(t,a,r);else if(t.tag===19)F0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ze(Pt,o),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cf(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&fu(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cf(r,!0,a,null,m);break;case"together":cf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Qs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(wo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=$s(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=$s(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function uf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Su(t)))}function A1(t,r,a){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),Us(r,Lt,t.memoizedState.cache),uo();break;case 27:case 5:Rn(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:Us(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(r),r.flags|=128,null):(a&r.child.childLanes)!==0?H0(t,r,a):(Ms(r),t=Wr(t,r,a),t!==null?t.sibling:null);Ms(r);break;case 19:var h=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(wo(t,r,a,!1),o=(a&r.childLanes)!==0),h){if(o)return G0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ze(Pt,Pt.current),o)break;return null;case 22:case 23:return r.lanes=0,L0(t,r,a);case 24:Us(r,Lt,t.memoizedState.cache)}return Wr(t,r,a)}function $0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ft=!0;else{if(!uf(t,a)&&(r.flags&128)===0)return Ft=!1,A1(t,r,a);Ft=(t.flags&131072)!==0}else Ft=!1,Qe&&(r.flags&1048576)!==0&&Ig(r,ou,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,h=o._init;if(o=h(o._payload),r.type=o,typeof o=="function")Tf(o)?(t=ea(o,t),r.tag=1,r=B0(null,r,o,t,a)):(r.tag=0,r=tf(null,r,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===F){r.tag=11,r=M0(null,r,o,t,a);break e}else if(h===J){r.tag=14,r=V0(null,r,o,t,a);break e}}throw r=I(o)||o,Error(i(306,r,""))}}return r;case 0:return tf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,h=ea(o,r.pendingProps),B0(t,r,o,h,a);case 3:e:{if(bt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));var m=r.pendingProps;h=r.memoizedState,o=h.element,pf(t,r),Ao(r,m,null,a);var b=r.memoizedState;if(m=b.cache,Us(r,Lt,m),m!==h.cache&&ff(r,[Lt],a,!0),So(),m=b.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=q0(t,r,m,a);break e}else if(m!==o){o=Bn(Error(i(424)),r),ho(o),r=q0(t,r,m,a);break e}else for(Jt=cr(r.stateNode.containerInfo.firstChild),yn=r,Qe=!0,lr=null,Tr=!0,a=Ug(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(uo(),m===o){r=Wr(t,r,a);break e}en(t,r,m,a)}r=r.child}return r;case 26:return Eo(t,r),t===null?(a=Yy(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,o=Bu(ie.current).createElement(a),o[Mt]=r,o[Zt]=t,tn(o,a,t),pt(o),r.stateNode=o):r.memoizedState=Yy(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rn(r),t===null&&Qe&&(o=r.stateNode=$y(r.type,r.pendingProps,ie.current),yn=r,Tr=!0,Jt=cr(o.firstChild)),o=r.pendingProps.children,t!==null||Qe?en(t,r,o,a):r.child=Yi(r,null,o,a),Eo(t,r),r.child;case 5:return t===null&&Qe&&((h=o=Jt)&&(o=nw(o,r.type,r.pendingProps,Tr),o!==null?(r.stateNode=o,yn=r,Jt=cr(o.firstChild),Tr=!1,h=!0):h=!1),h||Ki(r)),Rn(r),h=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,Xf(h,m)?o=null:b!==null&&Xf(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=Pd(t,r,v1,null,null,a),Bo._currentValue=h),Eo(t,r),en(t,r,o,a),r.child;case 6:return t===null&&Qe&&((t=a=Jt)&&(a=rw(a,r.pendingProps,Tr),a!==null?(r.stateNode=a,yn=r,Jt=null,t=!0):t=!1),t||Ki(r)),null;case 13:return H0(t,r,a);case 4:return bt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Yi(r,null,o,a):en(t,r,o,a),r.child;case 11:return M0(t,r,r.type,r.pendingProps,a);case 7:return en(t,r,r.pendingProps,a),r.child;case 8:return en(t,r,r.pendingProps.children,a),r.child;case 12:return en(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Us(r,r.type,o.value),en(t,r,o.children,a),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,na(r),h=cn(h),o=o(h),r.flags|=1,en(t,r,o,a),r.child;case 14:return V0(t,r,r.type,r.pendingProps,a);case 15:return P0(t,r,r.type,r.pendingProps,a);case 19:return G0(t,r,a);case 22:return L0(t,r,a);case 24:return na(r),o=cn(Lt),t===null?(h=Md(),h===null&&(h=st,m=Od(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:o,cache:h},mf(r),Us(r,Lt,h)):((t.lanes&a)!==0&&(pf(t,r),Ao(r,null,null,a),So()),h=t.memoizedState,m=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Us(r,Lt,o)):(o=m.cache,Us(r,Lt,o),o!==h.cache&&ff(r,[Lt],a,!0))),en(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}var hf=Le(null),ta=null,Zr=null;function Us(t,r,a){Ze(hf,r._currentValue),r._currentValue=a}function Jr(t){t._currentValue=hf.current,lt(hf)}function df(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function ff(t,r,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),df(m.return,a,t),o||(b=null);break e}m=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),df(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function wo(t,r,a,o){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=h.type;jn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ee.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bo):t=[Bo])}h=h.return}t!==null&&ff(r,t,a,o),r.flags|=262144}function Su(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return Q0(ta,t)}function Au(t,r){return ta===null&&na(t),Q0(t,r)}function Q0(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(i(308));Zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zr=Zr.next=r;return a}var zs=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ht&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=au(t),Rg(t,null,a),r}return iu(t,o,r,a),au(t)}function To(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,zl(t,a)}}function gf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yf=!1;function So(){if(yf){var t=Ga;if(t!==null)throw t}}function Ao(t,r,a,o){yf=!1;var h=t.updateQueue;zs=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,P=D.next;D.next=null,b===null?m=P:b.next=P,b=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==b&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=D))}if(m!==null){var ee=h.baseState;b=0,Y=P=D=null,T=m;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Ge&G)===G:(o&G)===G){G!==0&&G===Fa&&(yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Ie=T;G=r;var _t=a;switch(Ie.tag){case 1:if(me=Ie.payload,typeof me=="function"){ee=me.call(_t,ee,G);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ie.payload,G=typeof me=="function"?me.call(_t,ee,G):me,G==null)break e;ee=N({},ee,G);break e;case 2:zs=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=K,D=ee):Y=Y.next=K,b|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),Qs|=b,t.lanes=b,t.memoizedState=ee}}function K0(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Y0(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)K0(a[t],r)}function No(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,b=a.inst;o=m(),b.destroy=o}a=a.next}while(a!==h)}}catch(T){nt(r,r.return,T)}}function Hs(t,r,a){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=r;var D=a;try{T()}catch(P){nt(h,D,P)}}}o=o.next}while(o!==m)}}catch(P){nt(r,r.return,P)}}function X0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Y0(r,a)}catch(o){nt(t,t.return,o)}}}function W0(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){nt(t,r,o)}}function ra(t,r){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(m){nt(t,r,m)}}function On(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,r,h)}else a.current=null}function Z0(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function J0(t,r,a){try{var o=t.stateNode;W1(o,t.type,a,r),o[Zt]=r}catch(h){nt(t,t.return,h)}}function ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=zu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(vf(t,r,a),t=t.sibling;t!==null;)vf(t,r,a),t=t.sibling}function Nu(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Nu(t,r,a),t=t.sibling;t!==null;)Nu(t,r,a),t=t.sibling}var es=!1,gt=!1,bf=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Gt=null,ny=!1;function N1(t,r){if(t=t.containerInfo,Kf=Qu,t=vg(t),xd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,D=-1,P=0,Y=0,ee=t,G=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=b+h),ee!==m||o!==0&&ee.nodeType!==3||(D=b+o),ee.nodeType===3&&(b+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===t)break t;if(G===a&&++P===h&&(T=b),G===m&&++Y===o&&(D=b),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yf={focusedElem:t,selectionRange:a},Qu=!1,Gt=r;Gt!==null;)if(r=Gt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Gt=t;else for(;Gt!==null;){switch(r=Gt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var me=ea(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(me,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ie){nt(a,a.return,Ie)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Jf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Gt=t;break}Gt=r.return}return me=ny,ny=!1,me}function ry(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),o&4&&No(5,a);break;case 1:if(ns(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){nt(a,a.return,T)}else{var h=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(a,a.return,T)}}o&64&&X0(a),o&512&&ra(a,a.return);break;case 3:if(ns(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Y0(o,t)}catch(T){nt(a,a.return,T)}}break;case 26:ns(t,a),o&512&&ra(a,a.return);break;case 27:case 5:ns(t,a),r===null&&o&4&&Z0(a),o&512&&ra(a,a.return);break;case 12:ns(t,a);break;case 13:ns(t,a),o&4&&ay(t,a);break;case 22:if(h=a.memoizedState!==null||es,!h){r=r!==null&&r.memoizedState!==null||gt;var m=es,b=gt;es=h,(gt=r)&&!b?Fs(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),es=m,gt=b}o&512&&(a.memoizedProps.mode==="manual"?ra(a,a.return):On(a,a.return));break;default:ns(t,a)}}function sy(t){var r=t.alternate;r!==null&&(t.alternate=null,sy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ss(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,kn=!1;function ts(t,r,a){for(a=a.child;a!==null;)iy(t,r,a),a=a.sibling}function iy(t,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:gt||On(a,r),ts(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||On(a,r);var o=Dt,h=kn;for(Dt=a.stateNode,ts(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ss(a),Dt=o,kn=h;break;case 5:gt||On(a,r);case 6:h=Dt;var m=kn;if(Dt=null,ts(t,r,a),Dt=h,kn=m,Dt!==null)if(kn)try{t=Dt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(b){nt(a,r,b)}else try{Dt.removeChild(a.stateNode)}catch(b){nt(a,r,b)}break;case 18:Dt!==null&&(kn?(r=Dt,a=a.stateNode,r.nodeType===8?Zf(r.parentNode,a):r.nodeType===1&&Zf(r,a),Go(r)):Zf(Dt,a.stateNode));break;case 4:o=Dt,h=kn,Dt=a.stateNode.containerInfo,kn=!0,ts(t,r,a),Dt=o,kn=h;break;case 0:case 11:case 14:case 15:gt||Hs(2,a,r),gt||Hs(4,a,r),ts(t,r,a);break;case 1:gt||(On(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&W0(a,r,o)),ts(t,r,a);break;case 21:ts(t,r,a);break;case 22:gt||On(a,r),gt=(o=gt)||a.memoizedState!==null,ts(t,r,a),gt=o;break;default:ts(t,r,a)}}function ay(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Go(t)}catch(a){nt(r,r.return,a)}}function R1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new ty),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new ty),r;default:throw Error(i(435,t.tag))}}function xf(t,r){var a=R1(t);r.forEach(function(o){var h=B1.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function Gn(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:case 5:Dt=T.stateNode,kn=!1;break e;case 3:Dt=T.stateNode.containerInfo,kn=!0;break e;case 4:Dt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(Dt===null)throw Error(i(160));iy(m,b,h),Dt=null,kn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ly(r,t),r=r.sibling}var or=null;function ly(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gn(r,t),$n(t),o&4&&(Hs(3,t,t.return),No(3,t),Hs(5,t,t.return));break;case 1:Gn(r,t),$n(t),o&512&&(gt||a===null||On(a,a.return)),o&64&&es&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=or;if(Gn(r,t),$n(t),o&512&&(gt||a===null||On(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ji]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),tn(m,o,a),m[Mt]=t,pt(m),o=m;break e;case"link":var b=Zy("link","href",h).get(o+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=h.createElement(o),tn(m,o,a),h.head.appendChild(m);break;case"meta":if(b=Zy("meta","content",h).get(o+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=h.createElement(o),tn(m,o,a),h.head.appendChild(m);break;default:throw Error(i(468,o))}m[Mt]=t,pt(m),o=m}t.stateNode=o}else Jy(h,t.type,t.stateNode);else t.stateNode=Wy(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Jy(h,t.type,t.stateNode):Wy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&J0(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){h=t.stateNode,m=t.memoizedProps;try{for(var D=h.firstChild;D;){var P=D.nextSibling,Y=D.nodeName;D[ji]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=P}for(var ee=t.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);tn(h,ee,m),h[Mt]=t,h[Zt]=m}catch(me){nt(t,t.return,me)}}case 5:if(Gn(r,t),$n(t),o&512&&(gt||a===null||On(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(me){nt(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,J0(t,h,a!==null?a.memoizedProps:h)),o&1024&&(bf=!0);break;case 6:if(Gn(r,t),$n(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){nt(t,t.return,me)}}break;case 3:if(Fu=null,h=or,or=qu(r.containerInfo),Gn(r,t),or=h,$n(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(me){nt(t,t.return,me)}bf&&(bf=!1,oy(t));break;case 4:o=or,or=qu(t.stateNode.containerInfo),Gn(r,t),$n(t),or=o;break;case 12:Gn(r,t),$n(t);break;case 13:Gn(r,t),$n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(If=xn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xf(t,o)));break;case 22:if(o&512&&(gt||a===null||On(a,a.return)),D=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Y=es,ee=gt,es=Y||D,gt=ee||P,Gn(r,t),gt=ee,es=Y,$n(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,o&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=es||gt,a===null||P||r||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){P=a=r;try{if(h=P.stateNode,D)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=P.stateNode,T=P.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){nt(P,P.return,me)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(me){nt(P,P.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,xf(t,a))));break;case 19:Gn(r,t),$n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xf(t,o)));break;case 21:break;default:Gn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ey(a)){var o=a;break e}a=a.return}throw Error(i(160))}switch(o.tag){case 27:var h=o.stateNode,m=_f(t);Nu(t,m,h);break;case 5:var b=o.stateNode;o.flags&32&&(Tn(b,""),o.flags&=-33);var T=_f(t);Nu(t,T,b);break;case 3:case 4:var D=o.stateNode.containerInfo,P=_f(t);vf(t,P,D);break;default:throw Error(i(161))}}}catch(Y){nt(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;oy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ns(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ry(t,r.alternate,r),r=r.sibling}function Ya(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Hs(4,r,r.return),Ya(r);break;case 1:On(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&W0(r,r.return,a),Ya(r);break;case 26:case 27:case 5:On(r,r.return),Ya(r);break;case 22:On(r,r.return),r.memoizedState===null&&Ya(r);break;default:Ya(r)}t=t.sibling}}function Fs(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Fs(h,m,a),No(4,m);break;case 1:if(Fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(o,o.return,P)}if(o=m,h=o.updateQueue,h!==null){var T=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)K0(D[h],T)}catch(P){nt(o,o.return,P)}}a&&b&64&&X0(m),ra(m,m.return);break;case 26:case 27:case 5:Fs(h,m,a),a&&o===null&&b&4&&Z0(m),ra(m,m.return);break;case 12:Fs(h,m,a);break;case 13:Fs(h,m,a),a&&b&4&&ay(h,m);break;case 22:m.memoizedState===null&&Fs(h,m,a),ra(m,m.return);break;default:Fs(h,m,a)}r=r.sibling}}function Ef(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yo(a))}function wf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yo(t))}function Gs(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)cy(t,r,a,o),r=r.sibling}function cy(t,r,a,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Gs(t,r,a,o),h&2048&&No(9,r);break;case 3:Gs(t,r,a,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yo(t)));break;case 12:if(h&2048){Gs(t,r,a,o),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else Gs(t,r,a,o);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Gs(t,r,a,o):Ro(t,r):m._visibility&4?Gs(t,r,a,o):(m._visibility|=4,Xa(t,r,a,o,(r.subtreeFlags&10256)!==0)),h&2048&&Ef(r.alternate,r);break;case 24:Gs(t,r,a,o),h&2048&&wf(r.alternate,r);break;default:Gs(t,r,a,o)}}function Xa(t,r,a,o,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,b=r,T=a,D=o,P=b.flags;switch(b.tag){case 0:case 11:case 15:Xa(m,b,T,D,h),No(8,b);break;case 23:break;case 22:var Y=b.stateNode;b.memoizedState!==null?Y._visibility&4?Xa(m,b,T,D,h):Ro(m,b):(Y._visibility|=4,Xa(m,b,T,D,h)),h&&P&2048&&Ef(b.alternate,b);break;case 24:Xa(m,b,T,D,h),h&&P&2048&&wf(b.alternate,b);break;default:Xa(m,b,T,D,h)}r=r.sibling}}function Ro(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,h=o.flags;switch(o.tag){case 22:Ro(a,o),h&2048&&Ef(o.alternate,o);break;case 24:Ro(a,o),h&2048&&wf(o.alternate,o);break;default:Ro(a,o)}r=r.sibling}}var Co=8192;function Wa(t){if(t.subtreeFlags&Co)for(t=t.child;t!==null;)uy(t),t=t.sibling}function uy(t){switch(t.tag){case 26:Wa(t),t.flags&Co&&t.memoizedState!==null&&gw(or,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var r=or;or=qu(t.stateNode.containerInfo),Wa(t),or=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Co,Co=16777216,Wa(t),Co=r):Wa(t));break;default:Wa(t)}}function hy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Io(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Gt=o,fy(o,t)}hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 0:case 11:case 15:Io(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:Io(t);break;case 12:Io(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Ru(t)):Io(t);break;default:Io(t)}}function Ru(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Gt=o,fy(o,t)}hy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Hs(8,r,r.return),Ru(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ru(r));break;default:Ru(r)}t=t.sibling}}function fy(t,r){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Hs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Gt=o;else e:for(a=t;Gt!==null;){o=Gt;var h=o.sibling,m=o.return;if(sy(o),o===a){Gt=null;break e}if(h!==null){h.return=m,Gt=h;break e}Gt=m}}}function C1(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,r,a,o){return new C1(t,r,a,o)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $s(t,r){var a=t.alternate;return a===null?(a=Qn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function my(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Cu(t,r,a,o,h,m){var b=0;if(o=t,typeof t=="function")Tf(t)&&(b=1);else if(typeof t=="string")b=mw(t,a,bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return sa(a.children,h,m,r);case y:b=8,h|=24;break;case v:return t=Qn(12,a,r,h|2),t.elementType=v,t.lanes=m,t;case Q:return t=Qn(13,a,r,h),t.elementType=Q,t.lanes=m,t;case B:return t=Qn(19,a,r,h),t.elementType=B,t.lanes=m,t;case te:return py(a,h,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case j:b=10;break e;case A:b=9;break e;case F:b=11;break e;case J:b=14;break e;case ne:b=16,o=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=Qn(b,a,r,h),r.elementType=t,r.type=o,r.lanes=m,r}function sa(t,r,a,o){return t=Qn(7,t,o,r),t.lanes=a,t}function py(t,r,a,o){t=Qn(22,t,o,r),t.elementType=te,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var b=ks(m,2);b!==null&&(h._pendingVisibility|=2,_n(b,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var b=ks(m,2);b!==null&&(h._pendingVisibility&=-3,_n(b,m,2))}}};return t.stateNode=h,t}function Sf(t,r,a){return t=Qn(6,t,null,r),t.lanes=a,t}function Af(t,r,a){return r=Qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function rs(t){t.flags|=4}function gy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!e_(r)){if(r=Fn.current,r!==null&&((Ge&4194176)===Ge?Sr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||r!==Sr))throw mo=Id,Og;t.flags|=8192}}function Iu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Hr():536870912,t.lanes|=r,Ja|=r)}function Do(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function I1(t,r,a){var o=r.pendingProps;switch(Rd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Jr(Lt),mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(co(r)?rs(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lr!==null&&(kf(lr),lr=null))),ut(r),null;case 26:return a=r.memoizedState,t===null?(rs(r),a!==null?(ut(r),gy(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(rs(r),ut(r),gy(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==o&&rs(r),ut(r),r.flags&=-16777217),null;case 27:qr(r),a=ie.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&rs(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return ut(r),null}t=bn.current,co(r)?Dg(r):(t=$y(h,o,a),r.stateNode=t,rs(r))}return ut(r),null;case 5:if(qr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&rs(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(t=bn.current,co(r))Dg(r);else{switch(h=Bu(ie.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Mt]=r,t[Zt]=o;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(tn(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&rs(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&rs(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ie.current,co(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,h=yn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||zy(t.nodeValue,a)),t||Ki(r)}else t=Bu(t).createTextNode(o),t[Mt]=r,r.stateNode=t}return ut(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=co(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Mt]=r}else uo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else lr!==null&&(kf(lr),lr=null),h=!0;if(!h)return r.flags&256?(Yr(r),r):(Yr(r),null)}if(Yr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Iu(r,r.updateQueue),ut(r),null;case 4:return mt(),t===null&&Gf(r.stateNode.containerInfo),ut(r),null;case 10:return Jr(r.type),ut(r),null;case 19:if(lt(Pt),h=r.memoizedState,h===null)return ut(r),null;if(o=(r.flags&128)!==0,m=h.rendering,m===null)if(o)Do(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=fu(t),m!==null){for(r.flags|=128,Do(h,!1),t=m.updateQueue,r.updateQueue=t,Iu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)my(a,t),a=a.sibling;return Ze(Pt,Pt.current&1|2),r.child}t=t.sibling}h.tail!==null&&xn()>Du&&(r.flags|=128,o=!0,Do(h,!1),r.lanes=4194304)}else{if(!o)if(t=fu(m),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Iu(r,t),Do(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Qe)return ut(r),null}else 2*xn()-h.renderingStartTime>Du&&a!==536870912&&(r.flags|=128,o=!0,Do(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(t=h.last,t!==null?t.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=xn(),r.sibling=null,t=Pt.current,Ze(Pt,o?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Yr(r),jd(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Iu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&lt(Xi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Jr(Lt),ut(r),null;case 25:return null}throw Error(i(156,r.tag))}function D1(t,r){switch(Rd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Jr(Lt),mt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return qr(r),null;case 13:if(Yr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));uo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return lt(Pt),null;case 4:return mt(),null;case 10:return Jr(r.type),null;case 22:case 23:return Yr(r),jd(),t!==null&&lt(Xi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Jr(Lt),null;case 25:return null;default:return null}}function yy(t,r){switch(Rd(r),r.tag){case 3:Jr(Lt),mt();break;case 26:case 27:case 5:qr(r);break;case 4:mt();break;case 13:Yr(r);break;case 19:lt(Pt);break;case 10:Jr(r.type);break;case 22:case 23:Yr(r),jd(),t!==null&&lt(Xi);break;case 24:Jr(Lt)}}var j1={getCacheForType:function(t){var r=cn(Lt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},O1=typeof WeakMap=="function"?WeakMap:Map,ht=0,st=null,Pe=null,Ge=0,it=0,Mn=null,ss=!1,Za=!1,Nf=!1,is=0,yt=0,Qs=0,ia=0,Rf=0,Kn=0,Ja=0,jo=null,Nr=null,Cf=!1,If=0,Du=1/0,ju=null,Ks=null,Ou=!1,aa=null,Oo=0,Df=0,jf=null,ko=0,Of=null;function Vn(){if((ht&2)!==0&&Ge!==0)return Ge&-Ge;if(w.T!==null){var t=Fa;return t!==0?t:Bf()}return Ts()}function _y(){Kn===0&&(Kn=(Ge&536870912)===0||Qe?zc():536870912);var t=Fn.current;return t!==null&&(t.flags|=32),Kn}function _n(t,r,a){(t===st&&it===2||t.cancelPendingCommit!==null)&&(el(t,0),as(t,Ge,Kn,!1)),Ii(t,a),((ht&2)===0||t!==st)&&(t===st&&((ht&2)===0&&(ia|=a),yt===4&&as(t,Ge,Kn,!1)),Rr(t))}function vy(t,r,a){if((ht&6)!==0)throw Error(i(327));var o=!a&&(r&60)===0&&(r&t.expiredLanes)===0||er(t,r),h=o?V1(t,r):Pf(t,r,!0),m=o;do{if(h===0){Za&&!o&&as(t,r,0,!1);break}else if(h===6)as(t,r,0,!ss);else{if(a=t.current.alternate,m&&!k1(a)){h=Pf(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;h=jo;var D=T.current.memoizedState.isDehydrated;if(D&&(el(T,b).flags|=256),b=Pf(T,b,!1),b!==2){if(Nf&&!D){T.errorRecoveryDisabledLanes|=m,ia|=m,h=4;break e}m=Nr,Nr=h,m!==null&&kf(m)}h=b}if(m=!1,h!==2)continue}}if(h===1){el(t,0),as(t,r,0,!0);break}e:{switch(o=t,h){case 0:case 1:throw Error(i(345));case 4:if((r&4194176)===r){as(o,r,Kn,!ss);break e}break;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=a,o.finishedLanes=r,(r&62914560)===r&&(m=If+300-xn(),10<m)){if(as(o,r,Kn,!ss),gr(o,0)!==0)break e;o.timeoutHandle=Hy(by.bind(null,o,a,Nr,ju,Cf,r,Kn,ia,Ja,ss,2,-0,0),m);break e}by(o,a,Nr,ju,Cf,r,Kn,ia,Ja,ss,0,-0,0)}}break}while(!0);Rr(t)}function kf(t){Nr===null?Nr=t:Nr.push.apply(Nr,t)}function by(t,r,a,o,h,m,b,T,D,P,Y,ee,G){var K=r.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(zo={stylesheets:null,count:0,unsuspend:pw},uy(r),r=yw(),r!==null)){t.cancelPendingCommit=r(Ny.bind(null,t,a,o,h,b,T,D,1,ee,G)),as(t,m,b,!P);return}Ny(t,a,o,h,b,T,D,Y,ee,G)}function k1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!jn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function as(t,r,a,o){r&=~Rf,r&=~ia,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var m=31-ln(h),b=1<<m;o[m]=-1,h&=~b}a!==0&&Ul(t,a,r)}function ku(){return(ht&6)===0?(Mo(0),!1):!0}function Mf(){if(Pe!==null){if(it===0)var t=Pe.return;else t=Pe,Zr=ta=null,zd(t),qa=null,po=0,t=Pe;for(;t!==null;)yy(t.alternate,t),t=t.return;Pe=null}}function el(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,J1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mf(),st=t,Pe=a=$s(t.current,null),Ge=r,it=0,Mn=null,ss=!1,Za=er(t,r),Nf=!1,Ja=Kn=Rf=ia=Qs=yt=0,Nr=jo=null,Cf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-ln(o),m=1<<h;r|=t[h],o&=~m}return is=r,su(),a}function xy(t,r){Me=null,w.H=Ar,r===fo?(r=Vg(),it=3):r===Og?(r=Vg(),it=4):it=r===k0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Pe===null&&(yt=1,Tu(t,Bn(r,t.current)))}function Ey(){var t=w.H;return w.H=Ar,t===null?Ar:t}function wy(){var t=w.A;return w.A=j1,t}function Vf(){yt=4,ss||(Ge&4194176)!==Ge&&Fn.current!==null||(Za=!0),(Qs&134217727)===0&&(ia&134217727)===0||st===null||as(st,Ge,Kn,!1)}function Pf(t,r,a){var o=ht;ht|=2;var h=Ey(),m=wy();(st!==t||Ge!==r)&&(ju=null,el(t,r)),r=!1;var b=yt;e:do try{if(it!==0&&Pe!==null){var T=Pe,D=Mn;switch(it){case 8:Mf(),b=6;break e;case 3:case 2:case 6:Fn.current===null&&(r=!0);var P=it;if(it=0,Mn=null,tl(t,T,D,P),a&&Za){b=0;break e}break;default:P=it,it=0,Mn=null,tl(t,T,D,P)}}M1(),b=yt;break}catch(Y){xy(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Zr=ta=null,ht=o,w.H=h,w.A=m,Pe===null&&(st=null,Ge=0,su()),b}function M1(){for(;Pe!==null;)Ty(Pe)}function V1(t,r){var a=ht;ht|=2;var o=Ey(),h=wy();st!==t||Ge!==r?(ju=null,Du=xn()+500,el(t,r)):Za=er(t,r);e:do try{if(it!==0&&Pe!==null){r=Pe;var m=Mn;t:switch(it){case 1:it=0,Mn=null,tl(t,r,m,1);break;case 2:if(kg(m)){it=0,Mn=null,Sy(r);break}r=function(){it===2&&st===t&&(it=7),Rr(t)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:kg(m)?(it=0,Mn=null,Sy(r)):(it=0,Mn=null,tl(t,r,m,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var T=Pe;if(!b||e_(b)){it=0,Mn=null;var D=T.sibling;if(D!==null)Pe=D;else{var P=T.return;P!==null?(Pe=P,Mu(P)):Pe=null}break t}}it=0,Mn=null,tl(t,r,m,5);break;case 6:it=0,Mn=null,tl(t,r,m,6);break;case 8:Mf(),yt=6;break e;default:throw Error(i(462))}}P1();break}catch(Y){xy(t,Y)}while(!0);return Zr=ta=null,w.H=o,w.A=h,ht=a,Pe!==null?0:(st=null,Ge=0,su(),yt)}function P1(){for(;Pe!==null&&!Mc();)Ty(Pe)}function Ty(t){var r=$0(t.alternate,t,is);t.memoizedProps=t.pendingProps,r===null?Mu(t):Pe=r}function Sy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=z0(a,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=z0(a,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:zd(r);default:yy(a,r),r=Pe=my(r,is),r=$0(a,r,is)}t.memoizedProps=t.pendingProps,r===null?Mu(t):Pe=r}function tl(t,r,a,o){Zr=ta=null,zd(r),qa=null,po=0;var h=r.return;try{if(S1(t,h,r,a,Ge)){yt=1,Tu(t,Bn(a,t.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;yt=1,Tu(t,Bn(a,t.current)),Pe=null;return}r.flags&32768?(Qe||o===1?t=!0:Za||(Ge&536870912)!==0?t=!1:(ss=t=!0,(o===2||o===3||o===6)&&(o=Fn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ay(r,t)):Mu(r)}function Mu(t){var r=t;do{if((r.flags&32768)!==0){Ay(r,ss);return}t=r.return;var a=I1(r.alternate,r,is);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);yt===0&&(yt=5)}function Ay(t,r){do{var a=D1(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);yt=6,Pe=null}function Ny(t,r,a,o,h,m,b,T,D,P){var Y=w.T,ee=oe.p;try{oe.p=2,w.T=null,L1(t,r,a,o,ee,h,m,b,T,D,P)}finally{w.T=Y,oe.p=ee}}function L1(t,r,a,o,h,m,b,T){do nl();while(aa!==null);if((ht&6)!==0)throw Error(i(327));var D=t.finishedWork;if(o=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=Sd,wa(t,o,P,m,b,T),t===st&&(Pe=st=null,Ge=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Ou||(Ou=!0,Df=P,jf=a,q1(qt,function(){return nl(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,m=oe.p,oe.p=2,b=ht,ht|=4,N1(t,D),ly(D,t),o1(Yf,t.containerInfo),Qu=!!Kf,Yf=Kf=null,t.current=D,ry(t,D.alternate,D),xa(),ht=b,oe.p=m,w.T=a):t.current=D,Ou?(Ou=!1,aa=t,Oo=o):Ry(t,P),P=t.pendingLanes,P===0&&(Ks=null),Pl(D.stateNode),Rr(t),r!==null)for(h=t.onRecoverableError,D=0;D<r.length;D++)P=r[D],h(P.value,{componentStack:P.stack});return(Oo&3)!==0&&nl(),P=t.pendingLanes,(o&4194218)!==0&&(P&42)!==0?t===Of?ko++:(ko=0,Of=t):ko=0,Mo(0),null}function Ry(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,yo(r)))}function nl(){if(aa!==null){var t=aa,r=Df;Df=0;var a=Ta(Oo),o=w.T,h=oe.p;try{if(oe.p=32>a?32:a,w.T=null,aa===null)var m=!1;else{a=jf,jf=null;var b=aa,T=Oo;if(aa=null,Oo=0,(ht&6)!==0)throw Error(i(331));var D=ht;if(ht|=4,dy(b.current),cy(b,b.current,T,a),ht=D,Mo(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Jn,b)}catch{}m=!0}return m}finally{oe.p=h,w.T=o,Ry(t,r)}}return!1}function Cy(t,r,a){r=Bn(a,r),r=ef(t.stateNode,r,2),t=qs(t,r,2),t!==null&&(Ii(t,2),Rr(t))}function nt(t,r,a){if(t.tag===3)Cy(t,t,a);else for(;r!==null;){if(r.tag===3){Cy(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){t=Bn(a,t),a=j0(2),o=qs(r,a,2),o!==null&&(O0(a,o,r,t),Ii(o,2),Rr(o));break}}r=r.return}}function Lf(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new O1;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(a)||(Nf=!0,h.add(a),t=U1.bind(null,t,r,a),r.then(t,t))}function U1(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ge&a)===a&&(yt===4||yt===3&&(Ge&62914560)===Ge&&300>xn()-If?(ht&2)===0&&el(t,0):Rf|=a,Ja===Ge&&(Ja=0)),Rr(t)}function Iy(t,r){r===0&&(r=Hr()),t=ks(t,r),t!==null&&(Ii(t,r),Rr(t))}function z1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Iy(t,a)}function B1(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Iy(t,a)}function q1(t,r){return Et(t,r)}var Vu=null,rl=null,Uf=!1,Pu=!1,zf=!1,la=0;function Rr(t){t!==rl&&t.next===null&&(rl===null?Vu=rl=t:rl=rl.next=t),Pu=!0,Uf||(Uf=!0,F1(H1))}function Mo(t,r){if(!zf&&Pu){zf=!0;do for(var a=!1,o=Vu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var b=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-ln(42|t)+1)-1,m&=h&~(b&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Oy(o,m))}else m=Ge,m=gr(o,o===st?m:0),(m&3)===0||er(o,m)||(a=!0,Oy(o,m));o=o.next}while(a);zf=!1}}function H1(){Pu=Uf=!1;var t=0;la!==0&&(Z1()&&(t=la),la=0);for(var r=xn(),a=null,o=Vu;o!==null;){var h=o.next,m=Dy(o,r);m===0?(o.next=null,a===null?Vu=h:a.next=h,h===null&&(rl=a)):(a=o,(t!==0||(m&3)!==0)&&(Pu=!0)),o=h}Mo(t)}function Dy(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-ln(m),T=1<<b,D=h[b];D===-1?((T&a)===0||(T&o)!==0)&&(h[b]=pd(T,r)):D<=r&&(t.expiredLanes|=T),m&=~T}if(r=st,a=Ge,a=gr(t,t===r?a:0),o=t.callbackNode,a===0||t===r&&it===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||er(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&mr(o),Ta(a)){case 2:case 8:a=At;break;case 32:a=qt;break;case 268435456:a=Vc;break;default:a=qt}return o=jy.bind(null,t),a=Et(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&mr(o),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,r){var a=t.callbackNode;if(nl()&&t.callbackNode!==a)return null;var o=Ge;return o=gr(t,t===st?o:0),o===0?null:(vy(t,o,r),Dy(t,xn()),t.callbackNode!=null&&t.callbackNode===a?jy.bind(null,t):null)}function Oy(t,r){if(nl())return null;vy(t,r,!0)}function F1(t){ew(function(){(ht&6)!==0?Et(Ni,t):t()})}function Bf(){return la===0&&(la=zc()),la}function ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function My(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function G1(t,r,a,o,h){if(r==="submit"&&a&&a.stateNode===h){var m=ky((h[Zt]||null).action),b=o.submitter;b&&(r=(r=b[Zt]||null)?ky(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var T=new Pi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(la!==0){var D=b?My(h,b):new FormData(h);Yd(a,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=b?My(h,b):new FormData(h),Yd(a,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var qf=0;qf<Ng.length;qf++){var Hf=Ng[qf],$1=Hf.toLowerCase(),Q1=Hf[0].toUpperCase()+Hf.slice(1);ar($1,"on"+Q1)}ar(Eg,"onAnimationEnd"),ar(wg,"onAnimationIteration"),ar(Tg,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(u1,"onTransitionRun"),ar(h1,"onTransitionStart"),ar(d1,"onTransitionCancel"),ar(Sg,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function Vy(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var b=o.length-1;0<=b;b--){var T=o[b],D=T.instance,P=T.currentTarget;if(T=T.listener,D!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=P;try{m(h)}catch(Y){wu(Y)}h.currentTarget=null,m=D}else for(b=0;b<o.length;b++){if(T=o[b],D=T.instance,P=T.currentTarget,T=T.listener,D!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=P;try{m(h)}catch(Y){wu(Y)}h.currentTarget=null,m=D}}}}function Fe(t,r){var a=r[Di];a===void 0&&(a=r[Di]=new Set);var o=t+"__bubble";a.has(o)||(Py(r,t,2,!1),a.add(o))}function Ff(t,r,a){var o=0;r&&(o|=4),Py(a,t,o,r)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Gf(t){if(!t[Lu]){t[Lu]=!0,qc.forEach(function(a){a!=="selectionchange"&&(K1.has(a)||Ff(a,!1,t),Ff(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lu]||(r[Lu]=!0,Ff("selectionchange",!1,r))}}function Py(t,r,a,o){switch(a_(r)){case 2:var h=bw;break;case 8:h=xw;break;default:h=sm}a=h.bind(null,r,a,t),h=void 0,!Gr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function $f(t,r,a,o,h){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(b===4)for(b=o.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;b=b.return}for(;T!==null;){if(b=_r(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){o=m=b;continue e}T=T.parentNode}}o=o.return}Zl(function(){var P=m,Y=Wl(a),ee=[];e:{var G=Ag.get(t);if(G!==void 0){var K=Pi,me=t;switch(t){case"keypress":if(Mi(a)===0)break e;case"keydown":case"keyup":K=Ma;break;case"focusin":me="focus",K=ja;break;case"focusout":me="blur",K=ja;break;case"beforeblur":case"afterblur":K=ja;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Os;break;case Eg:case wg:case Tg:K=eo;break;case Sg:K=_;break;case"scroll":case"scrollend":K=Ui;break;case"wheel":K=S;break;case"copy":case"cut":case"paste":K=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ro;break;case"toggle":case"beforetoggle":K=$}var Ie=(r&4)!==0,_t=!Ie&&(t==="scroll"||t==="scrollend"),z=Ie?G!==null?G+"Capture":null:G;Ie=[];for(var M=P,H;M!==null;){var W=M;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=nr(M,z),W!=null&&Ie.push(Po(M,W,H))),_t)break;M=M.return}0<Ie.length&&(G=new K(G,me,null,a,Y),ee.push({event:G,listeners:Ie}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Xl&&(me=a.relatedTarget||a.fromElement)&&(_r(me)||me[yr]))break e;if((K||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=P,me=me?_r(me):null,me!==null&&(_t=ae(me),Ie=me.tag,me!==_t||Ie!==5&&Ie!==27&&Ie!==6)&&(me=null)):(K=null,me=P),K!==me)){if(Ie=qi,W="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=ro,W="onPointerLeave",z="onPointerEnter",M="pointer"),_t=K==null?G:tr(K),H=me==null?G:tr(me),G=new Ie(W,M+"leave",K,a,Y),G.target=_t,G.relatedTarget=H,W=null,_r(Y)===P&&(Ie=new Ie(z,M+"enter",me,a,Y),Ie.target=H,Ie.relatedTarget=_t,W=Ie),_t=W,K&&me)t:{for(Ie=K,z=me,M=0,H=Ie;H;H=sl(H))M++;for(H=0,W=z;W;W=sl(W))H++;for(;0<M-H;)Ie=sl(Ie),M--;for(;0<H-M;)z=sl(z),H--;for(;M--;){if(Ie===z||z!==null&&Ie===z.alternate)break t;Ie=sl(Ie),z=sl(z)}Ie=null}else Ie=null;K!==null&&Ly(ee,G,K,Ie,!1),me!==null&&_t!==null&&Ly(ee,_t,me,Ie,!0)}}e:{if(G=P?tr(P):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var de=hg;else if(cg(G))if(dg)de=a1;else{de=s1;var Ve=r1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&Na(P.elementType)&&(de=hg):de=i1;if(de&&(de=de(t,P))){ug(ee,de,a,Y);break e}Ve&&Ve(t,G,P),t==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&Ql(G,"number",G.value)}switch(Ve=P?tr(P):window,t){case"focusin":(cg(Ve)||Ve.contentEditable==="true")&&(Va=Ve,Ed=P,oo=null);break;case"focusout":oo=Ed=Va=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,bg(ee,a,Y);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":bg(ee,a,Y)}var ge;if(Ce)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ir?rr(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(wt&&a.locale!=="ko"&&(ir||we!=="onCompositionStart"?we==="onCompositionEnd"&&ir&&(ge=Kc()):(Un=Y,rt="value"in Un?Un.value:Un.textContent,ir=!0)),Ve=Uu(P,we),0<Ve.length&&(we=new no(we,t,null,a,Y),ee.push({event:we,listeners:Ve}),ge?we.data=ge:(ge=sr(a),ge!==null&&(we.data=ge)))),(ge=We?so(t,a):e1(t,a))&&(we=Uu(P,"onBeforeInput"),0<we.length&&(Ve=new no("onBeforeInput","beforeinput",null,a,Y),ee.push({event:Ve,listeners:we}),Ve.data=ge)),G1(ee,t,P,a,Y)}Vy(ee,r)})}function Po(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uu(t,r){for(var a=r+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=nr(t,a),h!=null&&o.unshift(Po(t,h,m)),h=nr(t,r),h!=null&&o.push(Po(t,h,m))),t=t.return}return o}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,r,a,o,h){for(var m=r._reactName,b=[];a!==null&&a!==o;){var T=a,D=T.alternate,P=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||P===null||(D=P,h?(P=nr(a,m),P!=null&&b.unshift(Po(a,P,D))):h||(P=nr(a,m),P!=null&&b.push(Po(a,P,D)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(Y1,`
`).replace(X1,"")}function zy(t,r){return r=Uy(r),Uy(t)===r}function zu(){}function et(t,r,a,o,h,m){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Tn(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,o);break;case"style":Yl(t,o,m);break;case"data":if(r!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",h.name,h,null),et(t,r,"formEncType",h.formEncType,h,null),et(t,r,"formMethod",h.formMethod,h,null),et(t,r,"formTarget",h.formTarget,h,null)):(et(t,r,"encType",h.encType,h,null),et(t,r,"method",h.method,h,null),et(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=zu);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Sa(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qc.get(a)||a,Sa(t,a,o))}}function Qf(t,r,a,o,h,m){switch(a){case"style":Yl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=t[Zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sa(t,a,o)}}}function tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:et(t,r,m,b,a,null)}}h&&et(t,r,"srcSet",a.srcSet,a,null),o&&et(t,r,"src",a.src,a,null);return;case"input":Fe("invalid",t);var T=m=b=h=null,D=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":b=Y;break;case"checked":D=Y;break;case"defaultChecked":P=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:et(t,r,o,Y,a,null)}}Fc(t,m,T,D,P,b,h,!1),Ye(t);return;case"select":Fe("invalid",t),o=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:et(t,r,h,T,a,null)}r=m,a=b,t.multiple=!!o,r!=null?Ns(t,!!o,r,!1):a!=null&&Ns(t,!!o,a,!0);return;case"textarea":Fe("invalid",t),m=h=o=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:et(t,r,b,T,a,null)}Rs(t,o,h,m),Ye(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,r,D,o,a,null)}return;case"dialog":Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(o=0;o<Vo.length;o++)Fe(Vo[o],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:et(t,r,P,o,a,null)}return;default:if(Na(r)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Qf(t,r,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&et(t,r,T,o,a,null))}function W1(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,T=null,D=null,P=null,Y=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:o.hasOwnProperty(K)||et(t,r,K,null,o,ee)}}for(var G in o){var K=o[G];if(ee=a[G],o.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":m=K;break;case"name":h=K;break;case"checked":P=K;break;case"defaultChecked":Y=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==ee&&et(t,r,G,K,o,ee)}}Aa(t,b,T,D,P,Y,m,h);return;case"select":K=b=T=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":K=D;default:o.hasOwnProperty(m)||et(t,r,m,null,o,D)}for(h in o)if(m=o[h],D=a[h],o.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==D&&et(t,r,h,m,o,D)}r=T,a=b,o=K,G!=null?Ns(t,!!a,G,!1):!!o!=!!a&&(r!=null?Ns(t,!!a,r,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,r,T,null,o,h)}for(b in o)if(h=o[b],m=a[b],o.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&et(t,r,b,h,o,m)}Gc(t,G,K);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:et(t,r,me,null,o,G)}for(D in o)if(G=o[D],K=a[D],o.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,r,D,G,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!o.hasOwnProperty(Ie)&&et(t,r,Ie,null,o,G);for(P in o)if(G=o[P],K=a[P],o.hasOwnProperty(P)&&G!==K&&(G!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:et(t,r,P,G,o,K)}return;default:if(Na(r)){for(var _t in a)G=a[_t],a.hasOwnProperty(_t)&&G!==void 0&&!o.hasOwnProperty(_t)&&Qf(t,r,_t,void 0,o,G);for(Y in o)G=o[Y],K=a[Y],!o.hasOwnProperty(Y)||G===K||G===void 0&&K===void 0||Qf(t,r,Y,G,o,K);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&et(t,r,z,null,o,G);for(ee in o)G=o[ee],K=a[ee],!o.hasOwnProperty(ee)||G===K||G==null&&K==null||et(t,r,ee,G,o,K)}var Kf=null,Yf=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function By(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Z1(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(tw)}:Hy;function tw(t){setTimeout(function(){throw t})}function Zf(t,r){var a=r,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){t.removeChild(h),Go(r);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);Go(r)}function Jf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function nw(t,r,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ji])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=cr(t.nextSibling),t===null)break}return null}function rw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=cr(t.nextSibling),t===null))return null;return t}function cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function Gy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function $y(t,r,a){switch(r=Bu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}var Yn=new Map,Qy=new Set;function qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ls=oe.d;oe.d={f:sw,r:iw,D:aw,C:lw,L:ow,m:cw,X:hw,S:uw,M:dw};function sw(){var t=ls.f(),r=ku();return t||r}function iw(t){var r=vr(t);r!==null&&r.tag===5&&r.type==="form"?b0(r):ls.r(t)}var il=typeof document>"u"?null:document;function Ky(t,r,a){var o=il;if(o&&typeof r=="string"&&r){var h=wn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Qy.has(h)||(Qy.add(h),t={rel:t,crossOrigin:a,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),tn(r,"link",t),pt(r),o.head.appendChild(r)))}}function aw(t){ls.D(t),Ky("dns-prefetch",t,null)}function lw(t,r){ls.C(t,r),Ky("preconnect",t,r)}function ow(t,r,a){ls.L(t,r,a);var o=il;if(o&&t&&r){var h='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+wn(a.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var m=h;switch(r){case"style":m=al(t);break;case"script":m=ll(t)}Yn.has(m)||(t=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Yn.set(m,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Lo(m))||r==="script"&&o.querySelector(Uo(m))||(r=o.createElement("link"),tn(r,"link",t),pt(r),o.head.appendChild(r)))}}function cw(t,r){ls.m(t,r);var a=il;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(t)}if(!Yn.has(m)&&(t=N({rel:"modulepreload",href:t},r),Yn.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(m)))return}o=a.createElement("link"),tn(o,"link",t),pt(o),a.head.appendChild(o)}}}function uw(t,r,a){ls.S(t,r,a);var o=il;if(o&&t){var h=En(o).hoistableStyles,m=al(t);r=r||"default";var b=h.get(m);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(Lo(m)))T.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Yn.get(m))&&em(t,a);var D=b=o.createElement("link");pt(D),tn(D,"link",t),D._p=new Promise(function(P,Y){D.onload=P,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hu(b,r,o)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(m,b)}}}function hw(t,r){ls.X(t,r);var a=il;if(a&&t){var o=En(a).hoistableScripts,h=ll(t),m=o.get(h);m||(m=a.querySelector(Uo(h)),m||(t=N({src:t,async:!0},r),(r=Yn.get(h))&&tm(t,r),m=a.createElement("script"),pt(m),tn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function dw(t,r){ls.M(t,r);var a=il;if(a&&t){var o=En(a).hoistableScripts,h=ll(t),m=o.get(h);m||(m=a.querySelector(Uo(h)),m||(t=N({src:t,async:!0,type:"module"},r),(r=Yn.get(h))&&tm(t,r),m=a.createElement("script"),pt(m),tn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Yy(t,r,a,o){var h=(h=ie.current)?qu(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=al(a.href),a=En(h).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var m=En(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Lo(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),m||fw(h,t,a,b.state))),r&&o===null)throw Error(i(528,""));return b}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ll(a),a=En(h).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function al(t){return'href="'+wn(t)+'"'}function Lo(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function fw(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),tn(r,"link",a),pt(r),t.head.appendChild(r))}function ll(t){return'[src="'+wn(t)+'"]'}function Uo(t){return"script[async]"+t}function Wy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+wn(a.href)+'"]');if(o)return r.instance=o,pt(o),o;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),pt(o),tn(o,"style",h),Hu(o,a.precedence,t),r.instance=o;case"stylesheet":h=al(a.href);var m=t.querySelector(Lo(h));if(m)return r.state.loading|=4,r.instance=m,pt(m),m;o=Xy(a),(h=Yn.get(h))&&em(o,h),m=(t.ownerDocument||t).createElement("link"),pt(m);var b=m;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),tn(m,"link",o),r.state.loading|=4,Hu(m,a.precedence,t),r.instance=m;case"script":return m=ll(a.src),(h=t.querySelector(Uo(m)))?(r.instance=h,pt(h),h):(o=a,(h=Yn.get(m))&&(o=N({},a),tm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),tn(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Hu(o,a.precedence,t));return r.instance}function Hu(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===r)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fu=null;function Zy(t,r,a){if(Fu===null){var o=new Map,h=Fu=new Map;h.set(a,o)}else h=Fu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[ji]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var T=o.get(b);T?T.push(m):o.set(b,[m])}}return o}function Jy(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function mw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zo=null;function pw(){}function gw(t,r,a){if(zo===null)throw Error(i(475));var o=zo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=al(a.href),m=t.querySelector(Lo(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Gu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=m,pt(m);return}m=t.ownerDocument||t,a=Xy(a),(h=Yn.get(h))&&em(a,h),m=m.createElement("link"),pt(m);var b=m;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),tn(m,"link",a),r.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Gu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function yw(){if(zo===null)throw Error(i(475));var t=zo;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,r.forEach(_w,t),$u=null,Gu.call(t))}function _w(t,r){if(!(r.state.loading&4)){var a=$u.get(t);if(a)var o=a.get(null);else{a=new Map,$u.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}h=r.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||o,m===o&&a.set(null,h),a.set(b,h),this.count++,o=Gu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Bo={$$typeof:j,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function vw(t,r,a,o,h,m,b,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.hiddenUpdates=Ll(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function t_(t,r,a,o,h,m,b,T,D,P,Y,ee){return t=new vw(t,r,a,b,T,D,P,ee),r=1,m===!0&&(r|=24),m=Qn(3,null,null,r),t.current=m,m.stateNode=t,r=Od(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:r},mf(m),t}function n_(t){return t?(t=Ua,t):Ua}function r_(t,r,a,o,h,m){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(r),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=qs(t,o,r),a!==null&&(_n(a,t,r),To(a,t,r))}function s_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function rm(t,r){s_(t,r),(t=t.alternate)&&s_(t,r)}function i_(t){if(t.tag===13){var r=ks(t,67108864);r!==null&&_n(r,t,67108864),rm(t,67108864)}}var Qu=!0;function bw(t,r,a,o){var h=w.T;w.T=null;var m=oe.p;try{oe.p=2,sm(t,r,a,o)}finally{oe.p=m,w.T=h}}function xw(t,r,a,o){var h=w.T;w.T=null;var m=oe.p;try{oe.p=8,sm(t,r,a,o)}finally{oe.p=m,w.T=h}}function sm(t,r,a,o){if(Qu){var h=im(o);if(h===null)$f(t,r,o,Ku,a),l_(t,o);else if(ww(h,t,r,a,o))o.stopPropagation();else if(l_(t,o),r&4&&-1<Ew.indexOf(t)){for(;h!==null;){var m=vr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=pr(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-ln(b);T.entanglements[1]|=D,b&=~D}Rr(m),(ht&6)===0&&(Du=xn()+500,Mo(0))}}break;case 13:T=ks(m,2),T!==null&&_n(T,m,2),ku(),rm(m,2)}if(m=im(o),m===null&&$f(t,r,o,Ku,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else $f(t,r,o,null,a)}}function im(t){return t=Wl(t),am(t)}var Ku=null;function am(t){if(Ku=null,t=_r(t),t!==null){var r=ae(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=He(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Ku=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Ni:return 2;case At:return 8;case qt:case md:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var lm=!1,Ys=null,Xs=null,Ws=null,qo=new Map,Ho=new Map,Zs=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,r){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":qo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(r.pointerId)}}function Fo(t,r,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},r!==null&&(r=vr(r),r!==null&&i_(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ww(t,r,a,o,h){switch(r){case"focusin":return Ys=Fo(Ys,t,r,a,o,h),!0;case"dragenter":return Xs=Fo(Xs,t,r,a,o,h),!0;case"mouseover":return Ws=Fo(Ws,t,r,a,o,h),!0;case"pointerover":var m=h.pointerId;return qo.set(m,Fo(qo.get(m)||null,t,r,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Ho.set(m,Fo(Ho.get(m)||null,t,r,a,o,h)),!0}return!1}function o_(t){var r=_r(t.target);if(r!==null){var a=ae(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){t.blockedOn=r,gd(t.priority,function(){if(a.tag===13){var o=Vn(),h=ks(a,o);h!==null&&_n(h,a,o),rm(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Xl=o,a.target.dispatchEvent(o),Xl=null}else return r=vr(a),r!==null&&i_(r),t.blockedOn=a,!1;r.shift()}return!0}function c_(t,r,a){Yu(t)&&a.delete(r)}function Tw(){lm=!1,Ys!==null&&Yu(Ys)&&(Ys=null),Xs!==null&&Yu(Xs)&&(Xs=null),Ws!==null&&Yu(Ws)&&(Ws=null),qo.forEach(c_),Ho.forEach(c_)}function Xu(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Tw)))}var Wu=null;function u_(t){Wu!==t&&(Wu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(am(o||a)===null)continue;break}var m=vr(a);m!==null&&(t.splice(r,3),r-=3,Yd(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Go(t){function r(D){return Xu(D,t)}Ys!==null&&Xu(Ys,t),Xs!==null&&Xu(Xs,t),Ws!==null&&Xu(Ws,t),qo.forEach(r),Ho.forEach(r);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],b=h[Zt]||null;if(typeof m=="function")b||u_(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Zt]||null)T=b.formAction;else if(am(h)!==null)continue}else T=b.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),u_(a)}}}function om(t){this._internalRoot=t}Zu.prototype.render=om.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=Vn();r_(a,o,t,r,null,null)},Zu.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&nl(),r_(t.current,2,null,t,null,null),ku(),r[yr]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ts();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Zs.length&&r!==0&&r<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&o_(t)}};var h_=e.version;if(h_!=="19.0.0")throw Error(i(527,h_,"19.0.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=re(r),t=t!==null?_e(t):null,t=t===null?null:t.stateNode,t};var Sw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:_r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Jn=Ju.inject(Sw),Xt=Ju}catch{}}return Qo.createRoot=function(t,r){if(!l(t))throw Error(i(299));var a=!1,o="",h=R0,m=C0,b=I0,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=t_(t,1,!1,null,null,a,o,h,m,b,T,null),t[yr]=r.current,Gf(t.nodeType===8?t.parentNode:t),new om(r)},Qo.hydrateRoot=function(t,r,a){if(!l(t))throw Error(i(299));var o=!1,h="",m=R0,b=C0,T=I0,D=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),r=t_(t,1,!0,r,a??null,o,h,m,b,T,D,P),r.context=n_(null),a=r.current,o=Vn(),h=Bs(o),h.callback=null,qs(a,h,o),r.current.lanes=o,Ii(r,o),Rr(r),t[yr]=r.current,Gf(t),new Zu(r)},Qo.version="19.0.0",Qo}var x_;function Mw(){if(x_)return hm.exports;x_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hm.exports=kw(),hm.exports}var Vw=Mw();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function Pw(s={}){function e(i,l){let{pathname:c,search:d,hash:p}=i.location;return Dm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:ac(l)}return Uw(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Lr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lw(){return Math.random().toString(36).substring(2,10)}function w_(s,e){return{usr:s.state,key:s.key,idx:e}}function Dm(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:n,key:e&&e.key||i||Lw()}}function ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Nl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function Uw(s,e,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,p="POP",g=null,y=v();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function v(){return(d.state||{idx:null}).idx}function E(){p="POP";let B=v(),J=B==null?null:B-y;y=B,g&&g({action:p,location:Q.location,delta:J})}function A(B,J){p="PUSH";let ne=Dm(Q.location,B,J);y=v()+1;let te=w_(ne,y),ye=Q.createHref(ne);try{d.pushState(te,"",ye)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;l.location.assign(ye)}c&&g&&g({action:p,location:Q.location,delta:1})}function j(B,J){p="REPLACE";let ne=Dm(Q.location,B,J);y=v();let te=w_(ne,y),ye=Q.createHref(ne);d.replaceState(te,"",ye),c&&g&&g({action:p,location:Q.location,delta:0})}function F(B){return zw(B)}let Q={get action(){return p},get location(){return s(l,d)},listen(B){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(E_,E),g=B,()=>{l.removeEventListener(E_,E),g=null}},createHref(B){return e(l,B)},createURL:F,encodeLocation(B){let J=F(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:A,replace:j,go(B){return d.go(B)}};return Q}function zw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:ac(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ub(s,e,n="/"){return Bw(s,e,n,!1)}function Bw(s,e,n,i){let l=typeof e=="string"?Nl(e):e,c=gs(l.pathname||"/",n);if(c==null)return null;let d=hb(s);qw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Jw(c);p=Ww(d[g],y,i)}return p}function hb(s,e=[],n=[],i="",l=!1){let c=(d,p,g=l,y)=>{let v={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&g)return;dt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=ms([i,v.relativePath]),A=n.concat(v);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),hb(d.children,e,A,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:Yw(E,d.index),routesMeta:A})};return s.forEach((d,p)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,p);else for(let y of db(d.path))c(d,p,!0,y)}),e}function db(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=db(i.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function qw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Xw(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Hw=/^:[\w-]+$/,Fw=3,Gw=2,$w=1,Qw=10,Kw=-2,T_=s=>s==="*";function Yw(s,e){let n=s.split("/"),i=n.length;return n.some(T_)&&(i+=Kw),e&&(i+=Gw),n.filter(l=>!T_(l)).reduce((l,c)=>l+(Hw.test(c)?Fw:c===""?$w:Qw),i)}function Xw(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function Ww(s,e,n=!1){let{routesMeta:i}=s,l={},c="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),A=g.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:ms([c,E.pathname]),pathnameBase:rT(ms([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=ms([c,E.pathnameBase]))}return d}function Th(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=Zw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:E},A)=>{if(v==="*"){let F=p[A]||"";d=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const j=p[A];return E&&!j?y[v]=void 0:y[v]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Zw(s,e=!1,n=!0){Lr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function Jw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function gs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function eT(s,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof s=="string"?Nl(s):s;return{pathname:n?n.startsWith("/")?n:tT(n,e):e,search:sT(i),hash:iT(l)}}function tT(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function pm(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nT(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fb(s){let e=nT(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function mb(s,e,n,i=!1){let l;typeof s=="string"?l=Nl(s):(l={...s},dt(!l.pathname||!l.pathname.includes("?"),pm("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),pm("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),pm("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!i&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),E-=1;l.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=eT(l,p),y=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var ms=s=>s.join("/").replace(/\/\/+/g,"/"),rT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),sT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,iT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function aT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var pb=["POST","PUT","PATCH","DELETE"];new Set(pb);var lT=["GET",...pb];new Set(lT);var Rl=L.createContext(null);Rl.displayName="DataRouter";var Gh=L.createContext(null);Gh.displayName="DataRouterState";L.createContext(!1);var gb=L.createContext({isTransitioning:!1});gb.displayName="ViewTransition";var oT=L.createContext(new Map);oT.displayName="Fetchers";var cT=L.createContext(null);cT.displayName="Await";var zr=L.createContext(null);zr.displayName="Navigation";var vc=L.createContext(null);vc.displayName="Location";var Br=L.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var op=L.createContext(null);op.displayName="RouteError";function uT(s,{relative:e}={}){dt(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(zr),{hash:l,pathname:c,search:d}=xc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ms([n,c])),i.createHref({pathname:p,search:d,hash:l})}function bc(){return L.useContext(vc)!=null}function bi(){return dt(bc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(vc).location}var yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(s){L.useContext(zr).static||L.useLayoutEffect(s)}function cp(){let{isDataRoute:s}=L.useContext(Br);return s?ST():hT()}function hT(){dt(bc(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Rl),{basename:e,navigator:n}=L.useContext(zr),{matches:i}=L.useContext(Br),{pathname:l}=bi(),c=JSON.stringify(fb(i)),d=L.useRef(!1);return _b(()=>{d.current=!0}),L.useCallback((g,y={})=>{if(Lr(d.current,yb),!d.current)return;if(typeof g=="number"){n.go(g);return}let v=mb(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ms([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,c,l,s])}var dT=L.createContext(null);function fT(s){let e=L.useContext(Br).outlet;return e&&L.createElement(dT.Provider,{value:s},e)}function xc(s,{relative:e}={}){let{matches:n}=L.useContext(Br),{pathname:i}=bi(),l=JSON.stringify(fb(n));return L.useMemo(()=>mb(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function mT(s,e){return vb(s,e)}function vb(s,e,n,i,l){var ne;dt(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(zr),{matches:d}=L.useContext(Br),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",v=p?p.pathnameBase:"/",E=p&&p.route;{let te=E&&E.path||"";bb(y,!E||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=bi(),j;if(e){let te=typeof e=="string"?Nl(e):e;dt(v==="/"||((ne=te.pathname)==null?void 0:ne.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${te.pathname}" was given in the \`location\` prop.`),j=te}else j=A;let F=j.pathname||"/",Q=F;if(v!=="/"){let te=v.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=ub(s,{pathname:Q});Lr(E||B!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Lr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=vT(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:ms([v,c.encodeLocation?c.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?v:ms([v,c.encodeLocation?c.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),d,n,i,l);return e&&J?L.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},J):J}function pT(){let s=TT(),e=aT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,d)}var gT=L.createElement(pT,null),yT=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?L.createElement(Br.Provider,{value:this.props.routeContext},L.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _T({routeContext:s,match:e,children:n}){let i=L.useContext(Rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Br.Provider,{value:s},n)}function vT(s,e=[],n=null,i=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n==null?void 0:n.errors;if(d!=null){let y=c.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:E,errors:A}=n,j=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||j){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,v,E)=>{let A,j=!1,F=null,Q=null;n&&(A=d&&v.route.id?d[v.route.id]:void 0,F=v.route.errorElement||gT,p&&(g<0&&E===0?(bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,Q=null):g===E&&(j=!0,Q=v.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,E+1)),J=()=>{let ne;return A?ne=F:j?ne=Q:v.route.Component?ne=L.createElement(v.route.Component,null):v.route.element?ne=v.route.element:ne=y,L.createElement(_T,{match:v,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:ne})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?L.createElement(yT,{location:n.location,revalidation:n.revalidation,component:F,error:A,children:J(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:i}):J()},null)}function up(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(s){let e=L.useContext(Rl);return dt(e,up(s)),e}function xT(s){let e=L.useContext(Gh);return dt(e,up(s)),e}function ET(s){let e=L.useContext(Br);return dt(e,up(s)),e}function hp(s){let e=ET(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function wT(){return hp("useRouteId")}function TT(){var i;let s=L.useContext(op),e=xT("useRouteError"),n=hp("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[n]}function ST(){let{router:s}=bT("useNavigate"),e=hp("useNavigate"),n=L.useRef(!1);return _b(()=>{n.current=!0}),L.useCallback(async(l,c={})=>{Lr(n.current,yb),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var S_={};function bb(s,e,n){!e&&!S_[s]&&(S_[s]=!0,Lr(!1,n))}L.memo(AT);function AT({routes:s,future:e,state:n,unstable_onError:i}){return vb(s,void 0,n,i,e)}function NT(s){return fT(s.context)}function Cr(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RT({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:c=!1}){dt(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=Nl(n));let{pathname:g="/",search:y="",hash:v="",state:E=null,key:A="default"}=n,j=L.useMemo(()=>{let F=gs(g,d);return F==null?null:{location:{pathname:F,search:y,hash:v,state:E,key:A},navigationType:i}},[d,g,y,v,E,A,i]);return Lr(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(zr.Provider,{value:p},L.createElement(vc.Provider,{children:e,value:j}))}function CT({children:s,location:e}){return mT(jm(s),e)}function jm(s,e=[]){let n=[];return L.Children.forEach(s,(i,l)=>{if(!L.isValidElement(i))return;let c=[...e,l];if(i.type===L.Fragment){n.push.apply(n,jm(i.props.children,c));return}dt(i.type===Cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=jm(i.props.children,c)),n.push(d)}),n}var dh="get",fh="application/x-www-form-urlencoded";function $h(s){return s!=null&&typeof s.tagName=="string"}function IT(s){return $h(s)&&s.tagName.toLowerCase()==="button"}function DT(s){return $h(s)&&s.tagName.toLowerCase()==="form"}function jT(s){return $h(s)&&s.tagName.toLowerCase()==="input"}function OT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function kT(s,e){return s.button===0&&(!e||e==="_self")&&!OT(s)}var eh=null;function MT(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var VT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(s){return s!=null&&!VT.has(s)?(Lr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):s}function PT(s,e){let n,i,l,c,d;if(DT(s)){let p=s.getAttribute("action");i=p?gs(p,e):null,n=s.getAttribute("method")||dh,l=gm(s.getAttribute("enctype"))||fh,c=new FormData(s)}else if(IT(s)||jT(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(i=g?gs(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||dh,l=gm(s.getAttribute("formenctype"))||gm(p.getAttribute("enctype"))||fh,c=new FormData(p,s),!MT()){let{name:y,type:v,value:E}=s;if(v==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,E)}}else{if($h(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,i=null,l=fh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function LT(s,e,n){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&gs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function UT(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function BT(s,e,n){let i=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await UT(c,n);return d.links?d.links():[]}return[]}));return GT(i.flat(1).filter(zT).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function A_(s,e,n,i,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var v;return n[y].pathname!==g.pathname||((v=n[y].route.path)==null?void 0:v.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{var E;let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qT(s,e,{includeHydrateFallback:n}={}){return HT(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function HT(s){return[...new Set(s)]}function FT(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function GT(s,e){let n=new Set;return new Set(e),s.reduce((i,l)=>{let c=JSON.stringify(FT(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function xb(){let s=L.useContext(Rl);return dp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function $T(){let s=L.useContext(Gh);return dp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var fp=L.createContext(void 0);fp.displayName="FrameworkContext";function Eb(){let s=L.useContext(fp);return dp(s,"You must render this element inside a <HydratedRouter> element"),s}function QT(s,e){let n=L.useContext(fp),[i,l]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:E}=e,A=L.useRef(null);L.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let Q=J=>{J.forEach(ne=>{d(ne.isIntersecting)})},B=new IntersectionObserver(Q,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[s]),L.useEffect(()=>{if(i){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[i]);let j=()=>{l(!0)},F=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,A,{}]:[c,A,{onFocus:Ko(p,j),onBlur:Ko(g,F),onMouseEnter:Ko(y,j),onMouseLeave:Ko(v,F),onTouchStart:Ko(E,j)}]:[!1,A,{}]}function Ko(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function KT({page:s,...e}){let{router:n}=xb(),i=L.useMemo(()=>ub(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?L.createElement(XT,{page:s,matches:i,...e}):null}function YT(s){let{manifest:e,routeModules:n}=Eb(),[i,l]=L.useState([]);return L.useEffect(()=>{let c=!1;return BT(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),i}function XT({page:s,matches:e,...n}){let i=bi(),{manifest:l,routeModules:c}=Eb(),{basename:d}=xb(),{loaderData:p,matches:g}=$T(),y=L.useMemo(()=>A_(s,e,g,l,i,"data"),[s,e,g,l,i]),v=L.useMemo(()=>A_(s,e,g,l,i,"assets"),[s,e,g,l,i]),E=L.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let F=new Set,Q=!1;if(e.forEach(J=>{var te;let ne=l.routes[J.route.id];!ne||!ne.hasLoader||(!y.some(ye=>ye.route.id===J.route.id)&&J.route.id in p&&((te=c[J.route.id])!=null&&te.shouldRevalidate)||ne.hasClientLoader?Q=!0:F.add(J.route.id))}),F.size===0)return[];let B=LT(s,d,"data");return Q&&F.size>0&&B.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[d,p,i,l,y,e,s,c]),A=L.useMemo(()=>qT(v,l),[v,l]),j=YT(v);return L.createElement(L.Fragment,null,E.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:Q})=>L.createElement("link",{key:F,nonce:n.nonce,...Q})))}function WT(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wb&&(window.__reactRouterVersion="7.9.1")}catch{}function ZT({basename:s,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=Pw({window:n,v5Compat:!0}));let l=i.current,[c,d]=L.useState({action:l.action,location:l.location}),p=L.useCallback(g=>{L.startTransition(()=>d(g))},[d]);return L.useLayoutEffect(()=>l.listen(p),[l,p]),L.createElement(RT,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:v,viewTransition:E,...A},j){let{basename:F}=L.useContext(zr),Q=typeof y=="string"&&Tb.test(y),B,J=!1;if(typeof y=="string"&&Q&&(B=y,wb))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),C=gs(N.pathname,F);N.origin===w.origin&&C!=null?y=C+N.search+N.hash:J=!0}catch{Lr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=uT(y,{relative:l}),[te,ye,fe]=QT(i,A),Ae=nS(y,{replace:d,state:p,target:g,preventScrollReset:v,relative:l,viewTransition:E});function O(w){e&&e(w),w.defaultPrevented||Ae(w)}let I=L.createElement("a",{...A,...fe,href:B||ne,onClick:J||c?e:O,ref:WT(j,ye),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return te&&!Q?L.createElement(L.Fragment,null,I,L.createElement(KT,{page:ne})):I});os.displayName="Link";var JT=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},v){let E=xc(d,{relative:y.relative}),A=bi(),j=L.useContext(Gh),{navigator:F,basename:Q}=L.useContext(zr),B=j!=null&&lS(E)&&p===!0,J=F.encodeLocation?F.encodeLocation(E).pathname:E.pathname,ne=A.pathname,te=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),te=te?te.toLowerCase():null,J=J.toLowerCase()),te&&Q&&(te=gs(te,Q)||te);const ye=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let fe=ne===J||!l&&ne.startsWith(J)&&ne.charAt(ye)==="/",Ae=te!=null&&(te===J||!l&&te.startsWith(J)&&te.charAt(J.length)==="/"),O={isActive:fe,isPending:Ae,isTransitioning:B},I=fe?e:void 0,w;typeof i=="function"?w=i(O):w=[i,fe?"active":null,Ae?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(O):c;return L.createElement(os,{...y,"aria-current":I,className:w,ref:v,style:N,to:d,viewTransition:p},typeof g=="function"?g(O):g)});JT.displayName="NavLink";var eS=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:c,method:d=dh,action:p,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:E,...A},j)=>{let F=iS(),Q=aS(p,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&Tb.test(p),ne=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,fe=(ye==null?void 0:ye.getAttribute("formmethod"))||d;F(ye||te.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:l,state:c,relative:y,preventScrollReset:v,viewTransition:E})};return L.createElement("form",{ref:j,method:B,action:Q,onSubmit:i?g:ne,...A,"data-discover":!J&&s==="render"?"true":void 0})});eS.displayName="Form";function tS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(s){let e=L.useContext(Rl);return dt(e,tS(s)),e}function nS(s,{target:e,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d}={}){let p=cp(),g=bi(),y=xc(s,{relative:c});return L.useCallback(v=>{if(kT(v,e)){v.preventDefault();let E=n!==void 0?n:ac(g)===ac(y);p(s,{replace:E,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[g,p,y,n,i,e,s,l,c,d])}var rS=0,sS=()=>`__${String(++rS)}__`;function iS(){let{router:s}=Sb("useSubmit"),{basename:e}=L.useContext(zr),n=wT();return L.useCallback(async(i,l={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=PT(i,e);if(l.navigate===!1){let v=l.fetcherKey||sS();await s.fetch(v,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function aS(s,{relative:e}={}){let{basename:n}=L.useContext(zr),i=L.useContext(Br);dt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...xc(s||".",{relative:e})},d=bi();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(v=>v==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let v=p.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ms([n,c.pathname])),ac(c)}function lS(s,{relative:e}={}){let n=L.useContext(gb);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sb("useViewTransitionState"),l=xc(s,{relative:e});if(!n.isTransitioning)return!1;let c=gs(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=gs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Th(l.pathname,d)!=null||Th(l.pathname,c)!=null}const oS=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},cS=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const l=s[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,v=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,j=y&63;g||(j=64,d||(A=64)),i.push(n[v],n[E],n[A],n[j])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ab(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):cS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new uS;const A=c<<2|p>>4;if(i.push(A),y!==64){const j=p<<4&240|y>>2;if(i.push(j),E!==64){const F=y<<6&192|E;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(s){const e=Ab(s);return Nb.encodeByteArray(e,!0)},Sh=function(s){return hS(s).replace(/\./g,"")},Rb=function(s){try{return Nb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>dS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof N_>"u")return;const s=N_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Rb(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return oS()||fS()||mS()||pS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Cb=s=>{var e,n;return(n=(e=Qh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},gS=s=>{const e=Cb(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ib=()=>{var s;return(s=Qh())==null?void 0:s.config},Db=s=>{var e;return(e=Qh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(d)),""].join(".")}const ec={};function vS(){const s={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?s.emulator.push(e):s.prod.push(e);return s}function bS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let R_=!1;function Ob(s,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||ec[s]===e||ec[s]||R_)return;ec[s]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=vS().prod.length>0;function d(){const A=document.getElementById(i);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{R_=!0,d()},A}function v(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=bS(i),j=n("text"),F=document.getElementById(j)||document.createElement("span"),Q=n("learnmore"),B=document.getElementById(Q)||document.createElement("a"),J=n("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const te=A.element;p(te),v(B,Q);const ye=y();g(ne,J),te.append(ne,F,B,ye),document.body.appendChild(te)}c?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function ES(){var e;const s=(e=Qh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AS(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function NS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class xs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=IS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?DS(c,i):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new xs(l,p,i)}}function DS(s,e){return s.replace(jS,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const jS=/\{\$([^}]+)}/g;function OS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function da(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const c=s[l],d=e[l];if(C_(c)&&C_(d)){if(!da(c,d))return!1}else if(c!==d)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function C_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Xo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function kS(s,e){const n=new MS(s,e);return n.subscribe.bind(n)}class MS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");VS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=ym),l.error===void 0&&(l.error=ym),l.complete===void 0&&(l.complete=ym);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(US(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&d.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LS(s){return s===oa?void 0:s}function US(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const BS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},qS=Ue.INFO,HS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},FS=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=HS[e];if(l)console[l](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=qS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const GS=(s,e)=>e.some(n=>s instanceof n);let I_,D_;function $S(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,Om=new WeakMap,Mb=new WeakMap,_m=new WeakMap,pp=new WeakMap;function KS(s){const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(ai(s.result)),l()},d=()=>{i(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&kb.set(n,s)}).catch(()=>{}),pp.set(e,s),e}function YS(s){if(Om.has(s))return;const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Om.set(s,e)}let km={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Mb.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XS(s){km=s(km)}function WS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(vm(this),e,...n);return Mb.set(i,e.sort?e.sort():[e]),ai(i)}:QS().includes(s)?function(...e){return s.apply(vm(this),e),ai(kb.get(this))}:function(...e){return ai(s.apply(vm(this),e))}}function ZS(s){return typeof s=="function"?WS(s):(s instanceof IDBTransaction&&YS(s),GS(s,$S())?new Proxy(s,km):s)}function ai(s){if(s instanceof IDBRequest)return KS(s);if(_m.has(s))return _m.get(s);const e=ZS(s);return e!==s&&(_m.set(s,e),pp.set(e,s)),e}const vm=s=>pp.get(s);function JS(s,e,{blocked:n,upgrade:i,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=ai(d);return i&&d.addEventListener("upgradeneeded",g=>{i(ai(d.result),g.oldVersion,g.newVersion,ai(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],bm=new Map;function j_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=t2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||e2.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return bm.set(e,c),c}XS(s=>({...s,get:(e,n,i)=>j_(e,n)||s.get(e,n,i),has:(e,n)=>!!j_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function r2(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",O_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new mp("@firebase/app"),s2="@firebase/app-compat",i2="@firebase/analytics-compat",a2="@firebase/analytics",l2="@firebase/app-check-compat",o2="@firebase/app-check",c2="@firebase/auth",u2="@firebase/auth-compat",h2="@firebase/database",d2="@firebase/data-connect",f2="@firebase/database-compat",m2="@firebase/functions",p2="@firebase/functions-compat",g2="@firebase/installations",y2="@firebase/installations-compat",_2="@firebase/messaging",v2="@firebase/messaging-compat",b2="@firebase/performance",x2="@firebase/performance-compat",E2="@firebase/remote-config",w2="@firebase/remote-config-compat",T2="@firebase/storage",S2="@firebase/storage-compat",A2="@firebase/firestore",N2="@firebase/ai",R2="@firebase/firestore-compat",C2="firebase",I2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",D2={[Mm]:"fire-core",[s2]:"fire-core-compat",[a2]:"fire-analytics",[i2]:"fire-analytics-compat",[o2]:"fire-app-check",[l2]:"fire-app-check-compat",[c2]:"fire-auth",[u2]:"fire-auth-compat",[h2]:"fire-rtdb",[d2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[m2]:"fire-fn",[p2]:"fire-fn-compat",[g2]:"fire-iid",[y2]:"fire-iid-compat",[_2]:"fire-fcm",[v2]:"fire-fcm-compat",[b2]:"fire-perf",[x2]:"fire-perf-compat",[E2]:"fire-rc",[w2]:"fire-rc-compat",[T2]:"fire-gcs",[S2]:"fire-gcs-compat",[A2]:"fire-fst",[R2]:"fire-fst-compat",[N2]:"fire-vertex","fire-js":"fire-js",[C2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,j2=new Map,Pm=new Map;function k_(s,e){try{s.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function _l(s){const e=s.name;if(Pm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of lc.values())k_(n,s);for(const n of j2.values())k_(n,s);return!0}function gp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Ec("app","Firebase",O2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=I2;function Vb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:Vm,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw li.create("bad-app-name",{appName:String(l)});if(n||(n=Ib()),!n)throw li.create("no-options");const c=lc.get(l);if(c){if(da(n,c.options)&&da(i,c.config))return c;throw li.create("duplicate-app",{appName:l})}const d=new zS(l);for(const g of Pm.values())d.addComponent(g);const p=new k2(n,i,d);return lc.set(l,p),p}function Pb(s=Vm){const e=lc.get(s);if(!e&&s===Vm&&Ib())return Vb();if(!e)throw li.create("no-app",{appName:s});return e}function M_(){return Array.from(lc.values())}function oi(s,e,n){let i=D2[s]??s;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}_l(new fa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebase-heartbeat-database",V2=1,oc="firebase-heartbeat-store";let xm=null;function Lb(){return xm||(xm=JS(M2,V2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(s=>{throw li.create("idb-open",{originalErrorMessage:s.message})})),xm}async function P2(s){try{const n=(await Lb()).transaction(oc),i=await n.objectStore(oc).get(Ub(s));return await n.done,i}catch(e){if(e instanceof xs)ys.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function V_(s,e){try{const i=(await Lb()).transaction(oc,"readwrite");await i.objectStore(oc).put(e,Ub(s)),await i.done}catch(n){if(n instanceof xs)ys.warn(n.message);else{const i=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(i.message)}}}function Ub(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1024,U2=30;class z2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=P_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>U2){const d=H2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ys.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:i,unsentEntries:l}=B2(this._heartbeatsCache.heartbeats),c=Sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ys.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function B2(s,e=L2){const n=[];let i=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),L_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),L_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class q2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?CS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L_(s){return Sh(JSON.stringify({version:2,heartbeats:s})).length}function H2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(s){_l(new fa("platform-logger",e=>new n2(e),"PRIVATE")),_l(new fa("heartbeat",e=>new z2(e),"PRIVATE")),oi(Mm,O_,s),oi(Mm,O_,"esm2020"),oi("fire-js","")}F2("");var G2="firebase",$2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(G2,$2,"app");function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=zb,Bb=new Ec("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new mp("@firebase/auth");function K2(s,...e){Ah.logLevel<=Ue.WARN&&Ah.warn(`Auth (${Il}): ${s}`,...e)}function mh(s,...e){Ah.logLevel<=Ue.ERROR&&Ah.error(`Auth (${Il}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(s,...e){throw _p(s,...e)}function hr(s,...e){return _p(s,...e)}function yp(s,e,n){const i={...Q2(),[e]:n};return new Ec("auth","Firebase",i).create(e,{appName:s.name})}function ps(s){return yp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y2(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(s,"argument-error"),yp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _p(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return Bb.create(s,...e)}function Te(s,e,...n){if(!s)throw _p(e,...n)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw mh(e),new Error(e)}function _s(s,e){s||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function X2(){return U_()==="http:"||U_()==="https:"}function U_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||TS()||"connection"in navigator)?navigator.onLine:!0}function Z2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=xS()||SS()}get(){return W2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(s,e){_s(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tA=new Tc(3e4,6e4);function xi(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ei(s,e,n,i,l={}){return Hb(s,l,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const p=wc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return wS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(y.credentials="include"),qb.fetch()(await Fb(s,s.config.apiHost,n,p),y)})}async function Hb(s,e,n){s._canInitEmulator=!1;const i={...J2,...e};try{const l=new rA(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw th(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw th(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw th(s,"user-disabled",d);const v=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yp(s,v,y);Zn(s,v)}}catch(l){if(l instanceof xs)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Sc(s,e,n,i,l={}){const c=await Ei(s,e,n,i,l);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fb(s,e,n,i){const l=`${e}${n}?${i}`,c=s,d=c.config.emulator?vp(s.config,l):`${s.config.apiScheme}://${l}`;return eA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hr(this.auth,"network-request-failed")),tA.get())})}}function th(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=hr(s,e,i);return l.customData._tokenResponse=n,l}function z_(s){return s!==void 0&&s.enterprise!==void 0}class sA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iA(s,e){return Ei(s,"GET","/v2/recaptchaConfig",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(s,e){return Ei(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return Ei(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lA(s,e=!1){const n=Yt(s),i=await n.getIdToken(e),l=bp(i);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:tc(Em(l.auth_time)),issuedAtTime:tc(Em(l.iat)),expirationTime:tc(Em(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Em(s){return Number(s)*1e3}function bp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rb(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function B_(s){const e=bp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xs&&oA(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function oA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(s){var E;const e=s.auth,n=await s.getIdToken(),i=await cc(s,Nh(e,{idToken:n}));Te(i==null?void 0:i.users.length,e,"internal-error");const l=i.users[0];s._notifyReloadListener(l);const c=(E=l.providerUserInfo)!=null&&E.length?Gb(l.providerUserInfo):[],d=hA(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,v)}async function uA(s){const e=Yt(s);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hA(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function Gb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(s,e){const n=await Hb(s,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Fb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(g.credentials="include"),qb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fA(s,e){return Ei(s,"POST","/v2/accounts:revokeToken",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=B_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:c}=await dA(e,n);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:c}=n,d=new dl;return i&&(Te(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new cA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lA(this,e)}reload(){return uA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await cc(this,aA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:j,providerData:F,stsTokenManager:Q}=n;Te(E&&Q,e,"internal-error");const B=dl.fromJSON(this.name,Q);Te(typeof E=="string",e,"internal-error"),ei(i,e.name),ei(l,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof j=="boolean",e,"internal-error"),ei(c,e.name),ei(d,e.name),ei(p,e.name),ei(g,e.name),ei(y,e.name),ei(v,e.name);const J=new ur({uid:E,auth:e,email:l,emailVerified:A,displayName:i,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:v});return F&&Array.isArray(F)&&(J.providerData=F.map(ne=>({...ne}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,i=!1){const l=new dl;l.updateFromServerResponse(n);const c=new ur({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Rh(c),c}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new dl;p.updateFromIdToken(i);const g=new ur({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function ds(s){_s(s instanceof Function,"Expected a class definition");let e=q_.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,q_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$b.type="NONE";const H_=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s,e,n){return`firebase:${s}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=ph(this.userKey,l.apiKey,c),this.fullPersistenceKey=ph("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(ds(H_),e,i);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ds(H_);const d=ph(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const v=await y._get(d);if(v){let E;if(typeof v=="string"){const A=await Nh(e,{idToken:v}).catch(()=>{});if(!A)break;E=await ur._fromGetAccountInfoResponse(e,A,v)}else E=ur._fromJSON(e,v);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new fl(c,e,i):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Jb(e))return"Webos";if(Kb(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Qb(s=mn()){return/firefox\//i.test(s)}function Kb(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(s=mn()){return/crios\//i.test(s)}function Xb(s=mn()){return/iemobile/i.test(s)}function Wb(s=mn()){return/android/i.test(s)}function Zb(s=mn()){return/blackberry/i.test(s)}function Jb(s=mn()){return/webos/i.test(s)}function xp(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mA(s=mn()){var e;return xp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function pA(){return AS()&&document.documentMode===10}function ex(s=mn()){return xp(s)||Wb(s)||Jb(s)||Zb(s)||/windows phone/i.test(s)||Xb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(s,e=[]){let n;switch(s){case"Browser":n=F_(mn());break;case"Worker":n=`${F_(mn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(s,e={}){return Ei(s,"GET","/v2/passwordPolicy",xi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=6;class vA{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_A,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new gA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{var i,l,c;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),i=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===p)&&(g!=null&&g.user)&&(i=g.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ps(this));const n=e?Yt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yA(this),n=new vA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await fA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&K2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Es(s){return Yt(s)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xA(s){Kh=s}function nx(s){return Kh.loadJS(s)}function EA(){return Kh.recaptchaEnterpriseScript}function wA(){return Kh.gapiScript}function TA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class SA{constructor(){this.enterprise=new AA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NA="recaptcha-enterprise",rx="NO_RECAPTCHA";class RA{constructor(e){this.type=NA,this.auth=Es(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{iA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new sA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;z_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(rx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(p=>{if(!n&&z_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=EA();g.length!==0&&(g+=p),nx(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function $_(s,e,n,i=!1,l=!1){const c=new RA(s);let d;if(l)d=rx;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function zm(s,e,n,i,l){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await $_(s,e,n,n==="getOobCode");return i(s,d)}else return i(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await $_(s,e,n,n==="getOobCode");return i(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(s,e){const n=gp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(da(c,e??{}))return l;Zn(l,"already-initialized")}return n.initialize({options:e})}function IA(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function DA(s,e,n){const i=Es(s);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=sx(e),{host:d,port:p}=jA(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},v=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(da(y,i.config.emulator)&&da(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Cl(d)?(jb(`${c}//${d}${g}`),Ob("Auth",!0)):OA()}function sx(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jA(s){const e=sx(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:Q_(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Q_(d)}}}function Q_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function OA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function kA(s,e){return Ei(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(s,e){return Sc(s,"POST","/v1/accounts:signInWithPassword",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(s,e){return Sc(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,e))}async function PA(s,e){return Sc(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Ep{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new uc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",MA);case"emailLink":return VA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,i,"signUpPassword",kA);case"emailLink":return PA(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s,e){return Sc(s,"POST","/v1/accounts:signInWithIdp",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="http://localhost";class ma extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...c}=n;if(!i||!l)return null;const d=new ma(i,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:LA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zA(s){const e=Yo(Xo(s)).link,n=e?Yo(Xo(e)).deep_link_id:null,i=Yo(Xo(s)).deep_link_id;return(i?Yo(Xo(i)).link:null)||i||n||e||s}class wp{constructor(e){const n=Yo(Xo(e)),i=n.apiKey??null,l=n.oobCode??null,c=UA(n.mode??null);Te(i&&l&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zA(e);try{return new wp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wp.parseLink(n);return Te(i,"argument-error"),uc._fromEmailAndCode(e,i.code,i.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Ac{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return cs.credential(n,i)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Ac{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ac{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return si.credential(n,i)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(s,e){return Sc(s,"POST","/v1/accounts:signUp",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const c=await ur._fromIdTokenResponse(e,i,l),d=K_(i);return new pa({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=K_(i);return new pa({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function K_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends xs{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Ch(e,n,i,l)}}function ix(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(s,c,e,i):c})}async function qA(s,e,n=!1){const i=await cc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return pa._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s,e,n=!1){const{auth:i}=s;if(Pn(i.app))return Promise.reject(ps(i));const l="reauthenticate";try{const c=await cc(s,ix(i,l,e,s),n);Te(c.idToken,i,"internal-error");const d=bp(c.idToken);Te(d,i,"internal-error");const{sub:p}=d;return Te(s.uid===p,i,"user-mismatch"),pa._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(s,e,n=!1){if(Pn(s.app))return Promise.reject(ps(s));const i="signIn",l=await ix(s,i,e),c=await pa._fromIdTokenResponse(s,i,l);return n||await s._updateCurrentUser(c.user),c}async function FA(s,e){return ax(Es(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(s){const e=Es(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y_(s,e,n){if(Pn(s.app))return Promise.reject(ps(s));const i=Es(s),d=await zm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&lx(s),g}),p=await pa._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function GA(s,e,n){return Pn(s.app)?Promise.reject(ps(s)):FA(Yt(s),Dl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lx(s),i})}function $A(s,e,n,i){return Yt(s).onIdTokenChanged(e,n,i)}function QA(s,e,n){return Yt(s).beforeAuthStateChanged(e,n)}function KA(s,e,n,i){return Yt(s).onAuthStateChanged(e,n,i)}function X_(s){return Yt(s).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=1e3,XA=10;class cx extends ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);pA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,XA):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const WA=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ux.type="SESSION";const hx=ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new Yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await ZA(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Sp("",20);l.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:l,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(v),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function eN(s){Or().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function rN(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebaseLocalStorageDb",sN=1,Dh="firebaseLocalStorage",mx="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function iN(){const s=indexedDB.deleteDatabase(fx);return new Nc(s).toPromise()}function Bm(){const s=indexedDB.open(fx,sN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Dh,{keyPath:mx})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Dh)?e(i):(i.close(),await iN(),e(await Bm()))})})}async function W_(s,e,n){const i=Xh(s,!0).put({[mx]:e,value:n});return new Nc(i).toPromise()}async function aN(s,e){const n=Xh(s,!1).get(e),i=await new Nc(n).toPromise();return i===void 0?null:i.value}function Z_(s,e){const n=Xh(s,!0).delete(e);return new Nc(n).toPromise()}const lN=800,oN=3;class px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>oN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new JA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await W_(e,Ih,"1"),await Z_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>aN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Xh(l,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}px.type="LOCAL";const cN=px;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s,e){return e?ds(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uN(s){return ax(s.auth,new Ap(s),s.bypassAuthState)}function hN(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),HA(n,new Ap(s),s.bypassAuthState)}async function dN(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),qA(n,new Ap(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:Zn(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Tc(2e3,1e4);async function mN(s,e,n){if(Pn(s.app))return Promise.reject(hr(s,"operation-not-supported-in-this-environment"));const i=Es(s);Y2(s,e,Tp);const l=gx(i,n);return new ca(i,"signInViaPopup",e,l).executeNotNull()}class ca extends yx{constructor(e,n,i,l,c){super(e,n,l,c),this.provider=i,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fN.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="pendingRedirect",gh=new Map;class gN extends yx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const i=await yN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(s,e){const n=bN(e),i=vN(s);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function _N(s,e){gh.set(s._key(),e)}function vN(s){return ds(s._redirectPersistence)}function bN(s){return ph(pN,s.config.apiKey,s.name)}async function xN(s,e){return await Es(s)._initializationPromise,_x(s,e,!1)}async function _x(s,e,n=!1){if(Pn(s.app))return Promise.reject(ps(s));const i=Es(s),l=gx(i,e),d=await new gN(i,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=600*1e3;class wN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!vx(e)){const l=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EN&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(e))}saveEventToCache(e){this.cachedEventUids.add(J_(e)),this.lastProcessedEventTime=Date.now()}}function J_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function vx({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(s,e={}){return Ei(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function RN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await SN(s);for(const n of e)try{if(CN(n))return}catch{}Zn(s,"unauthorized-domain")}function CN(s){const e=Lm(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!NN.test(n))return!1;if(AN.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Tc(3e4,6e4);function ev(){const s=Or().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function DN(s){return new Promise((e,n)=>{var l,c,d;function i(){ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ev(),n(hr(s,"network-request-failed"))},timeout:IN.get()})}if((c=(l=Or().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Or().gapi)!=null&&d.load)i();else{const p=TA("iframefcb");return Or()[p]=()=>{gapi.load?i():n(hr(s,"network-request-failed"))},nx(`${wA()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw yh=null,e})}let yh=null;function jN(s){return yh=yh||DN(s),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Tc(5e3,15e3),kN="__/auth/iframe",MN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?vp(e,MN):`https://${s.config.authDomain}/${kN}`,i={apiKey:e.apiKey,appName:s.name,v:Il},l=PN.get(s.config.apiHost);l&&(i.eid=l);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${wc(i).slice(1)}`}async function UN(s){const e=await jN(s),n=Or().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:LN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const d=hr(s,"network-request-failed"),p=Or().setTimeout(()=>{c(d)},ON.get());function g(){Or().clearTimeout(p),l(i)}i.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,qN=600,HN="_blank",FN="http://localhost";class tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GN(s,e,n,i=BN,l=qN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...zN,width:i.toString(),height:l.toString(),top:c,left:d},y=mn().toLowerCase();n&&(p=Yb(y)?HN:n),Qb(y)&&(e=e||FN,g.scrollbars="yes");const v=Object.entries(g).reduce((A,[j,F])=>`${A}${j}=${F},`,"");if(mA(y)&&p!=="_self")return $N(e||"",p),new tv(null);const E=window.open(e||"",p,v);Te(E,s,"popup-blocked");try{E.focus()}catch{}return new tv(E)}function $N(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",KN="emulator/auth/handler",YN=encodeURIComponent("fac");async function nv(s,e,n,i,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Il,eventId:l};if(e instanceof Tp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",OS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof Ac){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const g=await s._getAppCheckToken(),y=g?`#${YN}=${encodeURIComponent(g)}`:"";return`${XN(s)}?${wc(p).slice(1)}${y}`}function XN({config:s}){return s.emulator?vp(s,KN):`https://${s.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class WN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hx,this._completeRedirectFn=_x,this._overrideRedirectResult=_N}async _openPopup(e,n,i,l){var d;_s((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await nv(e,n,i,Lm(),l);return GN(e,c,Sp())}async _openRedirect(e,n,i,l){await this._originValidation(e);const c=await nv(e,n,i,Lm(),l);return eN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await UN(e),i=new wN(e);return n.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[wm];c!==void 0&&n(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ex()||Kb()||xp()}}const ZN=WN;var rv="@firebase/auth",sv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tR(s){_l(new fa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tx(s)},y=new bA(i,l,c,g);return IA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_l(new fa("auth-internal",e=>{const n=Es(e.getProvider("auth").getImmediate());return(i=>new JN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(rv,sv,eR(s)),oi(rv,sv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=300,rR=Db("authIdTokenMaxAge")||nR;let iv=null;const sR=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>rR)return;const l=n==null?void 0:n.token;iv!==l&&(iv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bx(s=Pb()){const e=gp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=CA(s,{popupRedirectResolver:ZN,persistence:[cN,WA,hx]}),i=Db("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=sR(c.toString());QA(n,d,()=>d(n.currentUser)),$A(n,p=>d(p))}}const l=Cb("auth");return l&&DA(n,`http://${l}`),n}function iR(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}xA({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const c=hr("internal-error");c.customData=l,n(c)},i.type="text/javascript",i.charset="UTF-8",iR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tR("Browser");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,xx;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function w(){}w.prototype=I.prototype,O.F=I.prototype,O.prototype=new w,O.prototype.constructor=O,O.D=function(N,C,V){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return I.prototype[C].apply(N,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,I,w){w||(w=0);const N=Array(16);if(typeof I=="string")for(var C=0;C<16;++C)N[C]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(C=0;C<16;++C)N[C]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=O.g[0],w=O.g[1],C=O.g[2];let V=O.g[3],R;R=I+(V^w&(C^V))+N[0]+3614090360&4294967295,I=w+(R<<7&4294967295|R>>>25),R=V+(C^I&(w^C))+N[1]+3905402710&4294967295,V=I+(R<<12&4294967295|R>>>20),R=C+(w^V&(I^w))+N[2]+606105819&4294967295,C=V+(R<<17&4294967295|R>>>15),R=w+(I^C&(V^I))+N[3]+3250441966&4294967295,w=C+(R<<22&4294967295|R>>>10),R=I+(V^w&(C^V))+N[4]+4118548399&4294967295,I=w+(R<<7&4294967295|R>>>25),R=V+(C^I&(w^C))+N[5]+1200080426&4294967295,V=I+(R<<12&4294967295|R>>>20),R=C+(w^V&(I^w))+N[6]+2821735955&4294967295,C=V+(R<<17&4294967295|R>>>15),R=w+(I^C&(V^I))+N[7]+4249261313&4294967295,w=C+(R<<22&4294967295|R>>>10),R=I+(V^w&(C^V))+N[8]+1770035416&4294967295,I=w+(R<<7&4294967295|R>>>25),R=V+(C^I&(w^C))+N[9]+2336552879&4294967295,V=I+(R<<12&4294967295|R>>>20),R=C+(w^V&(I^w))+N[10]+4294925233&4294967295,C=V+(R<<17&4294967295|R>>>15),R=w+(I^C&(V^I))+N[11]+2304563134&4294967295,w=C+(R<<22&4294967295|R>>>10),R=I+(V^w&(C^V))+N[12]+1804603682&4294967295,I=w+(R<<7&4294967295|R>>>25),R=V+(C^I&(w^C))+N[13]+4254626195&4294967295,V=I+(R<<12&4294967295|R>>>20),R=C+(w^V&(I^w))+N[14]+2792965006&4294967295,C=V+(R<<17&4294967295|R>>>15),R=w+(I^C&(V^I))+N[15]+1236535329&4294967295,w=C+(R<<22&4294967295|R>>>10),R=I+(C^V&(w^C))+N[1]+4129170786&4294967295,I=w+(R<<5&4294967295|R>>>27),R=V+(w^C&(I^w))+N[6]+3225465664&4294967295,V=I+(R<<9&4294967295|R>>>23),R=C+(I^w&(V^I))+N[11]+643717713&4294967295,C=V+(R<<14&4294967295|R>>>18),R=w+(V^I&(C^V))+N[0]+3921069994&4294967295,w=C+(R<<20&4294967295|R>>>12),R=I+(C^V&(w^C))+N[5]+3593408605&4294967295,I=w+(R<<5&4294967295|R>>>27),R=V+(w^C&(I^w))+N[10]+38016083&4294967295,V=I+(R<<9&4294967295|R>>>23),R=C+(I^w&(V^I))+N[15]+3634488961&4294967295,C=V+(R<<14&4294967295|R>>>18),R=w+(V^I&(C^V))+N[4]+3889429448&4294967295,w=C+(R<<20&4294967295|R>>>12),R=I+(C^V&(w^C))+N[9]+568446438&4294967295,I=w+(R<<5&4294967295|R>>>27),R=V+(w^C&(I^w))+N[14]+3275163606&4294967295,V=I+(R<<9&4294967295|R>>>23),R=C+(I^w&(V^I))+N[3]+4107603335&4294967295,C=V+(R<<14&4294967295|R>>>18),R=w+(V^I&(C^V))+N[8]+1163531501&4294967295,w=C+(R<<20&4294967295|R>>>12),R=I+(C^V&(w^C))+N[13]+2850285829&4294967295,I=w+(R<<5&4294967295|R>>>27),R=V+(w^C&(I^w))+N[2]+4243563512&4294967295,V=I+(R<<9&4294967295|R>>>23),R=C+(I^w&(V^I))+N[7]+1735328473&4294967295,C=V+(R<<14&4294967295|R>>>18),R=w+(V^I&(C^V))+N[12]+2368359562&4294967295,w=C+(R<<20&4294967295|R>>>12),R=I+(w^C^V)+N[5]+4294588738&4294967295,I=w+(R<<4&4294967295|R>>>28),R=V+(I^w^C)+N[8]+2272392833&4294967295,V=I+(R<<11&4294967295|R>>>21),R=C+(V^I^w)+N[11]+1839030562&4294967295,C=V+(R<<16&4294967295|R>>>16),R=w+(C^V^I)+N[14]+4259657740&4294967295,w=C+(R<<23&4294967295|R>>>9),R=I+(w^C^V)+N[1]+2763975236&4294967295,I=w+(R<<4&4294967295|R>>>28),R=V+(I^w^C)+N[4]+1272893353&4294967295,V=I+(R<<11&4294967295|R>>>21),R=C+(V^I^w)+N[7]+4139469664&4294967295,C=V+(R<<16&4294967295|R>>>16),R=w+(C^V^I)+N[10]+3200236656&4294967295,w=C+(R<<23&4294967295|R>>>9),R=I+(w^C^V)+N[13]+681279174&4294967295,I=w+(R<<4&4294967295|R>>>28),R=V+(I^w^C)+N[0]+3936430074&4294967295,V=I+(R<<11&4294967295|R>>>21),R=C+(V^I^w)+N[3]+3572445317&4294967295,C=V+(R<<16&4294967295|R>>>16),R=w+(C^V^I)+N[6]+76029189&4294967295,w=C+(R<<23&4294967295|R>>>9),R=I+(w^C^V)+N[9]+3654602809&4294967295,I=w+(R<<4&4294967295|R>>>28),R=V+(I^w^C)+N[12]+3873151461&4294967295,V=I+(R<<11&4294967295|R>>>21),R=C+(V^I^w)+N[15]+530742520&4294967295,C=V+(R<<16&4294967295|R>>>16),R=w+(C^V^I)+N[2]+3299628645&4294967295,w=C+(R<<23&4294967295|R>>>9),R=I+(C^(w|~V))+N[0]+4096336452&4294967295,I=w+(R<<6&4294967295|R>>>26),R=V+(w^(I|~C))+N[7]+1126891415&4294967295,V=I+(R<<10&4294967295|R>>>22),R=C+(I^(V|~w))+N[14]+2878612391&4294967295,C=V+(R<<15&4294967295|R>>>17),R=w+(V^(C|~I))+N[5]+4237533241&4294967295,w=C+(R<<21&4294967295|R>>>11),R=I+(C^(w|~V))+N[12]+1700485571&4294967295,I=w+(R<<6&4294967295|R>>>26),R=V+(w^(I|~C))+N[3]+2399980690&4294967295,V=I+(R<<10&4294967295|R>>>22),R=C+(I^(V|~w))+N[10]+4293915773&4294967295,C=V+(R<<15&4294967295|R>>>17),R=w+(V^(C|~I))+N[1]+2240044497&4294967295,w=C+(R<<21&4294967295|R>>>11),R=I+(C^(w|~V))+N[8]+1873313359&4294967295,I=w+(R<<6&4294967295|R>>>26),R=V+(w^(I|~C))+N[15]+4264355552&4294967295,V=I+(R<<10&4294967295|R>>>22),R=C+(I^(V|~w))+N[6]+2734768916&4294967295,C=V+(R<<15&4294967295|R>>>17),R=w+(V^(C|~I))+N[13]+1309151649&4294967295,w=C+(R<<21&4294967295|R>>>11),R=I+(C^(w|~V))+N[4]+4149444226&4294967295,I=w+(R<<6&4294967295|R>>>26),R=V+(w^(I|~C))+N[11]+3174756917&4294967295,V=I+(R<<10&4294967295|R>>>22),R=C+(I^(V|~w))+N[2]+718787259&4294967295,C=V+(R<<15&4294967295|R>>>17),R=w+(V^(C|~I))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+V&4294967295}i.prototype.v=function(O,I){I===void 0&&(I=O.length);const w=I-this.blockSize,N=this.C;let C=this.h,V=0;for(;V<I;){if(C==0)for(;V<=w;)l(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<I;)if(N[C++]=O.charCodeAt(V++),C==this.blockSize){l(this,N),C=0;break}}else for(;V<I;)if(N[C++]=O[V++],C==this.blockSize){l(this,N),C=0;break}}this.h=C,this.o+=I},i.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var w=O.length-8;w<O.length;++w)O[w]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,w=0;w<4;++w)for(let N=0;N<32;N+=8)O[I++]=this.g[w]>>>N&255;return O};function c(O,I){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=I(O)}function d(O,I){this.h=I;const w=[];let N=!0;for(let C=O.length-1;C>=0;C--){const V=O[C]|0;N&&V==I||(w[C]=V,N=!1)}this.g=w}var p={};function g(O){return-128<=O&&O<128?c(O,function(I){return new d([I|0],I<0?-1:0)}):new d([O|0],O<0?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return E;if(O<0)return B(y(-O));const I=[];let w=1;for(let N=0;O>=w;N++)I[N]=O/w|0,w*=4294967296;return new d(I,0)}function v(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return B(v(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(I,8));let N=E;for(let V=0;V<O.length;V+=8){var C=Math.min(8,O.length-V);const R=parseInt(O.substring(V,V+C),I);C<8?(C=y(Math.pow(I,C)),N=N.j(C).add(y(R))):(N=N.j(w),N=N.add(y(R)))}return N}var E=g(0),A=g(1),j=g(16777216);s=d.prototype,s.m=function(){if(Q(this))return-B(this).m();let O=0,I=1;for(let w=0;w<this.g.length;w++){const N=this.i(w);O+=(N>=0?N:4294967296+N)*I,I*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F(this))return"0";if(Q(this))return"-"+B(this).toString(O);const I=y(Math.pow(O,6));var w=this;let N="";for(;;){const C=ye(w,I).g;w=J(w,C.j(I));let V=((w.g.length>0?w.g[0]:w.h)>>>0).toString(O);if(w=C,F(w))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function F(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function Q(O){return O.h==-1}s.l=function(O){return O=J(this,O),Q(O)?-1:F(O)?0:1};function B(O){const I=O.g.length,w=[];for(let N=0;N<I;N++)w[N]=~O.g[N];return new d(w,~O.h).add(A)}s.abs=function(){return Q(this)?B(this):this},s.add=function(O){const I=Math.max(this.g.length,O.g.length),w=[];let N=0;for(let C=0;C<=I;C++){let V=N+(this.i(C)&65535)+(O.i(C)&65535),R=(V>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);N=R>>>16,V&=65535,R&=65535,w[C]=R<<16|V}return new d(w,w[w.length-1]&-2147483648?-1:0)};function J(O,I){return O.add(B(I))}s.j=function(O){if(F(this)||F(O))return E;if(Q(this))return Q(O)?B(this).j(B(O)):B(B(this).j(O));if(Q(O))return B(this.j(B(O)));if(this.l(j)<0&&O.l(j)<0)return y(this.m()*O.m());const I=this.g.length+O.g.length,w=[];for(var N=0;N<2*I;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(let C=0;C<O.g.length;C++){const V=this.i(N)>>>16,R=this.i(N)&65535,xe=O.i(C)>>>16,be=O.i(C)&65535;w[2*N+2*C]+=R*be,ne(w,2*N+2*C),w[2*N+2*C+1]+=V*be,ne(w,2*N+2*C+1),w[2*N+2*C+1]+=R*xe,ne(w,2*N+2*C+1),w[2*N+2*C+2]+=V*xe,ne(w,2*N+2*C+2)}for(O=0;O<I;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=I;O<2*I;O++)w[O]=0;return new d(w,0)};function ne(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function te(O,I){this.g=O,this.h=I}function ye(O,I){if(F(I))throw Error("division by zero");if(F(O))return new te(E,E);if(Q(O))return I=ye(B(O),I),new te(B(I.g),B(I.h));if(Q(I))return I=ye(O,B(I)),new te(B(I.g),I.h);if(O.g.length>30){if(Q(O)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var w=A,N=I;N.l(O)<=0;)w=fe(w),N=fe(N);var C=Ae(w,1),V=Ae(N,1);for(N=Ae(N,2),w=Ae(w,2);!F(N);){var R=V.add(N);R.l(O)<=0&&(C=C.add(w),V=R),N=Ae(N,1),w=Ae(w,1)}return I=J(O,C.j(I)),new te(C,I)}for(C=E;O.l(I)>=0;){for(w=Math.max(1,Math.floor(O.m()/I.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=y(w),R=V.j(I);Q(R)||R.l(O)>0;)w-=N,V=y(w),R=V.j(I);F(V)&&(V=A),C=C.add(V),O=J(O,R)}return new te(C,O)}s.B=function(O){return ye(this,O).h},s.and=function(O){const I=Math.max(this.g.length,O.g.length),w=[];for(let N=0;N<I;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},s.or=function(O){const I=Math.max(this.g.length,O.g.length),w=[];for(let N=0;N<I;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},s.xor=function(O){const I=Math.max(this.g.length,O.g.length),w=[];for(let N=0;N<I;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function fe(O){const I=O.g.length+1,w=[];for(let N=0;N<I;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function Ae(O,I){const w=I>>5;I%=32;const N=O.g.length-w,C=[];for(let V=0;V<N;V++)C[V]=I>0?O.i(V+w)>>>I|O.i(V+w+1)<<32-I:O.i(V+w);return new d(C,O.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,xx=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=v,ci=d}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ex,Wo,wx,_h,qm,Tx,Sx,Ax;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var _=0;_<u.length;++_){var x=u[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function l(u,_){if(_)e:{var x=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in x))break e;x=x[q]}u=u[u.length-1],S=x[u],_=_(S),_!=S&&_!=null&&e(x,u,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(_){var x=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&x.push([S,_[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function g(u,_,x){return u.call.apply(u.bind,arguments)}function y(u,_,x){return y=g,y.apply(null,arguments)}function v(u,_){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,_){function x(){}x.prototype=_.prototype,u.Z=_.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(S,q,$){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return _.prototype[q].apply(S,le)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const _=u.length;if(_>0){const x=Array(_);for(let S=0;S<_;S++)x[S]=u[S];return x}return[]}function F(u,_){for(let S=1;S<arguments.length;S++){const q=arguments[S];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=u.length||0;const $=q.length||0;u.length=x+$;for(let le=0;le<$;le++)u[x+le]=q[le]}else u.push(q)}}class Q{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(u){d.setTimeout(()=>{throw u},0)}function J(){var u=O;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,x){const S=te.get();S.set(_,x),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new Q(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Ae=!1,O=new ne,I=()=>{const u=Promise.resolve(void 0);fe=()=>{u.then(w)}};function w(){for(var u;u=J();){try{u.h.call(u.g)}catch(x){B(x)}var _=te;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}Ae=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};d.addEventListener("test",x,_),d.removeEventListener("test",x,_)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function xe(u,_){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}E(xe,C),xe.prototype.init=function(u,_){const x=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(x=="mouseover"?_=u.fromElement:x=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),se=0;function he(u,_,x,S,q){this.listener=u,this.proxy=null,this.src=_,this.type=x,this.capture=!!S,this.ha=q,this.key=++se,this.da=this.fa=!1}function ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,_,x){for(const S in u)_.call(x,u[S],S,u)}function k(u,_){for(const x in u)_.call(void 0,u[x],x,u)}function re(u){const _={};for(const x in u)_[x]=u[x];return _}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(u,_){let x,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(x in S)u[x]=S[x];for(let $=0;$<_e.length;$++)x=_e[$],Object.prototype.hasOwnProperty.call(S,x)&&(u[x]=S[x])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,_,x,S,q){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const le=Ne(u,_,S,q);return le>-1?(_=u[le],x||(_.fa=!1)):(_=new he(_,this.src,$,!!S,q),_.fa=x,u.push(_)),_};function ke(u,_){const x=_.type;if(x in u.g){var S=u.g[x],q=Array.prototype.indexOf.call(S,_,void 0),$;($=q>=0)&&Array.prototype.splice.call(S,q,1),$&&(ae(_),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ne(u,_,x,S){for(let q=0;q<u.length;++q){const $=u[q];if(!$.da&&$.listener==_&&$.capture==!!x&&$.ha==S)return q}return-1}var vt="closure_lm_"+(Math.random()*1e6|0),Le={};function lt(u,_,x,S,q){if(Array.isArray(_)){for(let $=0;$<_.length;$++)lt(u,_[$],x,S,q);return null}return x=qr(x),u&&u[be]?u.J(_,x,p(S)?!!S.capture:!1,q):Ze(u,_,x,!1,S,q)}function Ze(u,_,x,S,q,$){if(!_)throw Error("Invalid event type");const le=p(q)?!!q.capture:!!q;let Ce=mt(u);if(Ce||(u[vt]=Ce=new oe(u)),x=Ce.add(_,x,S,le,$),x.proxy)return x;if(S=bn(),x.proxy=S,S.src=u,S.listener=x,u.addEventListener)V||(q=le),q===void 0&&(q=!1),u.addEventListener(_.toString(),S,q);else if(u.attachEvent)u.attachEvent(Ee(_.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function bn(){function u(x){return _.call(u.src,u.listener,x)}const _=bt;return u}function U(u,_,x,S,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)U(u,_[$],x,S,q);else S=p(S)?!!S.capture:!!S,x=qr(x),u&&u[be]?(u=u.i,$=String(_).toString(),$ in u.g&&(_=u.g[$],x=Ne(_,x,S,q),x>-1&&(ae(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete u.g[$],u.h--)))):u&&(u=mt(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ne(_,x,S,q)),(x=u>-1?_[u]:null)&&ie(x))}function ie(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[be])ke(_.i,u);else{var x=u.type,S=u.proxy;_.removeEventListener?_.removeEventListener(x,S,u.capture):_.detachEvent?_.detachEvent(Ee(x),S):_.addListener&&_.removeListener&&_.removeListener(S),(x=mt(_))?(ke(x,u),x.h==0&&(x.src=null,_[vt]=null)):ae(u)}}}function Ee(u){return u in Le?Le[u]:Le[u]="on"+u}function bt(u,_){if(u.da)u=!0;else{_=new xe(_,this);const x=u.listener,S=u.ha||u.src;u.fa&&ie(u),u=x.call(S,_)}return u}function mt(u){return u=u[vt],u instanceof oe?u:null}var Rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(u){return typeof u=="function"?u:(u[Rn]||(u[Rn]=function(_){return u.handleEvent(_)}),u[Rn])}function xt(){N.call(this),this.i=new oe(this),this.M=this,this.G=null}E(xt,N),xt.prototype[be]=!0,xt.prototype.removeEventListener=function(u,_,x,S){U(this,u,_,x,S)};function Et(u,_){var x,S=u.G;if(S)for(x=[];S;S=S.G)x.push(S);if(u=u.M,S=_.type||_,typeof _=="string")_=new C(_,u);else if(_ instanceof C)_.target=_.target||u;else{var q=_;_=new C(S,u),pe(_,q)}q=!0;let $,le;if(x)for(le=x.length-1;le>=0;le--)$=_.g=x[le],q=mr($,S,!0,_)&&q;if($=_.g=u,q=mr($,S,!0,_)&&q,q=mr($,S,!1,_)&&q,x)for(le=0;le<x.length;le++)$=_.g=x[le],q=mr($,S,!1,_)&&q}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const x=u.g[_];for(let S=0;S<x.length;S++)ae(x[S]);delete u.g[_],u.h--}}this.G=null},xt.prototype.J=function(u,_,x,S){return this.i.add(String(u),_,!1,x,S)},xt.prototype.K=function(u,_,x,S){return this.i.add(String(u),_,!0,x,S)};function mr(u,_,x,S){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let $=0;$<_.length;++$){const le=_[$];if(le&&!le.da&&le.capture==x){const Ce=le.listener,ot=le.ha||le.src;le.fa&&ke(u.i,le),q=Ce.call(ot,S)!==!1&&q}}return q&&!S.defaultPrevented}function Mc(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:d.setTimeout(u,_||0)}function xa(u){u.g=Mc(()=>{u.g=null,u.i&&(u.i=!1,xa(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class xn extends N{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(u){N.call(this),this.h=u,this.g={}}E(ws,N);var Ni=[];function At(u){He(u.g,function(_,x){this.g.hasOwnProperty(x)&&ie(_)},u),u.g={}}ws.prototype.N=function(){ws.Z.N.call(this),At(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=d.JSON.stringify,md=d.JSON.parse,Vc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Pc(){}function Lc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){C.call(this,"d")}E(Xt,C);function Pl(){C.call(this,"c")}E(Pl,C);var an={},ln=null;function Ea(){return ln=ln||new xt}an.Ia="serverreachability";function Uc(u){C.call(this,an.Ia,u)}E(Uc,C);function Ri(u){const _=Ea();Et(_,new Uc(_))}an.STAT_EVENT="statevent";function Ci(u,_){C.call(this,an.STAT_EVENT,u),this.stat=_}E(Ci,C);function Nt(u){const _=Ea();Et(_,new Ci(_,u))}an.Ja="timingevent";function pr(u,_){C.call(this,an.Ja,u),this.size=_}E(pr,C);function gr(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},_)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function pd(u,_,x,S,q,$){u.info(function(){if(u.g)if($){var le="",Ce=$.split("&");for(let We=0;We<Ce.length;We++){var ot=Ce[We].split("=");if(ot.length>1){const wt=ot[0];ot=ot[1];const Dn=wt.split("_");le=Dn.length>=2&&Dn[1]=="type"?le+(wt+"="+ot+"&"):le+(wt+"=redacted&")}}}else le=null;else le=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+_+`
`+x+`
`+le})}function zc(u,_,x,S,q,$,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+_+`
`+x+`
`+$+" "+le})}function Hr(u,_,x,S){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ii(u,x)+(S?" "+S:"")})}function Ll(u,_){u.info(function(){return"TIMEOUT: "+_})}er.prototype.info=function(){};function Ii(u,_){if(!u.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var x=$[u];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return qt($)}catch{return _}}var wa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function Ta(){}E(Ta,Pc),Ta.prototype.g=function(){return new XMLHttpRequest},zl=new Ta;function Ts(u){return encodeURIComponent(String(u))}function gd(u){var _=1;u=u.split(":");const x=[];for(;_>0&&u.length;)x.push(u.shift()),_--;return u.length&&x.push(u.join(":")),x}function Wt(u,_,x,S){this.j=u,this.i=_,this.l=x,this.S=S||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var Zt={},yr={};function Di(u,_,x){u.M=1,u.A=Oi(Rt(_)),u.u=x,u.R=!0,Bc(u,null)}function Bc(u,_){u.F=Date.now(),Ss(u),u.B=Rt(u.A);var x=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Na(x.i,"t",S),u.C=0,x=u.j.L,u.h=new Mt,u.g=ka(u.j,x?_:null,!u.u),u.P>0&&(u.O=new xn(y(u.Y,u,u.g),u.P)),_=u.V,x=u.g,S=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ni[0]=q.toString()),q=Ni);for(let $=0;$<q.length;$++){const le=lt(x,q[$],S||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),Ri(),pd(u.i,u.v,u.B,u.l,u.S,u.u)}Wt.prototype.ba=function(u){u=u.target;const _=this.O;_&&on(u)==3?_.j():this.Y(u)},Wt.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=on(this.g),ot=this.g.ya(),We=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Pi(this.g)))){this.K||Ce!=4||ot==7||(ot==8||We<=0?Ri(3):Ri(2)),vr(this);var _=this.g.ca();this.X=_;var x=yd(this);if(this.o=_==200,zc(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var $=S;break t}}$=null}if(u=$)Hr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,u);else{this.o=!1,this.m=3,Nt(12),En(this),tr(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<x.length;)if(wt=ji(this,x),wt==yr){Ce==4&&(this.m=4,Nt(14),u=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Zt){this.m=4,Nt(15),Hr(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Hr(this.i,this.l,wt,null),pt(this,wt);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||x.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)Hr(this.i,this.l,x,"[Invalid Chunked Response]"),En(this),tr(this);else if(x.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),to(le),le.P=!0,Nt(11))}}else Hr(this.i,this.l,x,null),pt(this,x);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?no(this.j,this):(this.o=!1,Ss(this)))}else Li(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),En(this),tr(this)}}}catch{}finally{}};function yd(u){if(!Bl(u))return u.g.la();const _=Pi(u.g);if(_==="")return"";let x="";const S=_.length,q=on(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),tr(u),"";u.h.i=new d.TextDecoder}for(let $=0;$<S;$++)u.h.h=!0,x+=u.h.i.decode(_[$],{stream:!(q&&$==S-1)});return _.length=0,u.h.g+=x,u.C=0,u.h.g}function Bl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ji(u,_){var x=u.C,S=_.indexOf(`
`,x);return S==-1?yr:(x=Number(_.substring(x,S)),isNaN(x)?Zt:(S+=1,S+x>_.length?yr:(_=_.slice(S,S+x),u.C=S+x,_)))}Wt.prototype.cancel=function(){this.K=!0,En(this)};function Ss(u){u.T=Date.now()+u.H,_r(u,u.H)}function _r(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gr(y(u.aa,u),_)}function vr(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ll(this.i,this.B),this.M!=2&&(Ri(),Nt(17)),En(this),this.m=2,tr(this)):_r(this,this.T-u)};function tr(u){u.j.I==0||u.K||no(u.j,u)}function En(u){vr(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,At(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function pt(u,_){try{var x=u.j;if(x.I!=0&&(x.g==u||Cn(x.h,u))){if(!u.L&&Cn(x.h,u)&&x.I==3){try{var S=x.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Oa(x),Er(x);else break e;eo(x),Nt(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=gr(y(x.Va,x),6e3));Fr(x.h)<=1&&x.ta&&(x.ta=void 0)}else $r(x,11)}else if((u.L||x.g==u)&&Oa(x),!R(_))for(q=x.Ba.g.parse(_),_=0;_<q.length;_++){let We=q[_];const wt=We[0];if(!(wt<=x.K))if(x.K=wt,We=We[1],x.I==2)if(We[0]=="c"){x.M=We[1],x.ba=We[2];const Dn=We[3];Dn!=null&&(x.ka=Dn,x.j.info("VER="+x.ka));const wr=We[4];wr!=null&&(x.za=wr,x.j.info("SVER="+x.za));const rr=We[5];rr!=null&&typeof rr=="number"&&rr>0&&(S=1.5*rr,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const sr=u.g;if(sr){const ir=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var $=S.h;$.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Hl($,$.h),$.h=null))}if(S.G){const so=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(S.wa=so,Ye(S.J,S.G,so))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var le=u;if(S.na=eu(S,S.L?S.ba:null,S.W),le.L){Fl(S.h,le);var Ce=le,ot=S.O;ot&&(Ce.H=ot),Ce.D&&(vr(Ce),Ss(Ce)),S.g=le}else Xc(S);x.i.length>0&&qi(x)}else We[0]!="stop"&&We[0]!="close"||$r(x,7);else x.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?$r(x,7):zi(x):We[0]!="noop"&&x.l&&x.l.qa(We),x.A=0)}}Ri(4)}catch{}}var qc=class{constructor(u,_){this.g=u,this.map=_}};function ql(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function br(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fr(u){return u.h?1:u.g?u.g.size:0}function Cn(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Hl(u,_){u.g?u.g.add(_):u.h=_}function Fl(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}ql.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const x of u.g.values())_=_.concat(x.G);return _}return j(u.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,_){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const S=u[x].indexOf("=");let q,$=null;S>=0?(q=u[x].substring(0,S),$=u[x].substring(S+1)):q=u[x],_(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof In?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,$l(this,Qc(u.i)),this.m=u.m):u&&(_=String(u).match(Hc))?(this.l=!1,Ht(this,_[1]||"",!0),this.o=xr(_[2]||""),this.g=xr(_[3]||"",!0),As(this,_[4]),this.h=xr(_[5]||"",!0),$l(this,_[6]||"",!0),this.m=xr(_[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}In.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(ki(_,Aa,!0),":");var x=this.g;return(x||_=="file")&&(u.push("//"),(_=this.o)&&u.push(ki(_,Aa,!0),"@"),u.push(Ts(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(ki(x,x.charAt(0)=="/"?Ql:Fc,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",ki(x,Gc)),u.join("")},In.prototype.resolve=function(u){const _=Rt(this);let x=!!u.j;x?Ht(_,u.j):x=!!u.o,x?_.o=u.o:x=!!u.g,x?_.g=u.g:x=u.u!=null;var S=u.h;if(x)As(_,u.u);else if(x=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=_.h.lastIndexOf("/");q!=-1&&(S=_.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let le=0;le<q.length;){const Ce=q[le++];Ce=="."?S&&le==q.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&le==q.length&&$.push("")):($.push(Ce),S=!0)}S=$.join("/")}else S=q}return x?_.h=S:x=u.i.toString()!=="",x?$l(_,Qc(u.i)):x=!!u.m,x&&(_.m=u.m),_};function Rt(u){return new In(u)}function Ht(u,_,x){u.j=x?xr(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function $l(u,_,x){_ instanceof Rs?(u.i=_,Ra(u.i,u.l)):(x||(_=ki(_,Ns)),u.i=new Rs(_,u.l))}function Ye(u,_,x){u.i.set(_,x)}function Oi(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xr(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ki(u,_,x){return typeof u=="string"?(u=encodeURI(u).replace(_,wn),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,Fc=/[#\?:]/g,Ql=/[#\?]/g,Ns=/[#\?@]/g,Gc=/#/g;function Rs(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(_,x){u.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}s=Rs.prototype,s.add=function(u,_){Tn(this),this.i=null,u=Cs(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(_),this.h+=1,this};function $c(u,_){Tn(u),_=Cs(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Kl(u,_){return Tn(u),_=Cs(u,_),u.g.has(_)}s.forEach=function(u,_){Tn(this),this.g.forEach(function(x,S){x.forEach(function(q){u.call(_,q,S,this)},this)},this)};function Yl(u,_){Tn(u);let x=[];if(typeof _=="string")Kl(u,_)&&(x=x.concat(u.g.get(Cs(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)x=x.concat(u[_]);return x}s.set=function(u,_){return Tn(this),this.i=null,u=Cs(this,u),Kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},s.get=function(u,_){return u?(u=Yl(this,u),u.length>0?String(u[0]):_):_};function Na(u,_,x){$c(u,_),x.length>0&&(u.i=null,u.g.set(Cs(u,_),j(x)),u.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var x=_[S];const q=Ts(x);x=Yl(this,x);for(let $=0;$<x.length;$++){let le=q;x[$]!==""&&(le+="="+Ts(x[$])),u.push(le)}}return this.i=u.join("&")};function Qc(u){const _=new Rs;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Cs(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Ra(u,_){_&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(x,S){const q=S.toLowerCase();S!=q&&($c(this,S),Na(this,q,x))},u)),u.j=_}function Xl(u,_){const x=new er;if(d.Image){const S=new Image;S.onload=v(pn,x,"TestLoadImage: loaded",!0,_,S),S.onerror=v(pn,x,"TestLoadImage: error",!1,_,S),S.onabort=v(pn,x,"TestLoadImage: abort",!1,_,S),S.ontimeout=v(pn,x,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else _(!1)}function Wl(u,_){const x=new er,S=new AbortController,q=setTimeout(()=>{S.abort(),pn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?pn(x,"TestPingServer: ok",!0,_):pn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),pn(x,"TestPingServer: error",!1,_)})}function pn(u,_,x,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(x)}catch{}}function Is(){this.g=new Vc}function Ca(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Ca,Pc),Ca.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(u,_){xt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ds,xt),s=Ds.prototype,s.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,Gr(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||d).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?nr(this):Gr(this),this.readyState==3&&Zl(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,nr(this))},s.Na=function(u){this.g&&(this.response=u,nr(this))},s.ga=function(){this.g&&nr(this)};function nr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gr(u)}s.setRequestHeader=function(u,_){this.A.append(u,_)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=_.next();return u.join(`\r
`)};function Gr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function js(u){let _="";return He(u,function(x,S){_+=S,_+=":",_+=x,_+=`\r
`}),_}function Un(u,_,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=js(x),typeof u=="string"?x!=null&&Ts(x):Ye(u,_,x))}function rt(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,xt);var Ia=/^https?$/i,Kc=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,_,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch($){Mi(this,$);return}if(u=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)x.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())x.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find($=>$.toLowerCase()=="content-type"),q=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Kc,_,void 0)>=0)||S||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of x)this.g.setRequestHeader($,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){Mi(this,$)}};function Mi(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Vi(u),Vt(u)}function Vi(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Et(this,"complete"),Et(this,"abort"),Vt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Jl(this):this.Xa())},s.Xa=function(){Jl(this)};function Jl(u){if(u.h&&typeof c<"u"){if(u.v&&on(u)==4)setTimeout(u.Ca.bind(u),0);else if(Et(u,"readystatechange"),on(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var S;if(S=$===0){let le=String(u.D).match(Hc)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),S=!Ia.test(le?le.toLowerCase():"")}x=S}if(x)Et(u,"complete"),Et(u,"success");else{u.o=6;try{var q=on(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Vi(u)}}finally{Vt(u)}}}}function Vt(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,_||Et(u,"ready");try{x.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function on(u){return u.g?u.g.readyState:0}s.ca=function(){try{return on(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),md(_)}};function Pi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const _={};u=(u.g&&on(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var x=gd(u[S]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const $=_[q]||[];_[q]=$,$.push(x)}k(_,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||_}function Da(u){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Da.prototype,s.ka=8,s.I=1,s.connect=function(u,_,x,S){Nt(0),this.W=u,this.H=_||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=eu(this,null,this.W),qi(this)};function zi(u){if(Bi(u),u.I==3){var _=u.V++,x=Rt(u.J);if(Ye(x,"SID",u.M),Ye(x,"RID",_),Ye(x,"TYPE","terminate"),Hi(u,x),_=new Wt(u,u.j,_),_.M=2,_.A=Oi(Rt(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&d.Image&&(new Image().src=_.A,x=!0),x||(_.g=ka(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ss(_)}Jc(u)}function Er(u){u.g&&(to(u),u.g.cancel(),u.g=null)}function Bi(u){Er(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function qi(u){if(!br(u.h)&&!u.m){u.m=!0;var _=u.Ea;fe||I(),Ae||(fe(),Ae=!0),O.add(_,u),u.D=0}}function _d(u,_){return Fr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gr(y(u.Ea,u,_),Zc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Wt(this,this.j,u);let $=this.o;if(this.U&&($?($=re($),pe($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=ja(this,q,_),x=Rt(this.J),Ye(x,"RID",u),Ye(x,"CVER",22),this.G&&Ye(x,"X-HTTP-Session-Id",this.G),Hi(this,x),$&&(this.R?_="headers="+Ts(js($))+"&"+_:this.u&&Un(x,this.u,$)),Hl(this.h,q),this.Ra&&Ye(x,"TYPE","init"),this.S?(Ye(x,"$req",_),Ye(x,"SID","null"),q.U=!0,Di(q,x,null)):Di(q,x,_),this.I=2}}else this.I==3&&(u?Yc(this,u):this.i.length==0||br(this.h)||Yc(this))};function Yc(u,_){var x;_?x=_.l:x=u.V++;const S=Rt(u.J);Ye(S,"SID",u.M),Ye(S,"RID",x),Ye(S,"AID",u.K),Hi(u,S),u.u&&u.o&&Un(S,u.u,u.o),x=new Wt(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),_&&(u.i=_.G.concat(u.i)),_=ja(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Hl(u.h,x),Di(x,S,_)}function Hi(u,_){u.H&&He(u.H,function(x,S){Ye(_,S,x)}),u.l&&He({},function(x,S){Ye(_,S,x)})}function ja(u,_,x){x=Math.min(u.i.length,x);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ce=-1;for(;;){const ot=["count="+x];Ce==-1?x>0?(Ce=q[0].g,ot.push("ofs="+Ce)):Ce=0:ot.push("ofs="+Ce);let We=!0;for(let wt=0;wt<x;wt++){var $=q[wt].g;const Dn=q[wt].map;if($-=Ce,$<0)Ce=Math.max(0,q[wt].g-100),We=!1;else try{$="req"+$+"_"||"";try{var le=Dn instanceof Map?Dn:Object.entries(Dn);for(const[wr,rr]of le){let sr=rr;p(rr)&&(sr=qt(rr)),ot.push($+wr+"="+encodeURIComponent(sr))}}catch(wr){throw ot.push($+"type="+encodeURIComponent("_badmap")),wr}}catch{S&&S(Dn)}}if(We){le=ot.join("&");break e}}le=void 0}return u=u.i.splice(0,x),_.G=u,le}function Xc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;fe||I(),Ae||(fe(),Ae=!0),O.add(_,u),u.A=0}}function eo(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gr(y(u.Da,u),Zc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gr(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Er(this),Wc(this))};function to(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Wc(u){u.g=new Wt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=Rt(u.na);Ye(_,"RID","rpc"),Ye(_,"SID",u.M),Ye(_,"AID",u.K),Ye(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(_,"TO",u.ia),Ye(_,"TYPE","xmlhttp"),Hi(u,_),u.u&&u.o&&Un(_,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Oi(Rt(_)),x.u=null,x.R=!0,Bc(x,u)}s.Va=function(){this.C!=null&&(this.C=null,Er(this),eo(this),Nt(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function no(u,_){var x=null;if(u.g==_){Oa(u),to(u),u.g=null;var S=2}else if(Cn(u.h,_))x=_.G,Fl(u.h,_),S=1;else return;if(u.I!=0){if(_.o)if(S==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var q=u.D;S=Ea(),Et(S,new pr(S,x)),qi(u)}else Xc(u);else if(q=_.m,q==3||q==0&&_.X>0||!(S==1&&_d(u,_)||S==2&&eo(u)))switch(x&&x.length>0&&(_=u.h,_.i=_.i.concat(x)),q){case 1:$r(u,5);break;case 4:$r(u,10);break;case 3:$r(u,6);break;default:$r(u,2)}}}function Zc(u,_){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*_}function $r(u,_){if(u.j.info("Error code "+_),_==2){var x=y(u.bb,u),S=u.Ua;const q=!S;S=new In(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(S,"https"),Oi(S),q?Xl(S.toString(),x):Wl(S.toString(),x)}else Nt(2);u.I=0,u.l&&u.l.pa(_),Jc(u),Bi(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Jc(u){if(u.I=0,u.ja=[],u.l){const _=Gl(u.h);(_.length!=0||u.i.length!=0)&&(F(u.ja,_),F(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function eu(u,_,x){var S=x instanceof In?Rt(x):new In(x);if(S.g!="")_&&(S.g=_+"."+S.g),As(S,S.u);else{var q=d.location;S=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const $=new In(null);S&&Ht($,S),_&&($.g=_),q&&As($,q),x&&($.h=x),S=$}return x=u.G,_=u.wa,x&&_&&Ye(S,x,_),Ye(S,"VER",u.ka),Hi(u,S),S}function ka(u,_,x){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new rt(new Ca({ab:x})):new rt(u.ma),_.Fa(u.L),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}s=tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ma(){}Ma.prototype.g=function(u,_){return new gn(u,_)};function gn(u,_){xt.call(this),this.g=new Da(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!R(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Os(this)}E(gn,xt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){zi(this.g)},gn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=qt(u),u=x);_.i.push(new qc(_.Ya++,u)),_.I==3&&qi(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,zi(this.g),delete this.g,gn.Z.N.call(this)};function ro(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const x in _){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}E(ro,Xt);function nu(){Pl.call(this),this.status=1}E(nu,Pl);function Os(u){this.g=u}E(Os,tu),Os.prototype.ra=function(){Et(this.g,"a")},Os.prototype.qa=function(u){Et(this.g,new ro(u))},Os.prototype.pa=function(u){Et(this.g,new nu)},Os.prototype.oa=function(){Et(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ax=function(){return new Ma},Sx=function(){return Ea()},Tx=an,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,_h=wa,Ul.COMPLETE="complete",wx=Ul,Lc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Wo=Lc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,Ex=rt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",ov="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new mp("@firebase/firestore");function ol(){return ga.logLevel}function ue(s,...e){if(ga.logLevel<=Ue.DEBUG){const n=e.map(Np);ga.debug(`Firestore (${jl}): ${s}`,...n)}}function vs(s,...e){if(ga.logLevel<=Ue.ERROR){const n=e.map(Np);ga.error(`Firestore (${jl}): ${s}`,...n)}}function vl(s,...e){if(ga.logLevel<=Ue.WARN){const n=e.map(Np);ga.warn(`Firestore (${jl}): ${s}`,...n)}}function Np(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Nx(s,i,n)}function Nx(s,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw vs(i),new Error(i)}function Xe(s,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,s||Nx(e,l,i)}function De(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class lR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ui,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ui)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Rx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class cR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new cR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=dR(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<n&&(i+=e.charAt(l[c]%62))}return i}}function ze(s,e){return s<e?-1:s>e?1:0}function Hm(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const l=s.charAt(i),c=e.charAt(i);if(l!==c)return Tm(l)===Tm(c)?ze(l,c):Tm(l)?1:-1}return ze(s.length,e.length)}const fR=55296,mR=57343;function Tm(s){const e=s.charCodeAt(0);return e>=fR&&e<=mR}function bl(s,e,n){return s.length===e.length&&s.every(((i,l)=>n(i,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__name__";class Ir{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const c=Ir.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const i=Ir.isNumericId(e),l=Ir.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Ir.extractNumericId(e).compare(Ir.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class at extends Ir{construct(e,n,i){return new at(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const pR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ir{construct(e,n,i){return new rn(e,n,i)}static isValidIdentifier(e){return pR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new rn([uv])}static fromServerFormat(e){const n=[];let i="",l=0;const c=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(i+=p,l++):(c(),l++)}if(c(),d)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(s,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function gR(s,e,n,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function hv(s){if(!ve.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function dv(s){if(ve.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ix(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function ya(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function yR(s,e){if(e<=0)throw new ce(X.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Rc(s,e){if(!Ix(s))throw new ce(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const d=s[i];if(l&&typeof d!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new ce(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-62135596800,mv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*mv);return new ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fv)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:kt("string",ct._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ct(0,0))}static max(){return new Re(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function _R(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(i===1e9?new ct(n+1,0):new ct(n,i));return new fi(l,ve.empty(),e)}function vR(s){return new fi(s.readTime,s.key,hc)}class fi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new fi(Re.min(),ve.empty(),hc)}static max(){return new fi(Re.max(),ve.empty(),hc)}}function bR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==xR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,i)=>{n(e)}))}static reject(e){return new Z(((n,i)=>{i(e)}))}static waitFor(e){return new Z(((n,i)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>i(g)))})),d=!0,c===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const i of e)n=n.next((l=>l?Z.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,c)=>{i.push(n.call(this,l,c))})),this.waitFor(i)}static mapArray(e,n){return new Z(((i,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((v=>{d[y]=v,++p,p===c&&i(d)}),(v=>l(v)))}}))}static doWhile(e,n){return new Z(((i,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):i()};c()}))}}function wR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Jh(s){return s==null}function jh(s){return s===0&&1/s==-1/0}function TR(s){return typeof s=="number"&&Number.isInteger(s)&&!jh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="";function SR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=pv(e)),e=AR(s.get(n),e);return pv(e)}function AR(s,e){let n=e;const i=s.length;for(let l=0;l<i;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case Dx:n+="";break;default:n+=c}}return n}function pv(s){return s+Dx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function wi(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function jx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,i,l,c){this.key=e,this.value=n,this.color=i??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,c){return new nn(e??this.key,n??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,i),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,l,c){return this}insert(e,n,i){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Bt(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ox("Invalid base64 string: "+c):c}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const n=NR.exec(s);if(Xe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pi(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="server_timestamp",Mx="__type__",Vx="__previous_value__",Px="__local_write_time__";function Ip(s){var n,i;return((i=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[Mx])==null?void 0:i.stringValue)===kx}function ed(s){const e=s.mapValue.fields[Vx];return Ip(e)?ed(e):e}function dc(s){const e=mi(s.mapValue.fields[Px].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,i,l,c,d,p,g,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Oh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__type__",CR="__max__",sh={mapValue:{}},Ux="__vector__",kh="value";function gi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ip(s)?4:DR(s)?9007199254740991:IR(s)?10:11:Se(28295,{value:s})}function Ur(s,e){if(s===e)return!0;const n=gi(s);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mi(l.timestampValue),p=mi(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return pi(l.bytesValue).isEqual(pi(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return St(l.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return St(l.integerValue)===St(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=St(l.doubleValue),p=St(c.doubleValue);return d===p?jh(d)===jh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ur(d[g],p[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function mc(s,e){return(s.values||[]).find((n=>Ur(n,e)))!==void 0}function xl(s,e){if(s===e)return 0;const n=gi(s),i=gi(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=St(c.integerValue||c.doubleValue),g=St(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return _v(s.timestampValue,e.timestampValue);case 4:return _v(dc(s),dc(e));case 5:return Hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=pi(c),g=pi(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const v=ze(p[y],g[y]);if(v!==0)return v}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(St(c.latitude),St(d.latitude));return p!==0?p:ze(St(c.longitude),St(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return vv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var A,j,F,Q;const p=c.fields||{},g=d.fields||{},y=(A=p[kh])==null?void 0:A.arrayValue,v=(j=g[kh])==null?void 0:j.arrayValue,E=ze(((F=y==null?void 0:y.values)==null?void 0:F.length)||0,((Q=v==null?void 0:v.values)==null?void 0:Q.length)||0);return E!==0?E:vv(y,v)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===sh.mapValue&&d===sh.mapValue)return 0;if(c===sh.mapValue)return 1;if(d===sh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let E=0;E<g.length&&E<v.length;++E){const A=Hm(g[E],v[E]);if(A!==0)return A;const j=xl(p[g[E]],y[v[E]]);if(j!==0)return j}return ze(g.length,v.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function _v(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=mi(s),i=mi(e),l=ze(n.seconds,i.seconds);return l!==0?l:ze(n.nanos,i.nanos)}function vv(s,e){const n=s.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const c=xl(n[l],i[l]);if(c)return c}return ze(n.length,i.length)}function El(s){return Fm(s)}function Fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=mi(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return pi(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",l=!0;for(const c of n.values||[])l?l=!1:i+=",",i+=Fm(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of i)c?c=!1:l+=",",l+=`${d}:${Fm(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function vh(s){switch(gi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(s);return e?16+vh(e):16;case 5:return 2*s.stringValue.length;case 6:return pi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,c)=>l+vh(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let l=0;return wi(i.fields,((c,d)=>{l+=c.length+vh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function bv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Gm(s){return!!s&&"integerValue"in s}function Dp(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function bh(s){return!!s&&"mapValue"in s}function IR(s){var n,i;return((i=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[Lx])==null?void 0:i.stringValue)===Ux}function nc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wi(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=nc(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(s.arrayValue.values[n]);return e}return{...s}}function DR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=rn.emptyPath(),i={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=p.popLast()}d?i[p.lastSegment()]=nc(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,l)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];bh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){wi(n,((l,c)=>e[l]=c));for(const l of i)delete e[l]}clone(){return new Nn(nc(this.value))}}function zx(s){const e=[];return wi(s.fields,((n,i)=>{const l=new rn([n]);if(bh(i)){const c=zx(i.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,i,l,c,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,Re.min(),Re.min(),Re.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,l){return new fn(e,1,n,Re.min(),i,l,0)}static newNoDocument(e,n){return new fn(e,2,n,Re.min(),Re.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Re.min(),Re.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function wv(s,e,n){let i=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?i=ve.comparator(ve.fromName(d.referenceValue),n.key):i=xl(d,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Tv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ur(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{}class Ot extends Bx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kR(e,n,i):n==="array-contains"?new PR(e,i):n==="in"?new LR(e,i):n==="not-in"?new UR(e,i):n==="array-contains-any"?new zR(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new MR(e,i):new VR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Bx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return qx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qx(s){return s.op==="and"}function Hx(s){return OR(s)&&qx(s)}function OR(s){for(const e of s.filters)if(e instanceof fr)return!1;return!0}function $m(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+El(s.value);if(Hx(s))return s.filters.map((e=>$m(e))).join(",");{const e=s.filters.map((n=>$m(n))).join(",");return`${s.op}(${e})`}}function Fx(s,e){return s instanceof Ot?(function(i,l){return l instanceof Ot&&i.op===l.op&&i.field.isEqual(l.field)&&Ur(i.value,l.value)})(s,e):s instanceof fr?(function(i,l){return l instanceof fr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((c,d,p)=>c&&Fx(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function Gx(s){return s instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(s):s instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gx).join(" ,")+"}"})(s):"Filter"}class kR extends Ot{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class MR extends Ot{constructor(e,n){super(e,"in",n),this.keys=$x("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VR extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=$x("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $x(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ve.fromName(i.referenceValue)))}class PR extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&mc(n.arrayValue,this.value)}}class LR extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class UR extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class zR extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>mc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n=null,i=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Sv(s,e=null,n=[],i=[],l=null,c=null,d=null){return new BR(s,e,n,i,l,c,d)}function jp(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>$m(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>El(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>El(i))).join(",")),e.Te=n}return e.Te}function Op(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!jR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Fx(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Tv(s.startAt,e.startAt)&&Tv(s.endAt,e.endAt)}function Qm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,i=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qR(s,e,n,i,l,c,d,p){return new Ml(s,e,n,i,l,c,d,p)}function Qx(s){return new Ml(s)}function Av(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Kx(s){return s.collectionGroup!==null}function rc(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Bt(rn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,i))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new pc(rn.keyField(),i))}return e.Ie}function kr(s){const e=De(s);return e.Ee||(e.Ee=HR(e,rc(s))),e.Ee}function HR(s,e){if(s.limitType==="F")return Sv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new pc(l.field,c)}));const n=s.endAt?new Mh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Mh(s.startAt.position,s.startAt.inclusive):null;return Sv(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Km(s,e){const n=s.filters.concat([e]);return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Vh(s,e,n){return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function td(s,e){return Op(kr(s),kr(e))&&s.limitType===e.limitType}function Yx(s){return`${jp(kr(s))}|lt:${s.limitType}`}function cl(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>Gx(l))).join(", ")}]`),Jh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>El(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>El(l))).join(",")),`Target(${i})`})(kr(s))}; limitType=${s.limitType})`}function nd(s,e){return e.isFoundDocument()&&(function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,l){for(const c of rc(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(i,l){return!(i.startAt&&!(function(d,p,g){const y=wv(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,rc(i),l)||i.endAt&&!(function(d,p,g){const y=wv(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,rc(i),l))})(s,e)}function FR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Xx(s){return(e,n)=>{let i=!1;for(const l of rc(s)){const c=GR(l,e,n);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function GR(s,e,n){const i=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?xl(g,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,((n,i)=>{for(const[l,c]of i)e(l,c)}))}isEmpty(){return jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new ft(ve.comparator);function bs(){return $R}const Wx=new ft(ve.comparator);function Zo(...s){let e=Wx;for(const n of s)e=e.insert(n.key,n);return e}function Zx(s){let e=Wx;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ua(){return sc()}function Jx(){return sc()}function sc(){return new va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const QR=new ft(ve.comparator),KR=new Bt(ve.comparator);function Be(...s){let e=KR;for(const n of s)e=e.add(n);return e}const YR=new Bt(ze);function XR(){return YR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function eE(s){return{integerValue:""+s}}function WR(s,e){return TR(e)?eE(e):kp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function ZR(s,e,n){return s instanceof Ph?(function(l,c){const d={fields:{[Mx]:{stringValue:kx},[Px]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ip(c)&&(c=ed(c)),c&&(d.fields[Vx]=c),{mapValue:d}})(n,e):s instanceof gc?nE(s,e):s instanceof yc?rE(s,e):(function(l,c){const d=tE(l,c),p=Nv(d)+Nv(l.Ae);return Gm(d)&&Gm(l.Ae)?eE(p):kp(l.serializer,p)})(s,e)}function JR(s,e,n){return s instanceof gc?nE(s,e):s instanceof yc?rE(s,e):n}function tE(s,e){return s instanceof Lh?(function(i){return Gm(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Ph extends rd{}class gc extends rd{constructor(e){super(),this.elements=e}}function nE(s,e){const n=sE(e);for(const i of s.elements)n.some((l=>Ur(l,i)))||n.push(i);return{arrayValue:{values:n}}}class yc extends rd{constructor(e){super(),this.elements=e}}function rE(s,e){let n=sE(e);for(const i of s.elements)n=n.filter((l=>!Ur(l,i)));return{arrayValue:{values:n}}}class Lh extends rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nv(s){return St(s.integerValue||s.doubleValue)}function sE(s){return Dp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function eC(s,e){return s.field.isEqual(e.field)&&(function(i,l){return i instanceof gc&&l instanceof gc||i instanceof yc&&l instanceof yc?bl(i.elements,l.elements,Ur):i instanceof Lh&&l instanceof Lh?Ur(i.Ae,l.Ae):i instanceof Ph&&l instanceof Ph})(s.transform,e.transform)}class tC{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class sd{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Mp(s.key,dr.none()):new Cc(s.key,s.data,dr.none());{const n=s.data,i=Nn.empty();let l=new Bt(rn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?i.delete(c):i.set(c,d),l=l.add(c)}return new Ti(s.key,i,new Ln(l.toArray()),dr.none())}}function nC(s,e,n){s instanceof Cc?(function(l,c,d){const p=l.value.clone(),g=Cv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ti?(function(l,c,d){if(!xh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Cv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(aE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function ic(s,e,n,i){return s instanceof Cc?(function(c,d,p,g){if(!xh(c.precondition,d))return p;const y=c.value.clone(),v=Iv(c.fieldTransforms,g,d);return y.setAll(v),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,i):s instanceof Ti?(function(c,d,p,g){if(!xh(c.precondition,d))return p;const y=Iv(c.fieldTransforms,g,d),v=d.data;return v.setAll(aE(c)),v.setAll(y),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,i):(function(c,d,p){return xh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function rC(s,e){let n=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),c=tE(i.transform,l||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,c))}return n||null}function Rv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&bl(i,l,((c,d)=>eC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Cc extends sd{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ti extends sd{constructor(e,n,i,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function Cv(s,e,n){const i=new Map;Xe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);i.set(c.field,JR(d,p,n[l]))}return i}function Iv(s,e,n){const i=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);i.set(l.field,ZR(c,d,e))}return i}class Mp extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sC extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&nC(c,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Jx();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=iE(d,p);g!==null&&i.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,i)=>Rv(n,i)))&&bl(this.baseMutations,e.baseMutations,((n,i)=>Rv(n,i)))}}class Vp{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return QR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,i[d].version);return new Vp(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,$e;function oC(s){switch(s){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function lE(s){if(s===void 0)return vs("GRPC error has no .code"),X.UNKNOWN;switch(s){case jt.OK:return X.OK;case jt.CANCELLED:return X.CANCELLED;case jt.UNKNOWN:return X.UNKNOWN;case jt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case jt.INTERNAL:return X.INTERNAL;case jt.UNAVAILABLE:return X.UNAVAILABLE;case jt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case jt.NOT_FOUND:return X.NOT_FOUND;case jt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case jt.ABORTED:return X.ABORTED;case jt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case jt.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:s})}}($e=jt||(jt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new ci([4294967295,4294967295],0);function Dv(s){const e=cC().encode(s),n=new xx;return n.update(e),new Uint8Array(n.digest())}function jv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ci([n,i],0),new ci([l,c],0)]}class Pp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(i<0)throw new Jo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ci.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(ci.fromNumber(i)));return l.compare(uC)===1&&(l=new ci([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Dv(e),[i,l]=jv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,l,c);if(!this.we(d))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Pp(c,l,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=Dv(e),[i,l]=jv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,i,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new id(Re.min(),l,new ft(ze),bs(),Be())}}class Ic{constructor(e,n,i,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ic(i,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,i,l){this.be=e,this.removedTargetIds=n,this.key=i,this.De=l}}class oE{constructor(e,n){this.targetId=e,this.Ce=n}}class cE{constructor(e,n,i=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=kv(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),i=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Se(38017,{changeType:c})}})),new Ic(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=kv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hC{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=ih(),this.He=ih(),this.Ye=new ft(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Qm(c))if(i===0){const d=new ve(c.path);this.et(n,d,fn.newNoDocument(d,Re.min()))}else Xe(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=pi(i).toUint8Array()}catch(g){if(g instanceof Ox)return vl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Pp(d,l,c)}catch(g){return vl(g instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Qm(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,fn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let i=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new id(e,n,this.Ye,this.je,i);return this.je=bs(),this.Je=ih(),this.He=ih(),this.Ye=new ft(ze),l}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ov,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ov),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ft(ve.comparator)}function kv(){return new ft(ve.comparator)}const dC={asc:"ASCENDING",desc:"DESCENDING"},fC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class pC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(s,e){return s.useProto3Json||Jh(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gC(s,e){return Uh(s,e.toTimestamp())}function Mr(s){return Xe(!!s,49232),Re.fromTimestamp((function(n){const i=mi(n);return new ct(i.seconds,i.nanos)})(s))}function Lp(s,e){return Xm(s,e).canonicalString()}function Xm(s,e){const n=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function hE(s){const e=at.fromString(s);return Xe(gE(e),10190,{key:e.toString()}),e}function Wm(s,e){return Lp(s.databaseId,e.path)}function Sm(s,e){const n=hE(e);if(n.get(1)!==s.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(fE(n))}function dE(s,e){return Lp(s.databaseId,e)}function yC(s){const e=hE(s);return e.length===4?at.emptyPath():fE(e)}function Zm(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fE(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Mv(s,e,n){return{name:Wm(s,e),fields:n.value.mapValue.fields}}function _C(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const v=y.code===void 0?X.UNKNOWN:lE(y.code);return new ce(v,y.message||"")})(d);n=new cE(i,l,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Sm(s,i.document.name),c=Mr(i.document.updateTime),d=i.document.createTime?Mr(i.document.createTime):Re.min(),p=new Nn({mapValue:{fields:i.document.fields}}),g=fn.newFoundDocument(l,c,d,p),y=i.targetIds||[],v=i.removedTargetIds||[];n=new Eh(y,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Sm(s,i.document),c=i.readTime?Mr(i.readTime):Re.min(),d=fn.newNoDocument(l,c),p=i.removedTargetIds||[];n=new Eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Sm(s,i.document),c=i.removedTargetIds||[];n=new Eh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,d=new lC(l,c),p=i.targetId;n=new oE(p,d)}}return n}function vC(s,e){let n;if(e instanceof Cc)n={update:Mv(s,e.key,e.value)};else if(e instanceof Mp)n={delete:Wm(s,e.key)};else if(e instanceof Ti)n={update:Mv(s,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof sC))return Se(16599,{Vt:e.type});n={verify:Wm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,d){const p=d.transform;if(p instanceof Ph)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function bC(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Mr(l.updateTime):Mr(c);return d.isEqual(Re.min())&&(d=Mr(c)),new tC(d,l.transformResults||[])})(n,e)))):[]}function xC(s,e){return{documents:[dE(s,e.path)]}}function EC(s,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dE(s,l);const c=(function(y){if(y.length!==0)return pE(fr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((v=>(function(A){return{field:ul(A.field),direction:SC(A.dir)}})(v)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Ym(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function wC(s){let e=yC(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Xe(i===1,65062);const v=n.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=(function(E){const A=mE(E);return A instanceof fr&&Hx(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((A=>(function(F){return new pc(hl(F.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Jh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,j=E.values||[];return new Mh(j,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,j=E.values||[];return new Mh(j,A)})(n.endAt)),qR(e,l,d,c,p,"F",g,y)}function TC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hl(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=hl(n.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=hl(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hl(n.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ot.create(hl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((i=>mE(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function SC(s){return dC[s]}function AC(s){return fC[s]}function NC(s){return mC[s]}function ul(s){return{fieldPath:s.canonicalString()}}function hl(s){return rn.fromServerFormat(s.fieldPath)}function pE(s){return s instanceof Ot?(function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(n.field),op:AC(n.op),value:n.value}}})(s):s instanceof fr?(function(n){const i=n.getFilters().map((l=>pE(l)));return i.length===1?i[0]:{compositeFilter:{op:NC(n.op),filters:i}}})(s):Se(54877,{filter:s})}function RC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,i,l,c=Re.min(),d=Re.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.yt=e}}function IC(s){const e=wC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Cn=new jC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fi.min())}updateCollectionGroup(e,n,i){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class jC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new Bt(at.comparator),c=!l.has(i);return this.index[n]=l.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(yE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LruGarbageCollector",OC=1048576;function Lv([s,e],[n,i]){const l=ze(s,n);return l===0?ze(e,i):l}class kC{constructor(e){this.Ir=e,this.buffer=new Bt(Lv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Lv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?ue(Pv,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class VC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Zh.ce);const i=new kC(n);return this.mr.forEachTarget(e,(l=>i.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>i.Ar(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Vv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,l,c,d,p,g,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),ol()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function PC(s,e){return new VC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&ic(i.mutation,l,Ln.empty(),ct.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Be()){const l=ua();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((c=>{let d=Zo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Be())))}populateOverlays(e,n,i){const l=[];return i.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,l){let c=bs();const d=sc(),p=(function(){return sc()})();return n.forEach(((g,y)=>{const v=i.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof Ti)?c=c.insert(y.key,y):v!==void 0?(d.set(y.key,v.mutation.getFieldMask()),ic(v.mutation,y,v.mutation.getFieldMask(),ct.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,v)=>d.set(y,v))),n.forEach(((y,v)=>p.set(y,new UC(v,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=sc();let l=new ft(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let v=i.get(g)||Ln.empty();v=p.applyToLocalView(y,v),i.set(g,v);const E=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,v=g.value,E=Jx();v.forEach((A=>{if(!c.has(A)){const j=iE(n.get(A),i.get(A));j!==null&&E.set(A,j),c=c.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Z.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-c.size):Z.resolve(ua());let p=hc,g=c;return d.next((y=>Z.forEach(y,((v,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{g=g.insert(v,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((v=>({batchId:p,changes:Zx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let l=Zo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const c=n.collectionGroup;let d=Zo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(g=>{const y=(function(E,A){return new Ml(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next((v=>{v.forEach(((E,A)=>{d=d.insert(E,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,l)))).next((d=>{c.forEach(((g,y)=>{const v=y.getKey();d.get(v)===null&&(d=d.insert(v,fn.newInvalidDocument(v)))}));let p=Zo();return d.forEach(((g,y)=>{const v=c.get(g);v!==void 0&&ic(v.mutation,y,Ln.empty(),ct.now()),nd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Mr(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:IC(l.bundledQuery),readTime:Mr(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.overlays=new ft(ve.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ua();return Z.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&i.set(l,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,c)=>{this.St(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.qr.get(i);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),Z.resolve()}getOverlaysForCollection(e,n,i){const l=ua(),c=n.length+1,d=new ve(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let c=new ft(((y,v)=>y-v));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let v=c.get(y.largestBatchId);v===null&&(v=ua(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const p=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>p.set(y,v))),!(p.size()>=l)););return Z.resolve(p)}St(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(i.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new aC(n,i));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ve(new at([])),i=new Qt(n,e),l=new Qt(n,e+1),c=[];return this.Ur.forEachInRange([i,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),i=new Qt(n,e),l=new Qt(n,e+1);let c=Be();return this.Ur.forEachInRange([i,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iC(c,n,i,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.ei(i),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qt(n,0),l=new Qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Bt(ze);return n.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{i=i.add(p.Yr)}))})),Z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let c=i;ve.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new ve(c),0);let p=new Bt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const l=this.Xr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Z.forEach(n.mutations,(l=>{const c=new Qt(l.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Qt(n,0),l=this.Zr.firstAfterOrEqual(i);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ri=e,this.docs=(function(){return new ft(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Z.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let i=bs();return n.forEach((l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),Z.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let c=bs();const d=n.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bR(vR(v),i)<=0||(l.has(v.key)||nd(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,i,l){Se(9500)}ii(e,n){return Z.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new $C(this)}getSize(e){return Z.resolve(this.size)}}class $C extends LC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(i)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.persistence=e,this.si=new va((n=>jp(n)),Op),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,n){return this.si.forEach(((i,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,i){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Z.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Z.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Z.resolve(i)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new HC,this.referenceDelegate=e(this),this.Pi=new QC(this),this.indexManager=new DC,this.remoteDocumentCache=(function(l){return new GC(l)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new CC(n),this.Ii=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new FC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const l=new KC(this.ci.next());return this.referenceDelegate.Ei(),i(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return Z.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class KC extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(i=>{const l=ve.fromPath(i);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new va((i=>SR(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=PC(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((i,l)=>this.br(e,i,l).next((c=>c?Z.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(i++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,i){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=l}static As(e,n){let i=Be(),l=Be();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bp(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NS()?8:wR(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,i).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YC;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,i,l){return i.documentReadCount<this.fs?(ol()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ol()<=Ue.DEBUG&&ue("QueryEngine","Query:",cl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.gs*l?(ol()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):Z.resolve())}ys(e,n){if(Av(n))return Z.resolve(null);let i=kr(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Vh(n,null,"F"),i=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Vh(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,l){return Av(n)||l.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,i).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,i,l)?Z.resolve(null):(ol()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),cl(n)),this.vs(e,d,n,_R(l,hc)).next((p=>p)))}))}Ds(e,n){let i=new Bt(Xx(e));return n.forEach(((l,c)=>{nd(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,i){return ol()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",cl(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),i)}vs(e,n,i,l){return this.ps.getDocumentsMatchingQuery(e,i,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",WC=3e8;class ZC{constructor(e,n,i,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ft(ze),this.xs=new va((c=>jp(c)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JC(s,e,n,i){return new ZC(s,e,n,i)}async function vE(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const d=[],p=[];let g=Be();for(const y of l){d.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of c){p.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function eI(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,v){const E=y.batch,A=E.keys();let j=Z.resolve();return A.forEach((F=>{j=j.next((()=>v.getEntry(g,F))).next((Q=>{const B=y.docVersions.get(F);Xe(B!==null,48541),Q.version.compareTo(B)<0&&(E.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),v.addEntry(Q)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function bE(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tI(s,e){const n=De(s),i=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((v,E)=>{const A=l.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,E))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(sn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,i)),l=l.insert(E,j),(function(Q,B,J){return Q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=WC?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(A,j,v)&&p.push(n.Pi.updateTargetData(c,j))}));let g=bs(),y=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(nI(c,d,e.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(v)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function nI(s,e,n){let i=Be(),l=Be();return n.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let d=bs();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ue(qp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function rI(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function sI(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.Pi.getTargetData(i,e).next((c=>c?(l=c,Z.resolve(l)):n.Pi.allocateTargetId(i).next((d=>(l=new ii(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.Ms.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Jm(s,e,n){const i=De(s),l=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(d=>i.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!kl(d))throw d;ue(qp,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ms=i.Ms.remove(e),i.xs.delete(l.target)}function Uv(s,e,n){const i=De(s);let l=Re.min(),c=Be();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,v){const E=De(g),A=E.xs.get(v);return A!==void 0?Z.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,v)})(i,d,kr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(d,e,n?l:Re.min(),n?c:Be()))).next((p=>(iI(i,FR(e),p),{documents:p,Qs:c})))))}function iI(s,e,n){let i=s.Os.get(e)||Re.min();n.forEach(((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Os.set(e,i)}class zv{constructor(){this.activeTargetIds=XR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aI{constructor(){this.Mo=new zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="ConnectivityMonitor";class qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Bv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function ep(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",oI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${l}`,this.Wo=this.databaseId.database===Oh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Go(e,n,i,l,c){const d=ep(),p=this.zo(e,n.toUriEncodedString());ue(Am,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),v=Cl(y);return this.Jo(e,p,g,i,v).then((E=>(ue(Am,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw vl(Am,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,l,c,d){return this.Go(e,n,i,l,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),i&&i.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const i=oI[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class hI extends cI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,l,c){const d=ep();return new Promise(((p,g)=>{const y=new Ex;y.setWithCredentials(!0),y.listenOnce(wx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const E=y.getResponseJson();ue(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case _h.TIMEOUT:ue(hn,`RPC '${e}' ${d} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=y.getStatus();if(ue(hn,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j==null?void 0:j.error;if(F&&F.status&&F.message){const Q=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ne)>=0?ne:X.UNKNOWN})(F.status);g(new ce(Q,F.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(hn,`RPC '${e}' ${d} completed.`)}}));const v=JSON.stringify(l);ue(hn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",v,i,15)}))}T_(e,n,i){const l=ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ax(),p=Sx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const v=c.join("");ue(hn,`Creating RPC '${e}' stream ${l}: ${v}`,g);const E=d.createWebChannel(v,g);this.I_(E);let A=!1,j=!1;const F=new uI({Yo:B=>{j?ue(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(A||(ue(hn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),A=!0),ue(hn,`RPC '${e}' stream ${l} sending:`,B),E.send(B))},Zo:()=>E.close()}),Q=(B,J,ne)=>{B.listen(J,(te=>{try{ne(te)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Q(E,Wo.EventType.OPEN,(()=>{j||(ue(hn,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Q(E,Wo.EventType.CLOSE,(()=>{j||(j=!0,ue(hn,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(E))})),Q(E,Wo.EventType.ERROR,(B=>{j||(j=!0,vl(hn,`RPC '${e}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),F.a_(new ce(X.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Wo.EventType.MESSAGE,(B=>{var J;if(!j){const ne=B.data[0];Xe(!!ne,16349);const te=ne,ye=(te==null?void 0:te.error)||((J=te[0])==null?void 0:J.error);if(ye){ue(hn,`RPC '${e}' stream ${l} received error:`,ye);const fe=ye.status;let Ae=(function(w){const N=jt[w];if(N!==void 0)return lE(N)})(fe),O=ye.message;Ae===void 0&&(Ae=X.INTERNAL,O="Unknown error status: "+fe+" with message "+ye.message),j=!0,F.a_(new ce(Ae,O)),E.close()}else ue(hn,`RPC '${e}' stream ${l} received:`,ne),F.u_(ne)}})),Q(p,Tx.STAT_EVENT,(B=>{B.stat===qm.PROXY?ue(hn,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===qm.NOPROXY&&ue(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s){return new pC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,i=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class EE{constructor(e,n,i,l,c,d,p,g){this.Mi=e,this.S_=i,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dI extends EE{constructor(e,n,i,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_C(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Mr(d.readTime):Re.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=Qm(g)?{documents:xC(c,g)}:{query:EC(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uE(c,d.resumeToken);const y=Ym(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=Uh(c,d.snapshotVersion.toTimestamp());const y=Ym(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=TC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class fI extends EE{constructor(e,n,i,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bC(e.writeResults,e.commitTime),i=Mr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>vC(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class pI extends mI{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Xm(n,i),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())}))}Ho(e,n,i,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Xm(n,i),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class yI{constructor(e,n,i,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{i.enqueueAndForget((async()=>{ba(this)&&(ue(_a,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await Dc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ld(y)})(this))}))})),this.Ra=new gI(i,l)}}async function ld(s){if(ba(s))for(const e of s.da)await e(!0)}async function Dc(s){for(const e of s.da)await e(!1)}function wE(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Gp(n):Vl(n).O_()&&Fp(n,e))}function Hp(s,e){const n=De(s),i=Vl(n);n.Ia.delete(e),i.O_()&&TE(n,e),n.Ia.size===0&&(i.O_()?i.L_():ba(n)&&n.Ra.set("Unknown"))}function Fp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(s).Y_(e)}function TE(s,e){s.Va.Ue(e),Vl(s).Z_(e)}function Gp(s){s.Va=new hC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vl(s).start(),s.Ra.ua()}function $p(s){return ba(s)&&!Vl(s).x_()&&s.Ia.size>0}function ba(s){return De(s).Ea.size===0}function SE(s){s.Va=void 0}async function _I(s){s.Ra.set("Online")}async function vI(s){s.Ia.forEach(((e,n)=>{Fp(s,e)}))}async function bI(s,e){SE(s),$p(s)?(s.Ra.ha(e),Gp(s)):s.Ra.set("Unknown")}async function xI(s,e,n){if(s.Ra.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(i){ue(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bh(s,i)}else if(e instanceof Eh?s.Va.Ze(e):e instanceof oE?s.Va.st(e):s.Va.tt(e),!n.isEqual(Re.min()))try{const i=await bE(s.localStore);n.compareTo(i)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),TE(c,g);const E=new ii(v.target,g,y,v.sequenceNumber);Fp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(i){ue(_a,"Failed to raise snapshot:",i),await Bh(s,i)}}async function Bh(s,e,n){if(!kl(e))throw e;s.Ea.add(1),await Dc(s),s.Ra.set("Offline"),n||(n=()=>bE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(_a,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ld(s)}))}function AE(s,e){return e().catch((n=>Bh(s,n,e)))}async function od(s){const e=De(s),n=yi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;EI(e);)try{const l=await rI(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,wI(e,l)}catch(l){await Bh(e,l)}NE(e)&&RE(e)}function EI(s){return ba(s)&&s.Ta.length<10}function wI(s,e){s.Ta.push(e);const n=yi(s);n.O_()&&n.X_&&n.ea(e.mutations)}function NE(s){return ba(s)&&!yi(s).x_()&&s.Ta.length>0}function RE(s){yi(s).start()}async function TI(s){yi(s).ra()}async function SI(s){const e=yi(s);for(const n of s.Ta)e.ea(n.mutations)}async function AI(s,e,n){const i=s.Ta.shift(),l=Vp.from(i,e,n);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await od(s)}async function NI(s,e){e&&yi(s).X_&&await(async function(i,l){if((function(d){return oC(d)&&d!==X.ABORTED})(l.code)){const c=i.Ta.shift();yi(i).B_(),await AE(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l))),await od(i)}})(s,e),NE(s)&&RE(s)}async function Fv(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),ue(_a,"RemoteStore received new credentials");const i=ba(n);n.Ea.add(3),await Dc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ld(n)}async function RI(s,e){const n=De(s);e?(n.Ea.delete(2),await ld(n)):e||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function Vl(s){return s.ma||(s.ma=(function(n,i,l){const c=De(n);return c.sa(),new dI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:_I.bind(null,s),t_:vI.bind(null,s),r_:bI.bind(null,s),H_:xI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),$p(s)?Gp(s):s.Ra.set("Unknown")):(await s.ma.stop(),SE(s))}))),s.ma}function yi(s){return s.fa||(s.fa=(function(n,i,l){const c=De(n);return c.sa(),new fI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:TI.bind(null,s),r_:NI.bind(null,s),ta:SI.bind(null,s),na:AI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await od(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(_a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,i,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,c){const d=Date.now()+i,p=new Qp(e,n,d,l,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(s,e){if(vs("AsyncQueue",`${e}: ${s}`),kl(s))return new ce(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=Zo(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.ga=new ft(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Tl{constructor(e,n,i,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Tl(e,n,pl.emptySet(n),d,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class II{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=De(n),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function $v(){return new va((s=>Yx(s)),td)}async function DI(s,e){const n=De(s);let i=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(i=2):(c=new CI,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Kp(d,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Yp(n)}async function jI(s,e){const n=De(s),i=e.query;let l=3;const c=n.queries.get(i);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function OI(s,e){const n=De(s);let i=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(i=!0);d.wa=l}}i&&Yp(n)}function kI(s,e,n){const i=De(s),l=i.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);i.queries.delete(e)}function Yp(s){s.Ca.forEach((e=>{e.next()}))}var tp,Qv;(Qv=tp||(tp={})).Ma="default",Qv.Cache="cache";class MI{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.key=e}}class IE{constructor(e){this.key=e}}class VI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Xx(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Gv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((v,E)=>{const A=l.get(v),j=nd(this.query,E)?E:null,F=!!A&&this.mutatedKeys.has(A.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;A&&j?A.data.isEqual(j.data)?F!==Q&&(i.track({type:3,doc:j}),B=!0):this.su(A,j)||(i.track({type:2,doc:j}),B=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!A&&j?(i.track({type:0,doc:j}),B=!0):A&&!j&&(i.track({type:1,doc:A}),B=!0,(g||y)&&(p=!0)),B&&(j?(d=d.add(j),c=Q?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{tu:d,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((v,E)=>(function(j,F){const Q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:B})}};return Q(j)-Q(F)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Tl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new IE(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new CE(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class PI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class LI{constructor(e){this.key=e,this.hu=!1}}class UI{constructor(e,n,i,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((p=>Yx(p)),td),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ve.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zI(s,e,n=!0){const i=VE(s);let l;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await DE(i,e,n,!0),l}async function BI(s,e){const n=VE(s);await DE(n,e,!0,!1)}async function DE(s,e,n,i){const l=await sI(s.localStore,kr(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await qI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&wE(s.remoteStore,l),p}async function qI(s,e,n,i,l){s.pu=(E,A,j)=>(async function(Q,B,J,ne){let te=B.view.ru(J);te.Cs&&(te=await Uv(Q.localStore,B.query,!1).then((({documents:O})=>B.view.ru(O,te))));const ye=ne&&ne.targetChanges.get(B.targetId),fe=ne&&ne.targetMismatches.get(B.targetId)!=null,Ae=B.view.applyChanges(te,Q.isPrimaryClient,ye,fe);return Yv(Q,B.targetId,Ae.au),Ae.snapshot})(s,E,A,j);const c=await Uv(s.localStore,e,!0),d=new VI(e,c.Qs),p=d.ru(c.documents),g=Ic.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Yv(s,n,y.au);const v=new PI(e,n,d);return s.Tu.set(e,v),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function HI(s,e,n){const i=De(s),l=i.Tu.get(e),c=i.Iu.get(l.targetId);if(c.length>1)return i.Iu.set(l.targetId,c.filter((d=>!td(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Hp(i.remoteStore,l.targetId),np(i,l.targetId)})).catch(Ol)):(np(i,l.targetId),await Jm(i.localStore,l.targetId,!0))}async function FI(s,e){const n=De(s),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Hp(n.remoteStore,i.targetId))}async function GI(s,e,n){const i=ZI(s);try{const l=await(function(d,p){const g=De(d),y=ct.now(),v=p.reduce(((j,F)=>j.add(F.key)),Be());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=bs(),Q=Be();return g.Ns.getEntries(j,v).next((B=>{F=B,F.forEach(((J,ne)=>{ne.isValidDocument()||(Q=Q.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,F))).next((B=>{E=B;const J=[];for(const ne of p){const te=rC(ne,E.get(ne.key).overlayedDocument);te!=null&&J.push(new Ti(ne.key,te,zx(te.value.mapValue),dr.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,J,p)})).next((B=>{A=B;const J=B.applyToLocalDocumentSet(E,Q);return g.documentOverlayCache.saveOverlays(j,B.batchId,J)}))})).then((()=>({batchId:A.batchId,changes:Zx(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(ze)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(i,l.batchId,n),await jc(i,l.changes),await od(i.remoteStore)}catch(l){const c=Kp(l,"Failed to persist write");n.reject(c)}}async function jE(s,e){const n=De(s);try{const i=await tI(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await jc(n,i,e)}catch(i){await Ol(i)}}function Kv(s,e,n){const i=De(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=De(d);g.onlineState=p;let y=!1;g.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&Yp(g)})(i.eventManager,e),l.length&&i.Pu.H_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $I(s,e,n){const i=De(s);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),c=l&&l.key;if(c){let d=new ft(ve.comparator);d=d.insert(c,fn.newNoDocument(c,Re.min()));const p=Be().add(c),g=new id(Re.min(),new Map,new ft(ze),d,p);await jE(i,g),i.du=i.du.remove(c),i.Au.delete(e),Wp(i)}else await Jm(i.localStore,e,!1).then((()=>np(i,e,n))).catch(Ol)}async function QI(s,e){const n=De(s),i=e.batch.batchId;try{const l=await eI(n.localStore,e);kE(n,i,null),OE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jc(n,l)}catch(l){await Ol(l)}}async function KI(s,e,n){const i=De(s);try{const l=await(function(d,p){const g=De(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Xe(E!==null,37113),v=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(i.localStore,e);kE(i,e,n),OE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await jc(i,l)}catch(l){await Ol(l)}}function OE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function kE(s,e,n){const i=De(s);let l=i.Vu[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),i.Vu[i.currentUser.toKey()]=l}}function np(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((i=>{s.Ru.containsKey(i)||ME(s,i)}))}function ME(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Hp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Wp(s))}function Yv(s,e,n){for(const i of n)i instanceof CE?(s.Ru.addReference(i.key,e),YI(s,i)):i instanceof IE?(ue(Xp,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,e),s.Ru.containsKey(i.key)||ME(s,i.key)):Se(19791,{wu:i})}function YI(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Eu.has(i)||(ue(Xp,"New document in limbo: "+n),s.Eu.add(i),Wp(s))}function Wp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(at.fromString(e)),i=s.fu.next();s.Au.set(i,new LI(n)),s.du=s.du.insert(n,i),wE(s.remoteStore,new ii(kr(Qx(n.path)),i,"TargetPurposeLimboResolution",Zh.ce))}}async function jc(s,e,n){const i=De(s),l=[],c=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{var v;if((y||n)&&i.isPrimaryClient){const E=y?!y.fromCache:(v=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Bp.As(g.targetId,y);c.push(E)}})))})),await Promise.all(d),i.Pu.H_(l),await(async function(g,y){const v=De(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Z.forEach(y,(A=>Z.forEach(A.Es,(j=>v.persistence.referenceDelegate.addReference(E,A.targetId,j))).next((()=>Z.forEach(A.ds,(j=>v.persistence.referenceDelegate.removeReference(E,A.targetId,j)))))))))}catch(E){if(!kl(E))throw E;ue(qp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const j=v.Ms.get(A),F=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(F);v.Ms=v.Ms.insert(A,Q)}}})(i.localStore,c))}async function XI(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){ue(Xp,"User change. New user:",e.toKey());const i=await vE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jc(n,i.Ls)}}function WI(s,e){const n=De(s),i=n.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let l=Be();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function VE(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.Pu.H_=OI.bind(null,e.eventManager),e.Pu.yu=kI.bind(null,e.eventManager),e}function ZI(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JC(this.persistence,new XC,e.initialUser,this.serializer)}Cu(e){return new _E(zp.mi,this.serializer)}Du(e){return new aI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class JI extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof zh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new _E((i=>zh.mi(i,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Kv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XI.bind(null,this.syncEngine),await RI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new II})()}createDatastore(e){const n=ad(e.databaseInfo.databaseId),i=(function(c){return new hI(c)})(e.databaseInfo);return(function(c,d,p,g){return new pI(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,c,d,p){return new yI(i,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kv(this.syncEngine,n,0)),(function(){return qv.v()?new qv:new lI})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,v){const E=new UI(l,c,d,p,g,y);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=De(l);ue(_a,"RemoteStore shutting down."),c.Ea.add(5),await Dc(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class t4{constructor(e,n,i,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async d=>{ue(_i,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ue(_i,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Kp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Rm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(_i,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async l=>{i.isEqual(l)||(await vE(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Xv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await n4(s);ue(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>Fv(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,l)=>Fv(e.remoteStore,l))),s._onlineComponents=e}async function n4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(_i,"Using user provided OfflineComponentProvider");try{await Rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Rm(s,new qh)}}else ue(_i,"Using default OfflineComponentProvider"),await Rm(s,new JI(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(_i,"Using user provided OnlineComponentProvider"),await Xv(s,s._uninitializedComponentsProvider._online)):(ue(_i,"Using default OnlineComponentProvider"),await Xv(s,new rp))),s._onlineComponents}function r4(s){return PE(s).then((e=>e.syncEngine))}async function s4(s){const e=await PE(s),n=e.eventManager;return n.onListen=zI.bind(null,e.syncEngine),n.onUnlisten=HI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FI.bind(null,e.syncEngine),n}function i4(s,e,n={}){const i=new ui;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const v=new e4({next:A=>{v.Nu(),d.enqueueAndForget((()=>jI(c,E))),A.fromCache&&g.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new MI(p,v,{includeMetadataChanges:!0,qa:!0});return DI(c,E)})(await s4(s),s.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",Zv=!0;class Jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=Zv}else this.host=e.host,this.ssl=e.ssl??Zv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OC)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new aR;switch(i.type){case"firstParty":return new uR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Wv.get(n);i&&(ue("ComponentProvider","Removing Datastore"),Wv.delete(n),i.terminate())})(this),Promise.resolve()}}function a4(s,e,n,i={}){var y;s=ya(s,cd);const l=Cl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(jb(`https://${p}`),Ob("Firestore",!0)),c.host!==UE&&c.host!==p&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:i};if(!da(g,d)&&(s._setSettings(g),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=dn.MOCK_USER;else{v=_S(i.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(A)}s._authCredentials=new lR(new Rx(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Rc(n,zt._jsonSchema))return new zt(e,i||null,new ve(at.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:kt("string",zt._jsonSchemaVersion),referencePath:kt("string")};class hi extends Si{constructor(e,n,i){super(e,n,Qx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ve(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function tt(s,e,...n){if(s=Yt(s),Cx("collection","path",e),s instanceof cd){const i=at.fromString(e,...n);return dv(i),new hi(s,null,i)}{if(!(s instanceof zt||s instanceof hi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(at.fromString(e,...n));return dv(i),new hi(s.firestore,null,i)}}function vn(s,e,...n){if(s=Yt(s),arguments.length===1&&(e=Rp.newId()),Cx("doc","path",e),s instanceof cd){const i=at.fromString(e,...n);return hv(i),new zt(s,null,new ve(i))}{if(!(s instanceof zt||s instanceof hi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(at.fromString(e,...n));return hv(i),new zt(s.firestore,s instanceof hi?s.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="AsyncQueue";class tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const i=Nm();i&&ue(eb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;ue(eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",nb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Qp.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Oc extends cd{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new tb,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tb(e),this._firestoreClient=void 0,await e}}}function l4(s,e){const n=typeof s=="object"?s:Pb(),i=typeof s=="string"?s:Oh,l=gp(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=gS("firestore");c&&a4(l,...c)}return l}function zE(s){if(s._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o4(s),s._firestoreClient}function o4(s){var i,l,c;const e=s._freezeSettings(),n=(function(p,g,y,v){return new RR(p,g,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,LE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,((i=s._app)==null?void 0:i.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new t4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:kt("string",Wn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:kt("string",Vr._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pr(e.vectorValues);throw new ce(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:kt("string",Pr._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^__.*__$/;class u4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class BE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Jp{constructor(e,n,i,l,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&c4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ad(e)}Cc(e,n,i,l=!1){return new Jp({Ac:e,methodName:n,Dc:i,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(s){const e=s._freezeSettings(),n=ad(s._databaseId);return new h4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function d4(s,e,n,i,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);tg("Data must be an object, but it was:",d,i);const p=HE(i,d);let g,y;if(c.merge)g=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const E of c.mergeFields){const A=sp(e,E,n);if(!d.contains(A))throw new ce(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);GE(v,A)||v.push(A)}g=new Ln(v),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new u4(new Nn(p),g,y)}class hd extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function f4(s,e,n,i){const l=s.Cc(1,e,n);tg("Data must be an object, but it was:",l,i);const c=[],d=Nn.empty();wi(i,((g,y)=>{const v=ng(e,g,n);y=Yt(y);const E=l.yc(v);if(y instanceof hd)c.push(v);else{const A=kc(y,E);A!=null&&(c.push(v),d.set(v,A))}}));const p=new Ln(c);return new BE(d,p,l.fieldTransforms)}function m4(s,e,n,i,l,c){const d=s.Cc(1,e,n),p=[sp(e,i,n)],g=[l];if(c.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(sp(e,c[A])),g.push(c[A+1]);const y=[],v=Nn.empty();for(let A=p.length-1;A>=0;--A)if(!GE(y,p[A])){const j=p[A];let F=g[A];F=Yt(F);const Q=d.yc(j);if(F instanceof hd)y.push(j);else{const B=kc(F,Q);B!=null&&(y.push(j),v.set(j,B))}}const E=new Ln(y);return new BE(v,E,d.fieldTransforms)}function p4(s,e,n,i=!1){return kc(n,s.Cc(i?4:3,e))}function kc(s,e){if(FE(s=Yt(s)))return tg("Unsupported field value:",e,s),HE(s,e);if(s instanceof Zp)return(function(i,l){if(!qE(l.Ac))throw l.Sc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,l){const c=[];let d=0;for(const p of i){let g=kc(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(i,l){if((i=Yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WR(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ct.fromDate(i);return{timestampValue:Uh(l.serializer,c)}}if(i instanceof ct){const c=new ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uh(l.serializer,c)}}if(i instanceof Vr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:uE(l.serializer,i._byteString)};if(i instanceof zt){const c=l.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lp(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Pr)return(function(d,p){return{mapValue:{fields:{[Lx]:{stringValue:Ux},[kh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return kp(p.serializer,y)}))}}}}}})(i,l);throw l.Sc(`Unsupported field value: ${Wh(i)}`)})(s,e)}function HE(s,e){const n={};return jx(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(s,((i,l)=>{const c=kc(l,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof Vr||s instanceof Wn||s instanceof zt||s instanceof Zp||s instanceof Pr)}function tg(s,e,n){if(!FE(n)||!Ix(n)){const i=Wh(n);throw i==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+i)}}function sp(s,e,n){if((e=Yt(e))instanceof ud)return e._internalPath;if(typeof e=="string")return ng(s,e);throw Hh("Field path arguments must be of type string or ",s,!1,void 0,n)}const g4=new RegExp("[~\\*/\\[\\]]");function ng(s,e,n){if(e.search(g4)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Hh(s,e,n,i,l){const c=i&&!i.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${i}`),d&&(g+=` in document ${l}`),g+=")"),new ce(X.INVALID_ARGUMENT,p+s+g)}function GE(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,i,l,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y4 extends $E{data(){return super.data()}}function dd(s,e){return typeof e=="string"?ng(s,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class sg extends rg{}function Kt(s,e,...n){let i=[];e instanceof rg&&i.push(e),i=i.concat(n),(function(c){const d=c.filter((g=>g instanceof ig)).length,p=c.filter((g=>g instanceof fd)).length;if(d>1||d>0&&p>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)s=l._apply(s);return s}class fd extends sg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new fd(e,n,i)}_apply(e){const n=this._parse(e);return QE(e._query,n),new Si(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=eg(e.firestore);return(function(c,d,p,g,y,v,E){let A;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ib(E,v);const F=[];for(const Q of E)F.push(sb(g,c,Q));A={arrayValue:{values:F}}}else A=sb(g,c,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ib(E,v),A=p4(p,d,E,v==="in"||v==="not-in");return Ot.create(y,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xn(s,e,n){const i=e,l=dd("where",s);return fd._create(l,i,n)}class ig extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)QE(d,g),d=Km(d,g)})(e._query,n),new Si(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ag(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,d)})(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ml(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function us(s,e="asc"){const n=e,i=dd("orderBy",s);return ag._create(i,n)}class lg extends sg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new lg(e,n,i)}_apply(e){return new Si(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function rb(s){return yR("limit",s),lg._create("limit",s,"F")}function sb(s,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kx(e)&&n.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(at.fromString(n));if(!ve.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bv(s,new ve(i))}if(n instanceof zt)return bv(s,n._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function ib(s,e){if(!Array.isArray(s)||s.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QE(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v4{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return wi(e,((l,c)=>{i[l]=this.convertValue(c,n)})),i}convertVectorValue(e){var i,l,c;const n=(c=(l=(i=e.fields)==null?void 0:i[kh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>St(d.doubleValue)));return new Pr(n)}convertGeoPoint(e){return new Vr(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ed(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=mi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=at.fromString(e);Xe(gE(i),9688,{name:e});const l=new fc(i.get(1),i.get(3)),c=new ve(i.popFirst(5));return l.isEqual(n)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends $E{constructor(e,n,i,l,c,d){super(e,n,i,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(dd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:kt("string",gl._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class wh extends gl{data(e={}){return super.data(e)}}class yl{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new lh(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new wh(this._firestore,this._userDataWriter,i.key,i,new lh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new wh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new lh(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new wh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new lh(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),v=d.indexOf(p.doc.key)),{type:x4(p.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:kt("string",yl._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class E4 extends v4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Ut(s){s=ya(s,Si);const e=ya(s.firestore,Oc),n=zE(e),i=new E4(e);return _4(s._query),i4(n,s._query).then((l=>new yl(e,i,s,l)))}function Dr(s,e,n,...i){s=ya(s,zt);const l=ya(s.firestore,Oc),c=eg(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof ud?m4(c,"updateDoc",s._key,e,n,i):f4(c,"updateDoc",s._key,e),og(l,[d.toMutation(s._key,dr.exists(!0))])}function oh(s){return og(ya(s.firestore,Oc),[new Mp(s._key,dr.none())])}function jr(s,e){const n=ya(s.firestore,Oc),i=vn(s),l=b4(s.converter,e);return og(n,[d4(eg(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,dr.exists(!1))]).then((()=>i))}function og(s,e){return(function(i,l){const c=new ui;return i.asyncQueue.enqueueAndForget((async()=>GI(await r4(i),l,c))),c.promise})(zE(s),e)}(function(e,n=!0){(function(l){jl=l})(Il),_l(new fa("firestore",((i,{instanceIdentifier:l,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new Oc(new oR(i.getProvider("auth-internal")),new hR(d,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,v)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),oi(lv,ov,e),oi(lv,ov,"esm2020")})();const w4={apiKey:"AIzaSyBoO_bYttGCbXCRPU8m-EGvmZwFa8MOSKA",authDomain:"siratulsabiqun.firebaseapp.com",projectId:"siratulsabiqun",storageBucket:"siratulsabiqun.firebasestorage.app",messagingSenderId:"486046963009",appId:"1:486046963009:web:e73405fc950d592616fdc0",measurementId:"G-XGCK09HD71"},KE=M_().length?M_()[0]:Vb(w4),ti=bx(KE),T4=new cs,je=l4(KE),YE=L.createContext(void 0);function S4({children:s}){const[e,n]=L.useState(null),[i,l]=L.useState(!1);L.useEffect(()=>{const v=KA(ti,E=>{n(E?{id:E.uid,email:E.email,name:E.displayName,avatar_url:E.photoURL}:null),l(!0)});return()=>v()},[]);const c=async()=>{try{const E=(await mN(ti,T4)).user,A=tt(je,"members"),j=await Ut(Kt(A,Xn("email","==",E.email),Xn("is_active","==",!0)));if(j.empty)throw await X_(ti),new Error("এই ইমেইলটি অনুমোদিত সদস্য তালিকায় নেই। অ্যাডমিনের সাথে যোগাযোগ করুন।");const F=j.docs[0];await Dr(vn(je,"members",F.id),{user_id:E.uid,updated_at:new Date().toISOString()})}catch(v){console.error("Login failed:",v),v.message.includes("অনুমোদিত সদস্য")&&alert(v.message)}},d=async()=>{await X_(ti)},p=async(v,E)=>{const A=tt(je,"members"),j=await Ut(Kt(A,Xn("email","==",v),Xn("is_active","==",!0)));if(j.empty)throw new Error("এই ইমেইলটি অনুমোদিত সদস্য তালিকায় নেই");const F=j.docs[0],Q=F.data();try{const J=(await GA(ti,v,E)).user;await Dr(vn(je,"members",F.id),{user_id:J.uid,updated_at:new Date().toISOString()});return}catch(B){const J=(B==null?void 0:B.code)||"";if(J==="auth/user-not-found"){const ne=Q==null?void 0:Q.temp_password;if(!ne)throw new Error("এই ইমেইল দিয়ে কোন অ্যাকাউন্ট নেই। আগে অ্যাডমিনের সাথে যোগাযোগ করুন।");if(String(ne)!==String(E))throw new Error("পাসওয়ার্ড সঠিক নয়। প্রথমবার লগইন করতে আমন্ত্রণের পাসওয়ার্ড ব্যবহার করুন।");const ye=(await Y_(ti,v,E)).user;await Dr(vn(je,"members",F.id),{user_id:ye.uid,temp_password:null,updated_at:new Date().toISOString()});return}throw J==="auth/invalid-credential"||J==="auth/wrong-password"?new Error("ইমেইল বা পাসওয়ার্ড সঠিক নয়।"):J==="auth/too-many-requests"?new Error("অনেকবার চেষ্টা করা হয়েছে, কিছুক্ষণ পরে আবার চেষ্টা করুন।"):B}},g=async(v,E)=>{const A=tt(je,"members"),j=await Ut(Kt(A,Xn("email","==",v),Xn("is_active","==",!0)));if(j.empty)throw new Error("এই ইমেইলটি অনুমোদিত সদস্য তালিকায় নেই");const F=j.docs[0],Q=F.data();if(!(Q!=null&&Q.temp_password))throw new Error("এই ইমেইলের জন্য অ্যাকাউন্ট তৈরি করার অনুমতি নেই");if(String(Q.temp_password)!==String(E))throw new Error("পাসওয়ার্ড মিলছে না");try{await Y_(ti,v,E)}catch(B){throw(B==null?void 0:B.code)==="auth/operation-not-allowed"?new Error("ইমেইল/পাসওয়ার্ড সাইন-ইন সক্রিয় করা নেই। অ্যাডমিন কনসোল থেকে Enable করতে হবে।"):B}await Dr(vn(je,"members",F.id),{temp_password:null})},y=L.useMemo(()=>({user:e,signInWithGoogle:c,signInWithEmailPassword:p,signUpIfInvited:g,signOut:d}),[e]);return i?f.jsx(YE.Provider,{value:y,children:s}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900 text-emerald-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin mb-4 inline-block w-10 h-10 rounded-full border-2 border-emerald-400 border-t-transparent"}),f.jsx("div",{className:"text-sm opacity-80",children:"Loading…"})]})})}function Ai(){const s=L.useContext(YE);if(!s)throw new Error("useFirebaseAuth must be used within FirebaseAuthProvider");return s}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),ab=s=>{const e=N4(s);return e.charAt(0).toUpperCase()+e.slice(1)},XE=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),R4=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=L.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:d,...p},g)=>L.createElement("svg",{ref:g,...C4,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:XE("lucide",l),...!c&&!R4(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,v])=>L.createElement(y,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,e)=>{const n=L.forwardRef(({className:i,...l},c)=>L.createElement(I4,{ref:c,iconNode:e,className:XE(`lucide-${A4(ab(s))}`,`lucide-${s}`,i),...l}));return n.displayName=ab(s),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Sl=qe("activity",D4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lb=qe("arrow-right",j4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],k4=qe("book-open",O4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],V4=qe("building",M4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vi=qe("calendar",P4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cm=qe("check",L4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z4=qe("chevron-left",U4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q4=qe("chevron-right",B4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WE=qe("circle-check-big",H4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ip=qe("clock",F4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$4=qe("eye",G4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],di=qe("file-text",Q4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ZE=qe("heart",K4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],X4=qe("house",Y4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ap=qe("image",W4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J4=qe("info",Z4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tD=qe("loader-circle",eD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rD=qe("lock",nD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],iD=qe("log-out",sD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lD=qe("mail",aD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cD=qe("map-pin",oD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],hD=qe("menu",uD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],fD=qe("moon",dD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ch=qe("pen",mD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gD=qe("phone",pD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uh=qe("plus",yD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JE=qe("send",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fh=qe("settings",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ha=qe("shield",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ob=qe("sun",xD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],wD=qe("sunrise",ED);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],SD=qe("sunset",TD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hh=qe("trash-2",AD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Al=qe("user",ND);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=qe("users",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fs=qe("x",CD);function ID(){var v;const{user:s,signInWithGoogle:e}=Ai(),[n,i]=L.useState([]),[l,c]=L.useState([]),[d,p]=L.useState(!0);L.useEffect(()=>{g(),y()},[]);const g=async()=>{try{const E=tt(je,"events"),A=Kt(E,us("event_date","desc"),rb(3)),F=(await Ut(A)).docs.map(Q=>({id:Q.data().id??0,...Q.data()})).filter(Q=>Q.is_active!==!1);i(F)}catch(E){console.error("Failed to fetch events:",E)}},y=async()=>{try{const E=tt(je,"gallery"),A=Kt(E,us("created_at","desc"),rb(20)),Q=(await Ut(A)).docs.map((B,J)=>({id:B.id||`gallery_${J}`,...B.data()})).filter(B=>B.is_featured).slice(0,4);c(Q)}catch(E){console.error("Failed to fetch gallery items:",E)}finally{p(!1)}};return s?f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsx("div",{className:"bg-gradient-to-r from-emerald-800/40 to-emerald-700/40 rounded-2xl p-6 border border-emerald-700/30",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[(s==null?void 0:s.avatar_url)&&f.jsx("img",{src:s.avatar_url,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-emerald-300"}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-emerald-100",children:["আসসালামু আলাইকুম, ",((v=s==null?void 0:s.name)==null?void 0:v.split(" ")[0])||"ভাই","!"]}),f.jsx("p",{className:"text-emerald-200/70",children:"আজকের নামাজের হিসাব আপডেট করুন"})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsx(_c,{className:"w-8 h-8 text-emerald-300 mb-2"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"সদস্য"}),f.jsx("p",{className:"text-2xl font-bold text-emerald-300",children:"৫০+"})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsx(Sl,{className:"w-8 h-8 text-emerald-300 mb-2"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"কার্যক্রম"}),f.jsx("p",{className:"text-2xl font-bold text-emerald-300",children:"১৫+"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"সাম্প্রতিক ইভেন্ট"}),f.jsx("button",{className:"text-emerald-300 text-sm hover:text-emerald-200",children:"সব দেখুন"})]}),d?f.jsx("div",{className:"space-y-3",children:[1,2,3].map(E=>f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-emerald-800/30 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-3 bg-emerald-800/20 rounded w-1/2"})]},E))}):n.length>0?f.jsx("div",{className:"space-y-3",children:n.map(E=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsx("h4",{className:"font-medium text-emerald-100 mb-1",children:E.title}),f.jsx("p",{className:"text-sm text-emerald-200/70 mb-2",children:E.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-emerald-300",children:[f.jsxs("span",{children:["📅 ",new Date(E.event_date).toLocaleDateString("bn-BD")]}),E.event_time&&f.jsxs("span",{children:["🕐 ",E.event_time]})]})]},E.id))}):f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-6 text-center",children:[f.jsx(vi,{className:"w-12 h-12 text-emerald-300/50 mx-auto mb-3"}),f.jsx("p",{className:"text-emerald-200/70",children:"কোন ইভেন্ট পাওয়া যায়নি"})]})]}),l.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"ফিচার্ড গ্যালারি"}),f.jsx(os,{to:"/gallery",className:"text-emerald-300 text-sm hover:text-emerald-200",children:"সব দেখুন"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.map(E=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl overflow-hidden border border-emerald-800/30 hover:border-emerald-600/50 transition-all group",children:[f.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[f.jsx("img",{src:E.image_url,alt:E.title||"Gallery Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx("span",{className:"bg-yellow-500 text-yellow-900 px-1 py-0.5 rounded text-xs font-medium",children:"ফিচার্ড"})})]}),E.title&&f.jsx("div",{className:"p-2",children:f.jsx("p",{className:"text-xs text-emerald-100 line-clamp-2",children:E.title})})]},E.id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{className:"bg-gradient-to-br from-blue-800/40 to-blue-700/40 p-4 rounded-xl border border-blue-700/30 hover:from-blue-700/50 hover:to-blue-600/50 transition-all",children:[f.jsx(k4,{className:"w-8 h-8 text-blue-300 mx-auto mb-2"}),f.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"মাদ্রাসা"})]}),f.jsxs("button",{className:"bg-gradient-to-br from-purple-800/40 to-purple-700/40 p-4 rounded-xl border border-purple-700/30 hover:from-purple-700/50 hover:to-purple-600/50 transition-all",children:[f.jsx(ZE,{className:"w-8 h-8 text-purple-300 mx-auto mb-2"}),f.jsx("span",{className:"text-purple-100 text-sm font-medium",children:"দান"})]})]})]}):f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-emerald-800/40 to-emerald-700/40 rounded-2xl p-6 border border-emerald-700/30 text-center",children:[f.jsx(V4,{className:"w-16 h-16 text-emerald-300 mx-auto mb-4"}),f.jsx("h1",{className:"text-2xl font-bold text-emerald-100 mb-2",children:"সিরাতুল সাবিকুন"}),f.jsx("p",{className:"text-emerald-200/80 mb-6",children:"স্বাগতম! আমাদের কমিউনিটির সদস্য হয়ে নামাজের হিসাব রাখুন এবং ইভেন্টে অংশগ্রহণ করুন।"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[f.jsx("button",{onClick:e,className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg shadow-emerald-800/30 flex items-center justify-center space-x-2",children:f.jsx("span",{children:"গুগল দিয়ে লগইন করুন"})}),f.jsxs(os,{to:"/application",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg shadow-blue-800/30 flex items-center justify-center space-x-2",children:[f.jsx(di,{className:"w-4 h-4"}),f.jsx("span",{children:"সদস্য হওয়ার আবেদন"}),f.jsx(lb,{className:"w-4 h-4"})]})]})]}),f.jsx("div",{className:"bg-gradient-to-r from-blue-800/40 to-blue-700/40 rounded-2xl p-6 border border-blue-700/30",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"bg-blue-600/20 p-3 rounded-xl",children:f.jsx(di,{className:"w-8 h-8 text-blue-300"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-2",children:"সদস্য হতে চান?"}),f.jsx("p",{className:"text-blue-200/80 mb-4",children:"আমাদের সিরাতুল সাবিকুন কমিউনিটির সদস্য হয়ে নামাজের হিসাব রাখুন, ইভেন্টে অংশগ্রহণ করুন এবং ধর্মীয় কার্যক্রমে অংশ নিন।"}),f.jsxs("div",{className:"space-y-2 text-sm text-blue-200/70",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),f.jsx("span",{children:"নামাজের দৈনিক হিসাব রাখা"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),f.jsx("span",{children:"ইভেন্ট ও কার্যক্রমে অংশগ্রহণ"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),f.jsx("span",{children:"গ্যালারি ও ছবি দেখা"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),f.jsx("span",{children:"কমিউনিটি সদস্যদের সাথে যোগাযোগ"})]})]}),f.jsx("div",{className:"mt-4",children:f.jsxs(os,{to:"/application",className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[f.jsx("span",{children:"এখনই আবেদন করুন"}),f.jsx(lb,{className:"w-4 h-4"})]})})]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"সাম্প্রতিক ইভেন্ট"}),f.jsx(os,{to:"/activities",className:"text-emerald-300 text-sm hover:text-emerald-200",children:"সব দেখুন"})]}),d?f.jsx("div",{className:"space-y-3",children:[1,2,3].map(E=>f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-emerald-800/30 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-3 bg-emerald-800/20 rounded w-1/2"})]},E))}):n.length>0?f.jsx("div",{className:"space-y-3",children:n.map(E=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsx("h4",{className:"font-medium text-emerald-100 mb-1",children:E.title}),f.jsx("p",{className:"text-sm text-emerald-200/70 mb-2",children:E.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-emerald-300",children:[f.jsxs("span",{children:["📅 ",new Date(E.event_date).toLocaleDateString("bn-BD")]}),E.event_time&&f.jsxs("span",{children:["🕐 ",E.event_time]})]})]},E.id))}):f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-6 text-center",children:[f.jsx(vi,{className:"w-12 h-12 text-emerald-300/50 mx-auto mb-3"}),f.jsx("p",{className:"text-emerald-200/70",children:"কোন ইভেন্ট পাওয়া যায়নি"})]})]}),l.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"ফিচার্ড গ্যালারি"}),f.jsx(os,{to:"/gallery",className:"text-emerald-300 text-sm hover:text-emerald-200",children:"সব দেখুন"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.map(E=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl overflow-hidden border border-emerald-800/30 hover:border-emerald-600/50 transition-all group",children:[f.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[f.jsx("img",{src:E.image_url,alt:E.title||"Gallery Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx("span",{className:"bg-yellow-500 text-yellow-900 px-1 py-0.5 rounded text-xs font-medium",children:"ফিচার্ড"})})]}),E.title&&f.jsx("div",{className:"p-2",children:f.jsx("p",{className:"text-xs text-emerald-100 line-clamp-2",children:E.title})})]},E.id))})]})]})}const Im=[{key:"fajr",name:"ফজর",name_en:"Fajr",icon:wD,time:"৫:১৫",color:"from-blue-600 to-blue-700"},{key:"dhuhr",name:"যুহর",name_en:"Dhuhr",icon:ob,time:"১২:৩০",color:"from-yellow-600 to-yellow-700"},{key:"asr",name:"আসর",name_en:"Asr",icon:ob,time:"৪:৪৫",color:"from-orange-600 to-orange-700"},{key:"maghrib",name:"মাগরিব",name_en:"Maghrib",icon:SD,time:"৬:২০",color:"from-red-600 to-red-700"},{key:"isha",name:"ইশা",name_en:"Isha",icon:fD,time:"৭:৪৫",color:"from-purple-600 to-purple-700"}];function DD(){const{user:s}=Ai(),[e,n]=L.useState([]),[i,l]=L.useState([]),[c,d]=L.useState(null),[p,g]=L.useState(!0),[y,v]=L.useState(null),[E,A]=L.useState(new Date().toISOString().split("T")[0]),j=new Date().toISOString().split("T")[0];L.useEffect(()=>{s&&F()},[s,E]);const F=async()=>{try{const w=tt(je,"members"),C=(await Ut(w)).docs.map(he=>({id:he.id,...he.data()}));n(C);let V=C.find(he=>he.user_id===(s==null?void 0:s.id));if(!V&&s){const he={name:s.name||s.email||"নাম নেই",user_id:s.id,email:s.email,is_admin:!1,is_active:!0,created_at:new Date().toISOString()};V={id:(await jr(tt(je,"members"),he)).id,...he},n(He=>[...He,V])}d(V||null);const R=tt(je,"prayer_records"),xe=Kt(R,Xn("prayer_date","==",E)),se=(await Ut(xe)).docs.map(he=>({id:he.id,...he.data()}));l(se)}catch(w){console.error("Failed to fetch data:",w)}finally{g(!1)}},Q=async(w,N,C)=>{var R;if(!s)return;const V=`${w}-${N}`;v(V);try{const xe=i.find(ae=>ae.member_id===w&&ae.prayer_date===E),be=(c==null?void 0:c.id)===w,se=e.find(ae=>ae.id===w),he={member_id:w,member_name:(se==null?void 0:se.name)||"Unknown",prayer_type:N,prayer_name:((R=Im.find(ae=>ae.key===N))==null?void 0:R.name)||N,completed:C,updated_by_user_id:s.id,updated_by_user_name:(c==null?void 0:c.name)||"Unknown",prayer_date:E,is_self_update:be,timestamp:new Date().toISOString(),created_at:new Date().toISOString()};if(await jr(tt(je,"prayer_history"),he),xe){const ae=vn(je,"prayer_records",xe.id);await Dr(ae,{[N]:C,[`${N}_updated`]:!0,[`${N}_locked`]:be,updated_by_user_id:s.id,updated_at:new Date().toISOString()})}else{const ae={member_id:w,prayer_date:E,fajr:!1,dhuhr:!1,asr:!1,maghrib:!1,isha:!1,fajr_updated:!1,dhuhr_updated:!1,asr_updated:!1,maghrib_updated:!1,isha_updated:!1,fajr_locked:!1,dhuhr_locked:!1,asr_locked:!1,maghrib_locked:!1,isha_locked:!1,updated_by_user_id:s.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};ae[N]=C,ae[`${N}_updated`]=!0,ae[`${N}_locked`]=be,await jr(tt(je,"prayer_records"),ae)}await F()}catch(xe){console.error("Failed to update prayer:",xe),alert("নেটওয়ার্ক এরর হয়েছে")}finally{v(null)}},B=w=>i.find(N=>N.member_id===w)||null,J=(w,N)=>{if(!c)return!1;const C=B(w);if(!C)return!1;const V=`${N}_locked`;return!!C[V]&&c.id!==w},ne=(w,N)=>{const C=B(w);if(!C)return!1;const V=`${N}_locked`;return!!C[V]},te=(w,N)=>{c&&Q(c.id,w,N)},ye=()=>{const w=new Date(E),N=new Date(w);N.setDate(w.getDate()-1);const C=N.toISOString().split("T")[0];A(C)},fe=()=>{const w=new Date(E),N=new Date(w);N.setDate(w.getDate()+1);const C=N.toISOString().split("T")[0];C<=j&&A(C)},Ae=()=>!1,O=()=>{const w=new Date(E),N=new Date(w);return N.setDate(w.getDate()+1),N.toISOString().split("T")[0]>j};if(!s)return f.jsxs("div",{className:"p-6 text-center",children:[f.jsx(ip,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"লগইন প্রয়োজন"}),f.jsx("p",{className:"text-emerald-200/70",children:"নামাজের হিসাব দেখতে লগইন করুন"})]});if(p)return f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-emerald-800/30 rounded w-1/3 mb-3"}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(N=>f.jsx("div",{className:"h-10 bg-emerald-800/20 rounded"},N))})]},w))})});const I=e.filter(w=>w.id!==(c==null?void 0:c.id));return f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-xl font-bold text-emerald-100 mb-1",children:"নামাজের হিসাব"}),f.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-2",children:[f.jsx("button",{onClick:ye,disabled:Ae(),className:"p-1 rounded transition-colors bg-emerald-800/40 hover:bg-emerald-700/40 text-emerald-300",children:f.jsx(z4,{className:"w-4 h-4"})}),f.jsx("div",{className:"text-sm text-emerald-200/70",children:new Date(E).toLocaleDateString("bn-BD",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),f.jsx("button",{onClick:fe,disabled:O(),className:`p-1 rounded transition-colors ${O()?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-800/40 hover:bg-emerald-700/40 text-emerald-300"}`,children:f.jsx(q4,{className:"w-4 h-4"})})]})]}),c&&f.jsxs("div",{className:"bg-gradient-to-br from-emerald-800/40 to-emerald-700/40 rounded-2xl p-3 sm:p-6 border border-emerald-600/40",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-emerald-100",children:c.name}),f.jsx("p",{className:"text-emerald-200/70 text-sm",children:"আপনার আজকের নামাজ"})]}),f.jsx("div",{className:"text-emerald-200/70",children:(()=>{const w=B(c.id);return`${w?Number(w.fajr)+Number(w.dhuhr)+Number(w.asr)+Number(w.maghrib)+Number(w.isha):0}/৫`})()})]}),f.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:Im.map(w=>{const N=B(c.id),C=N?N[w.key]:!1,V=ne(c.id,w.key),R=`${c.id}-${w.key}`,xe=y===R,be=`${w.key}_updated`,se=N&&N[be];return se&&V?f.jsxs("div",{className:`relative p-2 sm:p-3 rounded-xl transition-all duration-200 min-h-[80px] ${C?"bg-green-600 shadow-lg":"bg-red-600 shadow-lg"} ${xe?"opacity-50":""}`,children:[f.jsxs("div",{className:"text-center absolute bottom-2 left-0 right-0",children:[f.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:w.name}),f.jsx("div",{className:"text-xs text-white/70",children:w.name_en})]}),f.jsx("button",{onClick:()=>{const he=!C;te(w.key,he)},disabled:xe,className:`absolute -top-1 -right-1 w-6 h-6 ${C?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} rounded-full text-white text-xs transition-colors flex items-center justify-center`,children:"✎"}),xe&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})})]},w.key):se?f.jsxs("div",{className:`relative p-2 sm:p-3 rounded-xl transition-all duration-200 min-h-[80px] ${C?"bg-green-800 shadow-lg":"bg-red-800 shadow-lg"} ${xe?"opacity-50":""}`,children:[f.jsxs("div",{className:"text-center absolute bottom-2 left-0 right-0",children:[f.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:w.name}),f.jsx("div",{className:"text-xs text-white/70",children:w.name_en})]}),f.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 flex gap-1",children:[f.jsx("button",{onClick:()=>te(w.key,!1),disabled:xe,className:"w-6 h-6 bg-red-600 hover:bg-red-700 rounded flex items-center justify-center text-white text-xs transition-colors shadow-lg",children:f.jsx(fs,{className:"w-3 h-3 text-white"})}),f.jsx("button",{onClick:()=>te(w.key,!0),disabled:xe,className:"w-6 h-6 bg-green-600 hover:bg-green-700 rounded flex items-center justify-center text-white text-xs transition-colors shadow-lg",children:f.jsx(Cm,{className:"w-3 h-3 text-white"})})]}),xe&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})})]},w.key):f.jsxs("div",{className:"relative p-3 rounded-xl bg-black border border-slate-600 transition-all duration-200 min-h-[80px]",children:[f.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 flex gap-1",children:[f.jsx("button",{onClick:()=>te(w.key,!1),disabled:xe,className:"w-6 h-6 bg-red-600 hover:bg-red-700 rounded transition-colors flex items-center justify-center",children:f.jsx(fs,{className:"w-3 h-3 text-white"})}),f.jsx("button",{onClick:()=>te(w.key,!0),disabled:xe,className:"w-6 h-6 bg-green-600 hover:bg-green-700 rounded transition-colors flex items-center justify-center",children:f.jsx(Cm,{className:"w-3 h-3 text-white"})})]}),f.jsxs("div",{className:"text-center absolute bottom-2 left-0 right-0",children:[f.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:w.name}),f.jsx("div",{className:"text-xs text-slate-400",children:w.name_en})]}),xe&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})})]},w.key)})})]}),I.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"অন্যান্য সদস্যদের নামাজের অবস্থা"}),I.map(w=>{const N=B(w.id);return f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("div",{className:"flex items-center space-x-2",children:f.jsx("h4",{className:"font-medium text-emerald-100",children:w.name})}),f.jsx("div",{className:"text-xs text-emerald-200/70",children:N?`${Number(N.fajr)+Number(N.dhuhr)+Number(N.asr)+Number(N.maghrib)+Number(N.isha)}/৫`:"০/৫"})]}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:Im.map(C=>{const V=N?N[C.key]:!1,R=`${w.id}-${C.key}`,xe=y===R,be=J(w.id,C.key),se=`${C.key}_updated`,he=N&&N[se];let ae="bg-black border border-slate-600";return he&&(ae=V?"bg-green-600 shadow-lg":"bg-red-600 shadow-lg"),f.jsxs("button",{onClick:()=>be?null:Q(w.id,C.key,!V),disabled:xe||be,className:`relative p-2 rounded-lg transition-all duration-200 min-h-[64px] ${ae} ${be?"cursor-not-allowed opacity-70":"hover:opacity-90"} ${xe?"opacity-50":""}`,children:[f.jsxs("div",{className:"text-center",children:[be?f.jsx(rD,{className:"w-4 h-4 text-yellow-400 mx-auto mb-1"}):he?V?f.jsx(Cm,{className:"w-4 h-4 text-white mx-auto mb-1"}):f.jsx(fs,{className:"w-4 h-4 text-white mx-auto mb-1"}):f.jsx("div",{className:"w-4 h-4 mx-auto mb-1"}),f.jsx("div",{className:`text-xs font-medium ${he?"text-white":be?"text-slate-500":"text-white"}`,children:C.name})]}),xe&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})]},C.key)})})]},w.id)})]}),e.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(ip,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("p",{className:"text-emerald-200/70",children:"কোন সদস্য পাওয়া যায়নি"})]})]})}const jD={mosque_cleaning:{name:"মসজিদ পরিষ্কার",name_en:"Mosque Cleaning",icon:"🕌",color:"from-green-600 to-green-700"},madrasa_teaching:{name:"মাদ্রাসা শিক্ষাদান",name_en:"Madrasa Teaching",icon:"📚",color:"from-blue-600 to-blue-700"},community_service:{name:"সমাজসেবা",name_en:"Community Service",icon:"🤝",color:"from-purple-600 to-purple-700"},food_distribution:{name:"খাদ্য বিতরণ",name_en:"Food Distribution",icon:"🍽️",color:"from-orange-600 to-orange-700"},fundraising:{name:"অর্থ সংগ্রহ",name_en:"Fundraising",icon:"💰",color:"from-yellow-600 to-yellow-700"}},cb={planned:{name:"পরিকল্পিত",name_en:"Planned",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},in_progress:{name:"চলমান",name_en:"In Progress",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"},completed:{name:"সম্পন্ন",name_en:"Completed",color:"bg-green-500/20 text-green-300 border-green-500/30"}};function OD(){var y;const{user:s}=Ai(),[e,n]=L.useState([]),[i,l]=L.useState(!0),[c,d]=L.useState("all");L.useEffect(()=>{s&&p()},[s]);const p=async()=>{try{const v=tt(je,"activities"),E=Kt(v,us("created_at","desc")),j=(await Ut(E)).docs.map(F=>({id:F.id,...F.data()}));n(j)}catch(v){console.error("Failed to fetch activities:",v)}finally{l(!1)}},g=e.filter(v=>c==="all"?!0:v.status===c);return s?i?f.jsx("div",{className:"p-4",children:f.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-emerald-800/30 rounded w-3/4 mb-3"}),f.jsx("div",{className:"h-4 bg-emerald-800/20 rounded w-1/2 mb-2"}),f.jsx("div",{className:"h-4 bg-emerald-800/20 rounded w-1/3"})]},v))})}):f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-emerald-100 mb-2",children:"কমিউনিটি কার্যক্রম"}),f.jsx("p",{className:"text-emerald-200/70",children:"আমাদের সমাজসেবার কার্যক্রমসমূহ"})]}),f.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[{key:"all",name:"সব",name_en:"All"},{key:"planned",name:"পরিকল্পিত",name_en:"Planned"},{key:"in_progress",name:"চলমান",name_en:"Active"},{key:"completed",name:"সম্পন্ন",name_en:"Completed"}].map(v=>f.jsx("button",{onClick:()=>d(v.key),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${c===v.key?"bg-emerald-600 text-white shadow-lg shadow-emerald-600/30":"bg-slate-800/50 text-emerald-200/70 hover:bg-slate-700/50 border border-emerald-800/30"}`,children:v.name},v.key))}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30 text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-emerald-300",children:e.filter(v=>v.status==="planned").length}),f.jsx("div",{className:"text-sm text-emerald-200/70",children:"পরিকল্পিত"})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30 text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:e.filter(v=>v.status==="in_progress").length}),f.jsx("div",{className:"text-sm text-emerald-200/70",children:"চলমান"})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30 text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-green-300",children:e.filter(v=>v.status==="completed").length}),f.jsx("div",{className:"text-sm text-emerald-200/70",children:"সম্পন্ন"})]})]}),f.jsx("div",{className:"space-y-4",children:g.length>0?g.map(v=>{const E=jD[v.activity_type]||{name:v.activity_type,name_en:v.activity_type,icon:"📋",color:"from-gray-600 to-gray-700"},A=cb[v.status];return f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-5 border border-emerald-800/30",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`bg-gradient-to-br ${E.color} p-3 rounded-lg`,children:f.jsx("span",{className:"text-xl",children:E.icon})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-emerald-100 text-lg",children:v.title}),f.jsxs("p",{className:"text-sm text-emerald-200/70",children:[E.name," (",E.name_en,")"]})]})]}),f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${A.color}`,children:A.name})]}),v.description&&f.jsx("p",{className:"text-emerald-200/80 mb-4 leading-relaxed",children:v.description}),f.jsx("div",{className:"flex items-center justify-between text-sm text-emerald-200/70",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[v.scheduled_date&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(vi,{className:"w-4 h-4"}),f.jsx("span",{children:new Date(v.scheduled_date).toLocaleDateString("bn-BD")})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(ip,{className:"w-4 h-4"}),f.jsx("span",{children:new Date(v.created_at).toLocaleDateString("bn-BD")})]})]})})]},v.id)}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Sl,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-2",children:"কোন কার্যক্রম পাওয়া যায়নি"}),f.jsx("p",{className:"text-emerald-200/70",children:c==="all"?"এখনও কোন কার্যক্রম যোগ করা হয়নি":`${(y=cb[c])==null?void 0:y.name} কার্যক্রম পাওয়া যায়নি`})]})}),f.jsx("div",{className:"fixed bottom-24 right-4",children:f.jsx("button",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 w-14 h-14 rounded-full shadow-xl shadow-emerald-800/30 flex items-center justify-center transition-all duration-200",children:f.jsx("span",{className:"text-2xl text-white",children:"+"})})})]}):f.jsxs("div",{className:"p-6 text-center",children:[f.jsx(Sl,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"লগইন প্রয়োজন"}),f.jsx("p",{className:"text-emerald-200/70",children:"কার্যক্রমের তালিকা দেখতে লগইন করুন"})]})}function kD(){const{user:s,signOut:e}=Ai(),[n,i]=L.useState(null),[l,c]=L.useState(!0),[d,p]=L.useState(!1),[g,y]=L.useState({phone:"",address:""});L.useEffect(()=>{s&&v()},[s]);const v=async()=>{try{if(!s)return;const A=tt(je,"members"),j=Kt(A,Xn("user_id","==",s.id)),F=await Ut(j);if(F.empty){console.error("Member profile not found for user:",s.id),i(null),c(!1);return}else{const Q=F.docs[0],B={id:Q.id,...Q.data()};i(B),y({phone:B.phone||"",address:B.address||""})}}catch(A){console.error("Failed to fetch profile:",A)}finally{c(!1)}},E=async()=>{confirm("আপনি কি লগ আউট করতে চান?")&&await e()};return s?l?f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-6 animate-pulse",children:[f.jsx("div",{className:"w-20 h-20 bg-emerald-800/30 rounded-full mx-auto mb-4"}),f.jsx("div",{className:"h-6 bg-emerald-800/30 rounded w-1/2 mx-auto mb-2"}),f.jsx("div",{className:"h-4 bg-emerald-800/20 rounded w-1/3 mx-auto"})]}),f.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(A=>f.jsxs("div",{className:"bg-slate-800/30 rounded-xl p-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-emerald-800/20 rounded w-1/4 mb-2"}),f.jsx("div",{className:"h-6 bg-emerald-800/30 rounded w-3/4"})]},A))})]})}):n?f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-800/40 to-emerald-700/40 rounded-2xl p-6 border border-emerald-700/30 text-center",children:[f.jsxs("div",{className:"relative inline-block mb-4",children:[s!=null&&s.avatar_url?f.jsx("img",{src:s.avatar_url,alt:"Profile",className:"w-20 h-20 rounded-full border-4 border-emerald-300 mx-auto"}):f.jsx("div",{className:"w-20 h-20 bg-emerald-600 rounded-full flex items-center justify-center mx-auto",children:f.jsx(Al,{className:"w-10 h-10 text-white"})}),(n==null?void 0:n.is_admin)&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-yellow-500 to-yellow-600 p-1 rounded-full border-2 border-slate-900",children:f.jsx(ha,{className:"w-4 h-4 text-white"})})]}),f.jsx("h1",{className:"text-2xl font-bold text-emerald-100 mb-1",children:(n==null?void 0:n.name)||(s==null?void 0:s.name)||"নাম নেই"}),f.jsx("p",{className:"text-emerald-200/70 mb-3",children:s==null?void 0:s.email}),(n==null?void 0:n.is_admin)&&f.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm font-medium border border-yellow-500/30",children:[f.jsx(ha,{className:"w-4 h-4 mr-1"}),"অ্যাডমিন (Admin)"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-emerald-100",children:"ব্যক্তিগত তথ্য"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(lD,{className:"w-5 h-5 text-emerald-300"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-emerald-200/70",children:"ইমেইল"}),f.jsx("p",{className:"text-emerald-100 font-medium",children:s.email})]})]})}),f.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(gD,{className:"w-5 h-5 text-emerald-300"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-emerald-200/70",children:"ফোন নম্বর"}),d?f.jsx("input",{type:"tel",value:g.phone,onChange:A=>y(j=>({...j,phone:A.target.value})),className:"bg-slate-700 text-emerald-100 px-3 py-2 rounded-lg border border-emerald-800/30 focus:border-emerald-600 focus:outline-none",placeholder:"ফোন নম্বর লিখুন"}):f.jsx("p",{className:"text-emerald-100 font-medium",children:(n==null?void 0:n.phone)||"ফোন নম্বর যোগ করুন"})]})]})}),f.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(cD,{className:"w-5 h-5 text-emerald-300"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-emerald-200/70",children:"ঠিকানা"}),d?f.jsx("textarea",{value:g.address,onChange:A=>y(j=>({...j,address:A.target.value})),className:"bg-slate-700 text-emerald-100 px-3 py-2 rounded-lg border border-emerald-800/30 focus:border-emerald-600 focus:outline-none w-full resize-none",placeholder:"ঠিকানা লিখুন",rows:2}):f.jsx("p",{className:"text-emerald-100 font-medium",children:(n==null?void 0:n.address)||"ঠিকানা যোগ করুন"})]})]})}),(n==null?void 0:n.joined_date)&&f.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(vi,{className:"w-5 h-5 text-emerald-300"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-emerald-200/70",children:"যোগদানের তারিখ"}),f.jsx("p",{className:"text-emerald-100 font-medium",children:new Date(n.joined_date).toLocaleDateString("bn-BD")})]})]})})]})]}),f.jsxs("div",{className:"space-y-3",children:[d?f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>{p(!1)},className:"flex-1 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white py-3 rounded-xl font-medium transition-all duration-200",children:"সংরক্ষণ করুন"}),f.jsx("button",{onClick:()=>{p(!1),y({phone:(n==null?void 0:n.phone)||"",address:(n==null?void 0:n.address)||""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-emerald-100 py-3 rounded-xl font-medium transition-all duration-200",children:"বাতিল"})]}):f.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center space-x-2 bg-slate-800/50 hover:bg-slate-700/50 text-emerald-100 py-3 rounded-xl font-medium transition-all duration-200 border border-emerald-800/30",children:[f.jsx(Fh,{className:"w-5 h-5"}),f.jsx("span",{children:"প্রোফাইল সম্পাদনা"})]}),f.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center space-x-2 bg-red-900/30 hover:bg-red-900/50 text-red-200 py-3 rounded-xl font-medium transition-all duration-200 border border-red-800/30",children:[f.jsx(iD,{className:"w-5 h-5"}),f.jsx("span",{children:"লগ আউট (Logout)"})]})]})]}):f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"bg-red-800/40 rounded-xl p-6 border border-red-700/30 text-center",children:[f.jsx("div",{className:"w-16 h-16 text-red-300 mx-auto mb-4",children:f.jsx(Al,{className:"w-full h-full"})}),f.jsx("h2",{className:"text-xl font-semibold text-red-100 mb-2",children:"প্রোফাইল পাওয়া যায়নি"}),f.jsx("p",{className:"text-red-200/70 mb-4",children:"আপনার সদস্য প্রোফাইল পাওয়া যায়নি। অ্যাডমিনের সাথে যোগাযোগ করুন।"}),f.jsx("button",{onClick:E,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"লগ আউট করুন"})]})}):f.jsx(MD,{})}function MD(){const{signInWithGoogle:s,signInWithEmailPassword:e}=Ai(),[n,i]=L.useState(""),[l,c]=L.useState(""),[d,p]=L.useState(!1),[g,y]=L.useState(null),[v,E]=L.useState(!1),A=async()=>{try{p(!0),y(null),await e(n,l)}catch(j){y((j==null?void 0:j.message)||"অপারেশন ব্যর্থ হয়েছে")}finally{p(!1)}};return f.jsxs("div",{className:"p-6 max-w-md mx-auto space-y-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx(Al,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"লগইন"}),f.jsx("p",{className:"text-emerald-200/70",children:"গুগল বা ইমেইল/পাসওয়ার্ড দিয়ে লগইন করুন"})]}),f.jsx("button",{onClick:s,disabled:d,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-xl font-medium transition-all duration-200",children:"Google দিয়ে লগইন"}),f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:()=>E(!0),className:"text-emerald-300 hover:text-emerald-200 text-sm underline transition-colors",children:"সদস্য হওয়ার জন্য আবেদন করুন"})}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30 space-y-3",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx("input",{type:"email",placeholder:"ইমেইল",value:n,onChange:j=>i(j.target.value),className:"bg-slate-700 text-emerald-100 px-3 py-2 rounded-lg border border-emerald-800/30 focus:border-emerald-600 focus:outline-none"}),f.jsx("input",{type:"password",placeholder:"পাসওয়ার্ড",value:l,onChange:j=>c(j.target.value),className:"bg-slate-700 text-emerald-100 px-3 py-2 rounded-lg border border-emerald-800/30 focus:border-emerald-600 focus:outline-none"})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:A,disabled:d,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"ইমেইল দিয়ে লগইন"})}),g&&f.jsx("p",{className:"text-red-400 text-sm",children:g}),f.jsx("p",{className:"text-xs text-emerald-200/60",children:"নোট: প্রথমবার লগইনে অ্যাডমিন দেয়া temp_password মিললে স্বয়ংক্রিয়ভাবে অ্যাকাউন্ট তৈরি হবে।"})]}),v&&f.jsx(VD,{onClose:()=>E(!1)})]})}function VD({onClose:s}){const[e,n]=L.useState({name:"",email:"",phone:"",address:"",reason:"",experience:""}),[i,l]=L.useState(!1),[c,d]=L.useState(!1),[p,g]=L.useState(null);L.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const y=async E=>{E.preventDefault(),l(!0),g(null);try{const A={...e,status:"pending",applied_at:new Date().toISOString()};await jr(tt(je,"applications"),A),d(!0)}catch(A){console.error("Failed to submit application:",A),g("আবেদন জমা দেওয়ার সময় সমস্যা হয়েছে। আবার চেষ্টা করুন।")}finally{l(!1)}},v=E=>{const{name:A,value:j}=E.target;n(F=>({...F,[A]:j}))};return c?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:E=>{E.target===E.currentTarget&&s()},children:f.jsx("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-md",onClick:E=>E.stopPropagation(),children:f.jsxs("div",{className:"text-center",children:[f.jsx(WE,{className:"w-12 h-12 text-green-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-2",children:"আবেদন সফলভাবে জমা হয়েছে!"}),f.jsx("p",{className:"text-green-200/70 mb-4 text-sm",children:"আপনার আবেদন আমাদের কাছে পৌঁছেছে। অ্যাডমিন আপনার আবেদন পর্যালোচনা করে আপনাকে জানাবেন।"}),f.jsx("button",{onClick:s,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"ঠিক আছে"})]})})}):f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:E=>{E.target===E.currentTarget&&s()},children:f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:"সদস্য হওয়ার আবেদন"}),f.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})]}),f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"পূর্ণ নাম *"}),f.jsx("input",{type:"text",name:"name",value:e.name,onChange:v,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"আপনার পূর্ণ নাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ইমেইল ঠিকানা *"}),f.jsx("input",{type:"email",name:"email",value:e.email,onChange:v,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"example@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ফোন নম্বর *"}),f.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:v,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"০১৭১২৩৪৫৬৭৮"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"বর্তমান ঠিকানা *"}),f.jsx("input",{type:"text",name:"address",value:e.address,onChange:v,required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"গ্রাম/মহল্লা, থানা, জেলা"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"কেন সদস্য হতে চান? *"}),f.jsx("textarea",{name:"reason",value:e.reason,onChange:v,required:!0,rows:3,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors resize-none",placeholder:"সিরাতুল সাবিকুন কমিউনিটির সদস্য হওয়ার কারণ লিখুন..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ধর্মীয় কাজে আপনার অভিজ্ঞতা (ঐচ্ছিক)"}),f.jsx("textarea",{name:"experience",value:e.experience,onChange:v,rows:2,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors resize-none",placeholder:"যদি কোনো ধর্মীয় কাজে অভিজ্ঞতা থাকে তাহলে লিখুন..."})]}),p&&f.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700/30 rounded-lg",children:f.jsx("p",{className:"text-red-300 text-sm",children:p})}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 disabled:from-slate-600 disabled:to-slate-700 text-white py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),f.jsx("span",{children:"জমা দেওয়া হচ্ছে..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(JE,{className:"w-4 h-4"}),f.jsx("span",{children:"আবেদন জমা দিন"})]})}),f.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:"বাতিল"})]})]})]})})}async function PD(s,e={}){const{maxWidth:n=1600,maxHeight:i=1600,maxBytes:l=9e5,mimeType:c="image/jpeg"}=e;let d=e.quality??.8;const p=await createImageBitmap(s),g=Math.min(1,n/p.width,i/p.height),y=Math.max(1,Math.round(p.width*g)),v=Math.max(1,Math.round(p.height*g)),E=document.createElement("canvas");E.width=y,E.height=v;const A=E.getContext("2d");if(!A)throw new Error("Failed to get canvas context");A.drawImage(p,0,0,y,v);for(let B=0;B<6;B++){const J=E.toDataURL(c,d),ne=J.length-(J.indexOf(",")+1);if(Math.ceil(ne*3/4)<=l)return J;d=Math.max(.4,d-.15)}const j=E.toDataURL(c,Math.max(.3,d)),F=j.length-(j.indexOf(",")+1);if(Math.ceil(F*3/4)<=l)return j;throw new Error("Compressed image still exceeds size limit")}function LD(){const{user:s}=Ai(),[e,n]=L.useState("overview"),[i,l]=L.useState([]),[c,d]=L.useState([]),[p,g]=L.useState([]),[y,v]=L.useState([]),[E,A]=L.useState([]),[j,F]=L.useState(!0),[Q,B]=L.useState(!1),[J,ne]=L.useState(!1),[te,ye]=L.useState(!1),[fe,Ae]=L.useState(!1),[O,I]=L.useState(!1),[w,N]=L.useState(null),[C,V]=L.useState(null),[R,xe]=L.useState(null),[be,se]=L.useState(null);L.useEffect(()=>{s&&he()},[s]),L.useEffect(()=>(J||te||fe||O?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[J,te,fe,O]);const he=async()=>{if(!s){B(!1),F(!1);return}if(s.email==="vaitanvir833@gmail.com"){B(!0),ae();return}try{const ie=await Ut(Kt(tt(je,"members"),Xn("user_id","==",s.id))),Ee=s.email?await Ut(Kt(tt(je,"members"),Xn("email","==",s.email))):void 0,bt=ie.docs[0]||(Ee==null?void 0:Ee.docs[0]),mt=bt==null?void 0:bt.data();mt!=null&&mt.is_admin?(B(!0),ae()):(B(!1),F(!1))}catch(ie){console.error("Failed to check admin status:",ie),F(!1)}},ae=async()=>{try{const U=Kt(tt(je,"members"),us("created_at","desc")),Ee=(await Ut(U)).docs.map((At,qt)=>({id:At.id||`member_${qt}`,...At.data()}));l(Ee);const bt=Kt(tt(je,"events"),us("created_at","desc")),Rn=(await Ut(bt)).docs.map((At,qt)=>({id:At.id||`event_${qt}`,...At.data()}));d(Rn);const qr=Kt(tt(je,"activities"),us("created_at","desc")),Et=(await Ut(qr)).docs.map((At,qt)=>({id:At.id||`activity_${qt}`,...At.data()}));g(Et);const mr=Kt(tt(je,"gallery"),us("created_at","desc")),xa=(await Ut(mr)).docs.map((At,qt)=>({id:At.id||`gallery_${qt}`,...At.data()}));v(xa);const xn=Kt(tt(je,"applications"),us("applied_at","desc")),Ni=(await Ut(xn)).docs.map((At,qt)=>({id:At.id||`application_${qt}`,...At.data()}));A(Ni)}catch(U){console.error("Failed to fetch admin data:",U)}finally{F(!1)}},He=async U=>{try{const ie={...U,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(Object.keys(ie).forEach(Ee=>{ie[Ee]===void 0&&delete ie[Ee]}),w){const Ee=vn(je,"members",String(w.id));await Dr(Ee,{...U,updated_at:new Date().toISOString()}),console.log("Member updated with ID: ",w.id),N(null)}else{const Ee=await jr(tt(je,"members"),ie);console.log("Member added with ID: ",Ee.id)}ae(),ne(!1)}catch(ie){console.error("Error adding/updating member: ",ie)}},k=async U=>{try{const ie={...U,created_by_user_id:(s==null?void 0:s.email)||"unknown",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(Object.keys(ie).forEach(Ee=>{ie[Ee]===void 0&&delete ie[Ee]}),C){const Ee=vn(je,"events",String(C.id));await Dr(Ee,{...U,updated_at:new Date().toISOString()}),console.log("Event updated with ID: ",C.id),V(null)}else{const Ee=await jr(tt(je,"events"),ie);console.log("Event added with ID: ",Ee.id)}ae(),ye(!1)}catch(ie){console.error("Error adding/updating event: ",ie)}},re=async U=>{try{const ie={...U,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(Object.keys(ie).forEach(Ee=>{ie[Ee]===void 0&&delete ie[Ee]}),R){const Ee=vn(je,"activities",String(R.id));await Dr(Ee,{...U,updated_at:new Date().toISOString()}),console.log("Activity updated with ID: ",R.id),xe(null)}else{const Ee=await jr(tt(je,"activities"),ie);console.log("Activity added with ID: ",Ee.id)}ae(),Ae(!1)}catch(ie){console.error("Error adding/updating activity: ",ie)}},_e=async(U,ie)=>{try{const Ee=vn(je,"applications",U.toString());if(await Dr(Ee,{status:ie,reviewed_at:new Date().toISOString(),reviewed_by:(s==null?void 0:s.email)||"unknown"}),ie==="approved"){const bt=E.find(mt=>mt.id===U);if(bt){const mt={user_id:"",name:bt.name,email:bt.email,phone:bt.phone,address:bt.address,is_admin:!1,is_active:!0,joined_date:new Date().toISOString().split("T")[0],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await jr(tt(je,"members"),mt)}}ae(),console.log(`Application ${U} ${ie}`)}catch(Ee){console.error(`Failed to ${ie} application:`,Ee)}},pe=async U=>{if(confirm("আপনি কি এই সদস্যকে মুছে ফেলতে চান?"))try{await oh(vn(je,"members",U)),ae(),console.log("Member deleted successfully")}catch(ie){console.error("Failed to delete member:",ie),alert("সদস্য মুছে ফেলতে ব্যর্থ হয়েছে")}},oe=async U=>{if(confirm("আপনি কি এই ইভেন্টটি মুছে ফেলতে চান?"))try{await oh(vn(je,"events",U)),ae(),console.log("Event deleted successfully")}catch(ie){console.error("Failed to delete event:",ie),alert("ইভেন্ট মুছে ফেলতে ব্যর্থ হয়েছে")}},ke=async U=>{if(confirm("আপনি কি এই কার্যক্রমটি মুছে ফেলতে চান?"))try{await oh(vn(je,"activities",U)),ae(),console.log("Activity deleted successfully")}catch(ie){console.error("Failed to delete activity:",ie),alert("কার্যক্রম মুছে ফেলতে ব্যর্থ হয়েছে")}},Ne=async U=>{if(confirm("আপনি কি এই গ্যালারি আইটেমটি মুছে ফেলতে চান?"))try{await oh(vn(je,"gallery",U)),ae(),console.log("Gallery item deleted successfully")}catch(ie){console.error("Failed to delete gallery item:",ie),alert("গ্যালারি আইটেম মুছে ফেলতে ব্যর্থ হয়েছে")}},vt=U=>{N(U),ne(!0)},Le=U=>{V(U),ye(!0)},lt=U=>{xe(U),Ae(!0)},Ze=U=>{se(U),I(!0)},bn=async U=>{try{const ie={...U,uploaded_by_user_id:(s==null?void 0:s.email)||"unknown",created_at:new Date().toISOString()};if(Object.keys(ie).forEach(Ee=>{ie[Ee]===void 0&&delete ie[Ee]}),be){const Ee=vn(je,"gallery",String(be.id));await Dr(Ee,{...U,updated_at:new Date().toISOString()}),console.log("Gallery item updated with ID: ",be.id),se(null)}else{const Ee=await jr(tt(je,"gallery"),ie);console.log("Gallery item added with ID: ",Ee.id)}ae(),I(!1)}catch(ie){console.error("Error adding/updating gallery item: ",ie);const Ee=ie&&(ie.code==="permission-denied"||/insufficient permissions/i.test(ie.message))?"আপনার এই কাজটি করার অনুমতি নেই। অনুগ্রহ করে Firebase Firestore Rules আপডেট করুন যাতে admin ইমেইল থেকে gallery তে write করা যায়।":(ie==null?void 0:ie.message)||"গ্যালারি আইটেম যোগ/আপডেট করতে ব্যর্থ হয়েছে";alert(Ee)}};return s?j?f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-300 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-emerald-200/70",children:"লোড হচ্ছে..."})]}):Q?f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-yellow-800/40 to-yellow-700/40 rounded-2xl p-6 border border-yellow-600/40",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx(ha,{className:"w-8 h-8 text-yellow-300"}),f.jsx("h1",{className:"text-2xl font-bold text-yellow-100",children:"অ্যাডমিন প্যানেল"})]}),f.jsx("p",{className:"text-yellow-200/70",children:"সিস্টেম ব্যবস্থাপনা ও নিয়ন্ত্রণ"})]}),f.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[{key:"overview",name:"ওভারভিউ",icon:$4},{key:"members",name:"সদস্য ব্যবস্থাপনা",icon:_c},{key:"applications",name:"আবেদন ব্যবস্থাপনা",icon:di},{key:"events",name:"ইভেন্ট ব্যবস্থাপনা",icon:vi},{key:"activities",name:"কার্যক্রম ব্যবস্থাপনা",icon:Sl},{key:"gallery",name:"গ্যালারি ব্যবস্থাপনা",icon:Fh}].map(U=>f.jsxs("button",{onClick:()=>n(U.key),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===U.key?"bg-emerald-600 text-white shadow-lg shadow-emerald-600/30":"bg-slate-800/50 text-emerald-200/70 hover:bg-slate-700/50 border border-emerald-800/30"}`,children:[f.jsx(U.icon,{className:"w-4 h-4"}),f.jsx("span",{children:U.name})]},U.key))}),e==="overview"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30 text-center",children:[f.jsx(_c,{className:"w-12 h-12 text-emerald-300 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-1",children:"মোট সদস্য"}),f.jsx("p",{className:"text-3xl font-bold text-emerald-300",children:i.length}),f.jsxs("p",{className:"text-sm text-emerald-200/70 mt-2",children:["সক্রিয়: ",i.filter(U=>U.is_active).length]})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30 text-center",children:[f.jsx(vi,{className:"w-12 h-12 text-blue-300 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-1",children:"মোট ইভেন্ট"}),f.jsx("p",{className:"text-3xl font-bold text-blue-300",children:c.length}),f.jsxs("p",{className:"text-sm text-emerald-200/70 mt-2",children:["সক্রিয়: ",c.filter(U=>U.is_active).length]})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30 text-center",children:[f.jsx(Sl,{className:"w-12 h-12 text-purple-300 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-1",children:"মোট কার্যক্রম"}),f.jsx("p",{className:"text-3xl font-bold text-purple-300",children:p.length}),f.jsxs("p",{className:"text-sm text-emerald-200/70 mt-2",children:["সম্পন্ন: ",p.filter(U=>U.status==="completed").length]})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30 text-center",children:[f.jsx(Fh,{className:"w-12 h-12 text-orange-300 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-1",children:"মোট গ্যালারি"}),f.jsx("p",{className:"text-3xl font-bold text-orange-300",children:y.length}),f.jsxs("p",{className:"text-sm text-emerald-200/70 mt-2",children:["ফিচার্ড: ",y.filter(U=>U.is_featured).length]})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30 text-center",children:[f.jsx(di,{className:"w-12 h-12 text-pink-300 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-semibold text-emerald-100 mb-1",children:"মোট আবেদন"}),f.jsx("p",{className:"text-3xl font-bold text-pink-300",children:E.length}),f.jsxs("p",{className:"text-sm text-emerald-200/70 mt-2",children:["অপেক্ষমাণ: ",E.filter(U=>U.status==="pending").length]})]})]}),e==="members"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-emerald-100",children:"সদস্য ব্যবস্থাপনা"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("span",{className:"text-sm text-emerald-200/70",children:["মোট সদস্য: ",i.length]}),f.jsxs("button",{onClick:()=>ne(!0),className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all",children:[f.jsx(uh,{className:"w-4 h-4"}),f.jsx("span",{children:"নতুন সদস্য"})]})]})]}),f.jsx("div",{className:"space-y-3",children:i.map(U=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${U.is_active?"bg-green-500":"bg-red-500"}`}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-emerald-100 flex items-center space-x-2",children:[f.jsx("span",{children:U.name}),U.is_admin&&f.jsx(ha,{className:"w-4 h-4 text-yellow-400"})]}),f.jsx("p",{className:"text-sm text-emerald-200/70",children:U.email}),U.phone&&f.jsx("p",{className:"text-sm text-emerald-200/70",children:U.phone})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>vt(U),className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.jsx(ch,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>pe(String(U.id)),className:"p-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:f.jsx(hh,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mt-3 text-xs text-emerald-200/60",children:["যোগদান: ",U.joined_date?new Date(U.joined_date).toLocaleDateString("bn-BD"):"তারিখ নেই"]})]},U.id))})]}),e==="applications"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-emerald-100",children:"আবেদন ব্যবস্থাপনা"}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("span",{className:"text-sm text-emerald-200/70",children:["মোট আবেদন: ",E.length," | অপেক্ষমাণ: ",E.filter(U=>U.status==="pending").length]})})]}),f.jsxs("div",{className:"space-y-3",children:[E.map(U=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-emerald-800/30",children:[f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:U.name}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.status==="pending"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":U.status==="approved"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:U.status==="pending"?"অপেক্ষমাণ":U.status==="approved"?"অনুমোদিত":"প্রত্যাখ্যান"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-emerald-200/70",children:["ইমেইল: ",f.jsx("span",{className:"text-emerald-100",children:U.email})]}),f.jsxs("p",{className:"text-emerald-200/70",children:["ফোন: ",f.jsx("span",{className:"text-emerald-100",children:U.phone})]})]}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-emerald-200/70",children:["ঠিকানা: ",f.jsx("span",{className:"text-emerald-100",children:U.address})]}),f.jsxs("p",{className:"text-emerald-200/70",children:["আবেদনের তারিখ: ",f.jsx("span",{className:"text-emerald-100",children:new Date(U.applied_at).toLocaleDateString("bn-BD")})]})]})]})]})}),f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-emerald-200 mb-1",children:"সদস্য হওয়ার কারণ:"}),f.jsx("p",{className:"text-emerald-100 text-sm bg-slate-700/50 p-3 rounded-lg",children:U.reason})]}),U.experience&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-emerald-200 mb-1",children:"অভিজ্ঞতা:"}),f.jsx("p",{className:"text-emerald-100 text-sm bg-slate-700/50 p-3 rounded-lg",children:U.experience})]})]}),U.status==="pending"&&f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>_e(U.id,"approved"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"অনুমোদন করুন"}),f.jsx("button",{onClick:()=>_e(U.id,"rejected"),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"প্রত্যাখ্যান করুন"})]}),U.reviewed_at&&f.jsxs("div",{className:"mt-3 text-xs text-emerald-200/60",children:["পর্যালোচনা: ",new Date(U.reviewed_at).toLocaleDateString("bn-BD"),U.reviewed_by&&` - ${U.reviewed_by}`]})]},U.id)),E.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(di,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("p",{className:"text-emerald-200/70",children:"কোন আবেদন পাওয়া যায়নি"})]})]})]}),e==="events"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-emerald-100",children:"ইভেন্ট ব্যবস্থাপনা"}),f.jsxs("button",{onClick:()=>ye(!0),className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all",children:[f.jsx(uh,{className:"w-4 h-4"}),f.jsx("span",{children:"নতুন ইভেন্ট"})]})]}),f.jsx("div",{className:"space-y-3",children:c.map(U=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-emerald-100 mb-1",children:U.title}),f.jsx("p",{className:"text-sm text-emerald-200/70 mb-2",children:U.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-emerald-300",children:[f.jsxs("span",{children:["📅 ",new Date(U.event_date).toLocaleDateString("bn-BD")]}),U.event_time&&f.jsxs("span",{children:["🕐 ",U.event_time]}),U.location&&f.jsxs("span",{children:["📍 ",U.location]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>Le(U),className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.jsx(ch,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>oe(String(U.id)),className:"p-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:f.jsx(hh,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.is_active?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:U.is_active?"সক্রিয়":"নিষ্ক্রিয়"}),f.jsxs("span",{className:"text-xs text-emerald-200/60",children:["তৈরি: ",new Date(U.created_at).toLocaleDateString("bn-BD")]})]})]},U.id))})]}),e==="activities"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-emerald-100",children:"কার্যক্রম ব্যবস্থাপনা"}),f.jsxs("button",{onClick:()=>Ae(!0),className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all",children:[f.jsx(uh,{className:"w-4 h-4"}),f.jsx("span",{children:"নতুন কার্যক্রম"})]})]}),f.jsx("div",{className:"space-y-3",children:p.map(U=>f.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-emerald-100 mb-1",children:U.title}),f.jsx("p",{className:"text-sm text-emerald-200/70 mb-2",children:U.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-emerald-300",children:[f.jsxs("span",{children:["📋 ",U.activity_type]}),U.scheduled_date&&f.jsxs("span",{children:["📅 ",new Date(U.scheduled_date).toLocaleDateString("bn-BD")]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.status==="completed"?"bg-green-500/20 text-green-300 border border-green-500/30":U.status==="in_progress"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-blue-500/20 text-blue-300 border border-blue-500/30"}`,children:U.status==="completed"?"সম্পন্ন":U.status==="in_progress"?"চলমান":"পরিকল্পিত"}),f.jsx("button",{onClick:()=>lt(U),className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.jsx(ch,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ke(String(U.id)),className:"p-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:f.jsx(hh,{className:"w-4 h-4"})})]})]})},U.id))})]}),e==="gallery"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-emerald-100",children:"গ্যালারি ব্যবস্থাপনা"}),f.jsxs("button",{onClick:()=>I(!0),className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-all",children:[f.jsx(uh,{className:"w-4 h-4"}),f.jsx("span",{children:"নতুন ছবি"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(U=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-emerald-800/30",children:[f.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-3",children:f.jsx("img",{src:U.image_url,alt:U.title||"Gallery Image",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"space-y-2",children:[U.title&&f.jsx("h3",{className:"font-semibold text-emerald-100",children:U.title}),U.description&&f.jsx("p",{className:"text-sm text-emerald-200/70",children:U.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.is_featured?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-slate-500/20 text-slate-300 border border-slate-500/30"}`,children:U.is_featured?"ফিচার্ড":"সাধারণ"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>Ze(U),className:"p-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.jsx(ch,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ne(String(U.id)),className:"p-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:f.jsx(hh,{className:"w-4 h-4"})})]})]})]})]},U.id))})]}),J&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:U=>{U.target===U.currentTarget&&(ne(!1),N(null))},children:f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:w?"সদস্য সম্পাদনা করুন":"নতুন সদস্য যোগ করুন"}),f.jsx("button",{onClick:()=>{ne(!1),N(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})]}),f.jsxs("form",{onSubmit:U=>{U.preventDefault();const ie=new FormData(U.target);He({user_id:ie.get("email"),name:ie.get("name"),email:ie.get("email"),temp_password:ie.get("temp_password")||void 0,phone:ie.get("phone")||void 0,address:ie.get("address")||void 0,is_admin:ie.get("is_admin")==="true",is_active:ie.get("is_active")==="true",joined_date:new Date().toISOString().split("T")[0]})},className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"নাম"}),f.jsx("input",{type:"text",name:"name",required:!0,defaultValue:(w==null?void 0:w.name)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"সদস্যের নাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ইমেইল"}),f.jsx("input",{type:"email",name:"email",required:!0,defaultValue:(w==null?void 0:w.email)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ইমেইল ঠিকানা"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"অস্থায়ী পাসওয়ার্ড (ইমেইল/পাস লগইনের জন্য)"}),f.jsx("input",{type:"text",name:"temp_password",defaultValue:(w==null?void 0:w.temp_password)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"যেমন: Abcd@123"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ফোন"}),f.jsx("input",{type:"tel",name:"phone",defaultValue:(w==null?void 0:w.phone)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ফোন নম্বর"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ঠিকানা"}),f.jsx("input",{type:"text",name:"address",defaultValue:(w==null?void 0:w.address)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ঠিকানা"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",name:"is_admin",value:"true",defaultChecked:(w==null?void 0:w.is_admin)||!1,className:"w-4 h-4 text-emerald-600 bg-slate-700 border-emerald-600/30 rounded focus:ring-emerald-500"}),f.jsx("span",{className:"text-sm text-emerald-200",children:"অ্যাডমিন হিসেবে যোগ করুন"})]}),f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",name:"is_active",value:"true",defaultChecked:(w==null?void 0:w.is_active)!==!1,className:"w-4 h-4 text-emerald-600 bg-slate-700 border-emerald-600/30 rounded focus:ring-emerald-500"}),f.jsx("span",{className:"text-sm text-emerald-200",children:"সক্রিয় সদস্য"})]})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-6 py-2 rounded-lg transition-all",children:w?"আপডেট করুন":"যোগ করুন"}),f.jsx("button",{type:"button",onClick:()=>{ne(!1),N(null)},className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all",children:"বাতিল"})]})]})]})}),te&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:U=>{U.target===U.currentTarget&&(ye(!1),V(null))},children:f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:C?"ইভেন্ট সম্পাদনা করুন":"নতুন ইভেন্ট যোগ করুন"}),f.jsx("button",{onClick:()=>{ye(!1),V(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})]}),f.jsxs("form",{onSubmit:U=>{U.preventDefault();const ie=new FormData(U.target);k({title:ie.get("title"),description:ie.get("description")||void 0,event_date:ie.get("event_date"),event_time:ie.get("event_time")||void 0,location:ie.get("location")||void 0,image_url:void 0,is_active:!0})},className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ইভেন্টের নাম"}),f.jsx("input",{type:"text",name:"title",required:!0,defaultValue:(C==null?void 0:C.title)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ইভেন্টের নাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"বিবরণ"}),f.jsx("textarea",{name:"description",rows:3,defaultValue:(C==null?void 0:C.description)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ইভেন্টের বিবরণ"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"তারিখ"}),f.jsx("input",{type:"date",name:"event_date",required:!0,defaultValue:(C==null?void 0:C.event_date)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"সময়"}),f.jsx("input",{type:"time",name:"event_time",defaultValue:(C==null?void 0:C.event_time)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"স্থান"}),f.jsx("input",{type:"text",name:"location",defaultValue:(C==null?void 0:C.location)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ইভেন্টের স্থান"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-6 py-2 rounded-lg transition-all",children:w?"আপডেট করুন":"যোগ করুন"}),f.jsx("button",{type:"button",onClick:()=>ye(!1),className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all",children:"বাতিল"})]})]})]})}),fe&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:U=>{U.target===U.currentTarget&&(Ae(!1),xe(null))},children:f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:R?"কার্যক্রম সম্পাদনা করুন":"নতুন কার্যক্রম যোগ করুন"}),f.jsx("button",{onClick:()=>{Ae(!1),xe(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})]}),f.jsxs("form",{onSubmit:U=>{U.preventDefault();const ie=new FormData(U.target);re({title:ie.get("title"),description:ie.get("description")||void 0,activity_type:ie.get("activity_type"),scheduled_date:ie.get("scheduled_date")||void 0,status:ie.get("status")})},className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"কার্যক্রমের নাম"}),f.jsx("input",{type:"text",name:"title",required:!0,defaultValue:(R==null?void 0:R.title)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"কার্যক্রমের নাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"বিবরণ"}),f.jsx("textarea",{name:"description",rows:3,defaultValue:(R==null?void 0:R.description)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"কার্যক্রমের বিবরণ"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"কার্যক্রমের ধরন"}),f.jsxs("select",{name:"activity_type",required:!0,defaultValue:(R==null?void 0:R.activity_type)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",children:[f.jsx("option",{value:"",children:"নির্বাচন করুন"}),f.jsx("option",{value:"mosque_cleaning",children:"মসজিদ পরিষ্কার"}),f.jsx("option",{value:"madrasa_teaching",children:"মাদ্রাসা শিক্ষা"}),f.jsx("option",{value:"community_service",children:"সমাজসেবা"}),f.jsx("option",{value:"religious_education",children:"ধর্মীয় শিক্ষা"}),f.jsx("option",{value:"charity_work",children:"দান কাজ"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"তারিখ"}),f.jsx("input",{type:"date",name:"scheduled_date",defaultValue:(R==null?void 0:R.scheduled_date)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"অবস্থা"}),f.jsxs("select",{name:"status",required:!0,defaultValue:(R==null?void 0:R.status)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",children:[f.jsx("option",{value:"planned",children:"পরিকল্পিত"}),f.jsx("option",{value:"in_progress",children:"চলমান"}),f.jsx("option",{value:"completed",children:"সম্পন্ন"})]})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-6 py-2 rounded-lg transition-all",children:w?"আপডেট করুন":"যোগ করুন"}),f.jsx("button",{type:"button",onClick:()=>Ae(!1),className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all",children:"বাতিল"})]})]})]})}),O&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:U=>{U.target===U.currentTarget&&(I(!1),se(null))},children:f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-800/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-emerald-100",children:be?"গ্যালারি সম্পাদনা করুন":"নতুন ছবি যোগ করুন"}),f.jsx("button",{onClick:()=>{I(!1),se(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})]}),f.jsxs("form",{onSubmit:async U=>{var mt;U.preventDefault();const ie=new FormData(U.target),Ee=U.currentTarget.querySelector('input[type="file"]'),bt=(mt=Ee==null?void 0:Ee.files)==null?void 0:mt[0];try{if(!bt)return;const Rn=await PD(bt,{maxWidth:1600,maxHeight:1600,quality:.8,maxBytes:9e5,mimeType:"image/jpeg"});await bn({title:ie.get("title")||void 0,description:ie.get("description")||void 0,image_url:Rn,media_type:"image",event_id:ie.get("event_id")||void 0,is_featured:ie.get("is_featured")==="true"})}catch(Rn){console.error(Rn),alert("ছবিটি অনেক বড়। অনুগ্রহ করে ছোট সাইজের ছবি নির্বাচন করুন বা কম রেজোলিউশনের ছবি ব্যবহার করুন।")}},className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ছবি নির্বাচন করুন"}),f.jsx("input",{type:"file",accept:"image/*",required:!0,className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"শিরোনাম"}),f.jsx("input",{type:"text",name:"title",defaultValue:(be==null?void 0:be.title)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ছবির শিরোনাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"বিবরণ"}),f.jsx("textarea",{name:"description",rows:3,defaultValue:(be==null?void 0:be.description)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",placeholder:"ছবির বিবরণ"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ইভেন্ট (ঐচ্ছিক)"}),f.jsxs("select",{name:"event_id",defaultValue:(be==null?void 0:be.event_id)||"",className:"w-full px-3 py-2 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500",children:[f.jsx("option",{value:"",children:"কোনো ইভেন্টের সাথে যুক্ত নয়"}),c.map(U=>f.jsx("option",{value:U.id,children:U.title},U.id))]})]}),f.jsx("div",{children:f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",name:"is_featured",value:"true",defaultChecked:(be==null?void 0:be.is_featured)||!1,className:"w-4 h-4 text-emerald-600 bg-slate-700 border-emerald-600/30 rounded focus:ring-emerald-500"}),f.jsx("span",{className:"text-sm text-emerald-200",children:"ফিচার্ড ছবি হিসেবে চিহ্নিত করুন"})]})}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-6 py-2 rounded-lg transition-all",children:w?"আপডেট করুন":"যোগ করুন"}),f.jsx("button",{type:"button",onClick:()=>I(!1),className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all",children:"বাতিল"})]})]})]})})]}):f.jsxs("div",{className:"p-6 text-center",children:[f.jsx(ha,{className:"w-16 h-16 text-red-300/50 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-red-100 mb-2",children:"অ্যাক্সেস অনুমতি নেই"}),f.jsx("p",{className:"text-red-200/70",children:"শুধুমাত্র অ্যাডমিনরা এই পেজ দেখতে পারবেন"})]}):f.jsxs("div",{className:"p-6 text-center",children:[f.jsx(ha,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"লগইন প্রয়োজন"}),f.jsx("p",{className:"text-emerald-200/70",children:"অ্যাডমিন প্যানেল দেখতে লগইন করুন"})]})}function UD(){const[s,e]=L.useState([]),[n,i]=L.useState(!0),[l,c]=L.useState("all");L.useEffect(()=>{d()},[]);const d=async()=>{try{const g=Kt(tt(je,"gallery"),us("created_at","desc")),v=(await Ut(g)).docs.map((E,A)=>({id:E.id||`gallery_${A}`,...E.data()}));e(v)}catch(g){console.error("Failed to fetch gallery items:",g)}finally{i(!1)}},p=l==="featured"?s.filter(g=>g.is_featured):s;return n?f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-300 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-emerald-200/70",children:"লোড হচ্ছে..."})]}):f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-emerald-800/40 to-emerald-700/40 rounded-2xl p-6 border border-emerald-600/40",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx(ap,{className:"w-8 h-8 text-emerald-300"}),f.jsx("h1",{className:"text-2xl font-bold text-emerald-100",children:"গ্যালারি"})]}),f.jsx("p",{className:"text-emerald-200/70",children:"মসজিদের স্মৃতিচারণ ও গুরুত্বপূর্ণ মুহূর্ত"})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="all"?"bg-emerald-600 text-white shadow-lg shadow-emerald-600/30":"bg-slate-800/50 text-emerald-200/70 hover:bg-slate-700/50 border border-emerald-800/30"}`,children:["সব ছবি (",s.length,")"]}),f.jsxs("button",{onClick:()=>c("featured"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="featured"?"bg-emerald-600 text-white shadow-lg shadow-emerald-600/30":"bg-slate-800/50 text-emerald-200/70 hover:bg-slate-700/50 border border-emerald-800/30"}`,children:["ফিচার্ড (",s.filter(g=>g.is_featured).length,")"]})]}),p.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(ap,{className:"w-16 h-16 text-emerald-300/50 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"কোনো ছবি নেই"}),f.jsx("p",{className:"text-emerald-200/70",children:"এখনো কোনো ছবি আপলোড করা হয়নি"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(g=>f.jsxs("div",{className:"bg-slate-800/50 rounded-xl overflow-hidden border border-emerald-800/30 hover:border-emerald-600/50 transition-all group",children:[f.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[f.jsx("img",{src:g.image_url,alt:g.title||"Gallery Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),g.is_featured&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("span",{className:"bg-yellow-500 text-yellow-900 px-2 py-1 rounded-full text-xs font-medium",children:"ফিচার্ড"})})]}),f.jsxs("div",{className:"p-4",children:[g.title&&f.jsx("h3",{className:"font-semibold text-emerald-100 mb-2 line-clamp-2",children:g.title}),g.description&&f.jsx("p",{className:"text-sm text-emerald-200/70 mb-3 line-clamp-3",children:g.description}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-emerald-300/60",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(vi,{className:"w-3 h-3"}),f.jsx("span",{children:new Date(g.created_at).toLocaleDateString("bn-BD")})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Al,{className:"w-3 h-3"}),f.jsx("span",{children:g.uploaded_by_user_id})]})]})]})]},g.id))})]})}function zD(){const[s,e]=L.useState({name:"",email:"",phone:"",address:"",reason:"",experience:""}),[n,i]=L.useState(!1),[l,c]=L.useState(!1),[d,p]=L.useState(null),g=async v=>{v.preventDefault(),i(!0),p(null);try{const E={...s,status:"pending",applied_at:new Date().toISOString()};await jr(tt(je,"applications"),E),c(!0)}catch(E){console.error("Failed to submit application:",E),p("আবেদন জমা দেওয়ার সময় সমস্যা হয়েছে। আবার চেষ্টা করুন।")}finally{i(!1)}},y=v=>{const{name:E,value:A}=v.target;e(j=>({...j,[E]:A}))};return l?f.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:f.jsxs("div",{className:"bg-gradient-to-br from-green-800/40 to-green-700/40 rounded-2xl p-8 border border-green-600/40 text-center",children:[f.jsx(WE,{className:"w-16 h-16 text-green-300 mx-auto mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-green-100 mb-4",children:"আবেদন সফলভাবে জমা হয়েছে!"}),f.jsx("p",{className:"text-green-200/70 mb-6",children:"আপনার আবেদন আমাদের কাছে পৌঁছেছে। অ্যাডমিন আপনার আবেদন পর্যালোচনা করে আপনাকে জানাবেন।"}),f.jsx("div",{className:"bg-green-900/30 rounded-lg p-4 border border-green-700/30",children:f.jsxs("p",{className:"text-green-200 text-sm",children:[f.jsx("strong",{children:"পরবর্তী ধাপ:"})," অ্যাডমিন আপনার আবেদন পর্যালোচনা করবেন এবং আপনাকে ইমেইলের মাধ্যমে জানাবেন।"]})})]})}):f.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-emerald-100 mb-4",children:"সদস্য হওয়ার আবেদন"}),f.jsx("p",{className:"text-emerald-200/70",children:"মসজিদ কমিউনিটির সদস্য হতে চান? নিচের ফর্মটি পূরণ করে আবেদন করুন।"})]}),f.jsx("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-emerald-800/30",children:f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100 flex items-center space-x-2",children:[f.jsx(Al,{className:"w-5 h-5"}),f.jsx("span",{children:"ব্যক্তিগত তথ্য"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"পূর্ণ নাম *"}),f.jsx("input",{type:"text",name:"name",value:s.name,onChange:y,required:!0,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"আপনার পূর্ণ নাম"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ইমেইল ঠিকানা *"}),f.jsx("input",{type:"email",name:"email",value:s.email,onChange:y,required:!0,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"example@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ফোন নম্বর *"}),f.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:y,required:!0,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"০১৭১২৩৪৫৬৭৮"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"বর্তমান ঠিকানা *"}),f.jsx("input",{type:"text",name:"address",value:s.address,onChange:y,required:!0,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"গ্রাম/মহল্লা, থানা, জেলা"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100 flex items-center space-x-2",children:[f.jsx(di,{className:"w-5 h-5"}),f.jsx("span",{children:"আবেদনের বিবরণ"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"কেন সদস্য হতে চান? *"}),f.jsx("textarea",{name:"reason",value:s.reason,onChange:y,required:!0,rows:4,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors resize-none",placeholder:"মসজিদ কমিউনিটির সদস্য হওয়ার কারণ লিখুন..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2",children:"ধর্মীয় কাজে আপনার অভিজ্ঞতা (ঐচ্ছিক)"}),f.jsx("textarea",{name:"experience",value:s.experience,onChange:y,rows:3,className:"w-full px-4 py-3 bg-slate-700 border border-emerald-600/30 rounded-lg text-emerald-100 focus:outline-none focus:border-emerald-500 transition-colors resize-none",placeholder:"যদি কোনো ধর্মীয় কাজে অভিজ্ঞতা থাকে তাহলে লিখুন..."})]})]}),f.jsxs("div",{className:"pt-4",children:[d&&f.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/30 rounded-lg",children:f.jsx("p",{className:"text-red-300 text-sm",children:d})}),f.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 disabled:from-slate-600 disabled:to-slate-700 text-white py-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),f.jsx("span",{children:"জমা দেওয়া হচ্ছে..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(JE,{className:"w-5 h-5"}),f.jsx("span",{children:"আবেদন জমা দিন"})]})})]})]})}),f.jsxs("div",{className:"mt-6 bg-blue-900/30 rounded-lg p-4 border border-blue-700/30",children:[f.jsx("h4",{className:"text-blue-200 font-medium mb-2",children:"জানুন:"}),f.jsxs("ul",{className:"text-blue-200/70 text-sm space-y-1",children:[f.jsx("li",{children:"• আবেদন জমা দেওয়ার পর অ্যাডমিন পর্যালোচনা করবেন"}),f.jsx("li",{children:"• অনুমোদিত হলে আপনাকে ইমেইলের মাধ্যমে জানানো হবে"}),f.jsx("li",{children:"• সদস্য হওয়ার পর আপনি নামাজের হিসাব, ইভেন্ট এবং অন্যান্য সুবিধা পাবেন"})]})]})]})}function BD(){const s=cp();return L.useEffect(()=>{(async()=>{try{await xN(bx()??ti)}catch(n){console.error("Authentication failed:",n)}finally{s("/")}})()},[s]),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin mb-4",children:f.jsx(tD,{className:"w-12 h-12 text-emerald-300 mx-auto"})}),f.jsx("h2",{className:"text-xl font-semibold text-emerald-100 mb-2",children:"অথেনটিকেশন প্রক্রিয়াধীন..."}),f.jsx("p",{className:"text-emerald-200/70",children:"Authentication in progress..."})]})})}function qD(){const s=bi(),e=[{icon:X4,label:"হোম",label_en:"Home",path:"/"},{icon:_c,label:"নামাজ",label_en:"Prayer",path:"/prayer"},{icon:Sl,label:"কার্যক্রম",label_en:"Activities",path:"/activities"},{icon:Al,label:"প্রোফাইল",label_en:"Profile",path:"/profile"}];return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-sm border-t border-emerald-800/30 px-4 py-2",children:f.jsx("div",{className:"flex justify-around",children:e.map(n=>{const i=s.pathname===n.path;return f.jsxs(os,{to:n.path,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 ${i?"bg-emerald-800/40 text-emerald-300 shadow-lg shadow-emerald-800/20":"text-emerald-200/70 hover:text-emerald-300 hover:bg-emerald-800/20"}`,children:[f.jsx(n.icon,{className:`w-6 h-6 mb-1 ${i?"scale-110":""}`}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-xs font-medium ${i?"text-emerald-200":""}`,children:n.label}),f.jsx("div",{className:"text-[10px] opacity-70",children:n.label_en})]})]},n.path)})})})}function HD({isOpen:s,onClose:e}){const{user:n,signOut:i}=Ai(),[l,c]=L.useState(!1),d=cp();L.useEffect(()=>{n&&p()},[n]);const p=async()=>{var v;if(!n){c(!1);return}if(n.email==="vaitanvir833@gmail.com"){c(!0);return}try{const E=tt(je,"members"),A=[],j=await Ut(Kt(E,Xn("user_id","==",n.id)));if(A.push(...j.docs),n.email){const Q=await Ut(Kt(E,Xn("email","==",n.email)));A.push(...Q.docs)}const F=(v=A[0])==null?void 0:v.data();c(!!(F!=null&&F.is_admin))}catch(E){console.error("Failed to check admin status:",E),c(!1)}},g=()=>{const v=[{icon:vi,label:"ইভেন্ট",label_en:"Events",href:"#"},{icon:_c,label:"সদস্য",label_en:"Members",href:"#"},{icon:ap,label:"গ্যালারি",label_en:"Gallery",href:"/gallery"},{icon:di,label:"সদস্য হওয়ার আবেদন",label_en:"Apply for Membership",href:"/application"},{icon:ZE,label:"দান ও চাঁদা",label_en:"Donations & Funds",href:"#"},{icon:Fh,label:"সেটিংস",label_en:"Settings",href:"#"},{icon:J4,label:"সম্পর্কে",label_en:"About",href:"#"}];return l&&v.unshift({icon:ha,label:"অ্যাডমিন প্যানেল",label_en:"Admin Panel",href:"/admin"}),v},y=v=>{d(v),e()};return f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:e}),f.jsx("div",{className:`fixed top-0 right-0 h-full w-72 sm:w-80 bg-gradient-to-b from-slate-800 to-slate-900 border-l border-emerald-800/30 transform transition-transform duration-300 z-50 ${s?"translate-x-0":"translate-x-full"}`,children:f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"p-4 flex-shrink-0",children:[f.jsx("div",{className:"flex items-center justify-end mb-6",children:f.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-emerald-800/20 transition-colors",children:f.jsx(fs,{className:"w-5 h-5 text-emerald-300"})})}),n&&f.jsx("div",{className:"bg-emerald-900/30 rounded-lg p-4 mb-6 border border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[n.avatar_url&&f.jsx("img",{src:n.avatar_url,alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-emerald-300"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-emerald-100",children:n.name||n.email}),f.jsx("p",{className:"text-sm text-emerald-200/70",children:n.email})]})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:f.jsx("nav",{className:"space-y-2 pb-4",children:g().map((v,E)=>f.jsxs("button",{onClick:()=>v.href!=="#"?y(v.href):null,className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors group ${v.href==="#"?"opacity-50 cursor-not-allowed":""} ${v.label==="অ্যাডমিন প্যানেল"?"hover:bg-yellow-800/20 border border-yellow-600/30":"hover:bg-emerald-800/20"}`,disabled:v.href==="#",children:[f.jsx(v.icon,{className:`w-5 h-5 ${v.label==="অ্যাডমিন প্যানেল"?"text-yellow-300 group-hover:text-yellow-200":"text-emerald-300 group-hover:text-emerald-200"}`}),f.jsxs("div",{children:[f.jsx("div",{className:`font-medium ${v.label==="অ্যাডমিন প্যানেল"?"text-yellow-100 group-hover:text-yellow-50":"text-white group-hover:text-emerald-100"}`,children:v.label}),f.jsx("div",{className:`text-xs ${v.label==="অ্যাডমিন প্যানেল"?"text-yellow-200/70":"text-emerald-200/70"}`,children:v.label_en})]})]},E))})}),n&&f.jsx("div",{className:"p-4 border-t border-emerald-800/30 flex-shrink-0",children:f.jsx("button",{onClick:i,className:"w-full px-4 py-3 bg-red-900/30 hover:bg-red-900/50 text-red-200 rounded-lg transition-colors border border-red-800/30",children:"লগ আউট (Logout)"})})]})})]})}function FD(){const[s,e]=L.useState(!1),{user:n}=Ai();return f.jsxs(f.Fragment,{children:[f.jsx("header",{className:"sticky top-0 z-40 bg-slate-900/95 backdrop-blur-sm border-b border-emerald-800/30",children:f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-emerald-300 to-emerald-100 bg-clip-text text-transparent",children:"সিরাতুল সাবিকুন"}),f.jsx("p",{className:"text-xs text-emerald-200/70",children:"Siratul Sabiqun"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[!n&&f.jsxs(os,{to:"/application",className:"hidden sm:flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",children:[f.jsx(di,{className:"w-4 h-4"}),f.jsx("span",{children:"সদস্য হওয়ার আবেদন"})]}),f.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-lg hover:bg-emerald-800/20 transition-colors",children:f.jsx(hD,{className:"w-6 h-6 text-emerald-300"})})]})]})}),f.jsx(HD,{isOpen:s,onClose:()=>e(!1)})]})}function GD(){return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900 text-white",children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(FD,{}),f.jsx("main",{className:"flex-1 pb-20",children:f.jsx(NT,{})}),f.jsx(qD,{})]})})}function $D(){const e=typeof window<"u"&&/\.github\.io$/i.test(window.location.hostname)?"/siratulsabiqun":"/";return f.jsx(S4,{children:f.jsx(ZT,{basename:e,children:f.jsxs(CT,{children:[f.jsx(Cr,{path:"/auth/callback",element:f.jsx(BD,{})}),f.jsxs(Cr,{path:"/",element:f.jsx(GD,{}),children:[f.jsx(Cr,{index:!0,element:f.jsx(ID,{})}),f.jsx(Cr,{path:"prayer",element:f.jsx(DD,{})}),f.jsx(Cr,{path:"activities",element:f.jsx(OD,{})}),f.jsx(Cr,{path:"gallery",element:f.jsx(UD,{})}),f.jsx(Cr,{path:"profile",element:f.jsx(kD,{})}),f.jsx(Cr,{path:"admin",element:f.jsx(LD,{})}),f.jsx(Cr,{path:"application",element:f.jsx(zD,{})})]})]})})})}Vw.createRoot(document.getElementById("root")).render(f.jsx(L.StrictMode,{children:f.jsx($D,{})}));
